
-----------
QUERY:
CREATE TEMP TABLE x (
	a serial,
	b int,
	c text not null default 'stuff',
	d text,
	e text
) ;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE x (\n\ta serial,\n\tb int,\n\tc text not null default 'stuff',\n\td text,\n\te ' at line 1")

-----------
QUERY:


CREATE FUNCTION fn_x_before () RETURNS TRIGGER AS '
  BEGIN
		NEW.e := ''before trigger fired''::text;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TRIGGER AS '\n  BEGIN\n\t\tNEW.e := ''before trigger fired''::text' at line 1")

-----------
QUERY:

		return NEW;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'return NEW' at line 1")

-----------
QUERY:

	END;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'END' at line 1")

-----------
QUERY:

' LANGUAGE plpgsql;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' LANGUAGE plpgsql' at line 1")

-----------
QUERY:


CREATE FUNCTION fn_x_after () RETURNS TRIGGER AS '
  BEGIN
		UPDATE x set e=''after trigger fired'' where c=''stuff'';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TRIGGER AS '\n  BEGIN\n\t\tUPDATE x set e=''after trigger fired'' where c=''stuff''' at line 1")

-----------
QUERY:

		return NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'return NULL' at line 1")

-----------
QUERY:

	END;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'END' at line 1")

-----------
QUERY:

' LANGUAGE plpgsql;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' LANGUAGE plpgsql' at line 1")

-----------
QUERY:


CREATE TRIGGER trg_x_after AFTER INSERT ON x
FOR EACH ROW EXECUTE PROCEDURE fn_x_after();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'PROCEDURE fn_x_after()' at line 2")

-----------
QUERY:


CREATE TRIGGER trg_x_before BEFORE INSERT ON x
FOR EACH ROW EXECUTE PROCEDURE fn_x_before();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'PROCEDURE fn_x_before()' at line 2")

-----------
QUERY:


COPY x (a, b, c, d, e) from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x (a, b, c, d, e) from stdin' at line 1")

-----------
QUERY:

9999	\N	\\N	\NN	\N
10000	21	31	41	51
-- \.

COPY x (b, d) from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '9999\t\\N\t\\\\N\t\\NN\t\\N\n10000\t21\t31\t41\t51\n-- \\.\n\nCOPY x (b, d) from stdin' at line 1")

-----------
QUERY:

1	test_1
-- \.

COPY x (b, d) from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1\ttest_1\n-- \\.\n\nCOPY x (b, d) from stdin' at line 1")

-----------
QUERY:

2	test_2
3	test_3
4	test_4
5	test_5
-- \.

COPY x (a, b, c, d, e) from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '2\ttest_2\n3\ttest_3\n4\ttest_4\n5\ttest_5\n-- \\.\n\nCOPY x (a, b, c, d, e) from stdin' at line 1")

-----------
QUERY:

10001	22	32	42	52
10002	23	33	43	53
10003	24	34	44	54
10004	25	35	45	55
10005	26	36	46	56
-- \.

-- non-existent column in column list: should fail
COPY x (xyz) from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '10001\t22\t32\t42\t52\n10002\t23\t33\t43\t53\n10003\t24\t34\t44\t54\n10004\t25\t35\t45\t55\n10005\t26' at line 1")

-----------
QUERY:


-- redundant options
COPY x from stdin (format CSV, FORMAT CSV);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (format CSV, FORMAT CSV)' at line 2")

-----------
QUERY:

COPY x from stdin (freeze off, freeze on);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (freeze off, freeze on)' at line 1")

-----------
QUERY:

COPY x from stdin (delimiter ',', delimiter ',');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (delimiter ',', delimiter ',')' at line 1")

-----------
QUERY:

COPY x from stdin (null ' ', null ' ');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (null ' ', null ' ')' at line 1")

-----------
QUERY:

COPY x from stdin (header off, header on);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (header off, header on)' at line 1")

-----------
QUERY:

COPY x from stdin (quote ':', quote ':');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (quote ':', quote ':')' at line 1")

-----------
QUERY:

COPY x from stdin (escape ':', escape ':');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (escape ':', escape ':')' at line 1")

-----------
QUERY:

COPY x from stdin (force_quote (a), force_quote *);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (force_quote (a), force_quote *)' at line 1")

-----------
QUERY:

COPY x from stdin (force_not_null (a), force_not_null (b));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (force_not_null (a), force_not_null (b))' at line 1")

-----------
QUERY:

COPY x from stdin (force_null (a), force_null (b));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (force_null (a), force_null (b))' at line 1")

-----------
QUERY:

COPY x from stdin (convert_selectively (a), convert_selectively (b));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (convert_selectively (a), convert_selectively (b))' at line 1")

-----------
QUERY:

COPY x from stdin (encoding 'sql_ascii', encoding 'sql_ascii');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (encoding 'sql_ascii', encoding 'sql_ascii')' at line 1")

-----------
QUERY:

COPY x from stdin (on_error ignore, on_error ignore);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (on_error ignore, on_error ignore)' at line 1")

-----------
QUERY:


-- incorrect options
COPY x to stdin (format BINARY, delimiter ',');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x to stdin (format BINARY, delimiter ',')' at line 2")

-----------
QUERY:

COPY x to stdin (format BINARY, null 'x');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x to stdin (format BINARY, null 'x')' at line 1")

-----------
QUERY:

COPY x from stdin (format BINARY, on_error ignore);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (format BINARY, on_error ignore)' at line 1")

-----------
QUERY:

COPY x from stdin (on_error unsupported);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (on_error unsupported)' at line 1")

-----------
QUERY:

COPY x to stdin (format TEXT, force_quote(a));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x to stdin (format TEXT, force_quote(a))' at line 1")

-----------
QUERY:

COPY x from stdin (format CSV, force_quote(a));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin (format CSV, force_quote(a))' at line 1")

-----------
QUERY:

COPY x to stdout (format TEXT, force_not_null(a));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x to stdout (format TEXT, force_not_null(a))' at line 1")

-----------
QUERY:

COPY x to stdin (format CSV, force_not_null(a));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x to stdin (format CSV, force_not_null(a))' at line 1")

-----------
QUERY:

COPY x to stdout (format TEXT, force_null(a));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x to stdout (format TEXT, force_null(a))' at line 1")

-----------
QUERY:

COPY x to stdin (format CSV, force_null(a));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x to stdin (format CSV, force_null(a))' at line 1")

-----------
QUERY:

COPY x to stdin (format BINARY, on_error unsupported);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x to stdin (format BINARY, on_error unsupported)' at line 1")

-----------
QUERY:


-- too many columns in column list: should fail
COPY x (a, b, c, d, e, d, c) from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x (a, b, c, d, e, d, c) from stdin' at line 2")

-----------
QUERY:


-- missing data: should fail
COPY x from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin' at line 2")

-----------
QUERY:


-- \.
COPY x from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin' at line 2")

-----------
QUERY:

2000	230	23	23
-- \.
COPY x from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '2000\t230\t23\t23\n-- \\.\nCOPY x from stdin' at line 1")

-----------
QUERY:

2001	231	\N	\N
-- \.

-- extra data: should fail
COPY x from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '2001\t231\t\\N\t\\N\n-- \\.\n\n-- extra data: should fail\nCOPY x from stdin' at line 1")

-----------
QUERY:

2002	232	40	50	60	70	80
-- \.

-- various COPY options: delimiters, oids, NULL string, encoding
COPY x (b, c, d, e) from stdin delimiter ',' null 'x';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '2002\t232\t40\t50\t60\t70\t80\n-- \\.\n\n-- various COPY options: delimiters, oids, NULL s' at line 1")

-----------
QUERY:

x,45,80,90
x,\x,\\x,\\\x
x,\,,\\\,,\\
-- \.

COPY x from stdin WITH DELIMITER AS ';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'x,45,80,90\nx,\\x,\\\\x,\\\\\\x\nx,\\,,\\\\\\,,\\\\\n-- \\.\n\nCOPY x from stdin WITH DELIMITER AS' at line 1")

-----------
QUERY:
' NULL AS '';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' NULL AS ''' at line 1")

-----------
QUERY:

3000;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '3000' at line 1")

-----------
QUERY:
;
RESULT:
	ERROR - (1065, 'Query was empty')

-----------
QUERY:
c;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'c' at line 1")

-----------
QUERY:
;
RESULT:
	ERROR - (1065, 'Query was empty')

-----------
QUERY:

-- \.

COPY x from stdin WITH DELIMITER AS ':' NULL AS E'\\X' ENCODING 'sql_ascii';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin WITH DELIMITER AS ':' NULL AS E'\\\\X' ENCODING 'sql_ascii'' at line 3")

-----------
QUERY:

4000:\X:C:\X:\X
4001:1:empty::
4002:2:null:\X:\X
4003:3:Backslash:\\:\\
4004:4:BackslashX:\\X:\\X
4005:5:N:\N:\N
4006:6:BackslashN:\\N:\\N
4007:7:XX:\XX:\XX
4008:8:Delimiter:\::\:
-- \.

COPY x TO stdout WHERE a = 1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '4000:\\X:C:\\X:\\X\n4001:1:empty::\n4002:2:null:\\X:\\X\n4003:3:Backslash:\\\\:\\\\\n4004:4:B' at line 1")

-----------
QUERY:

COPY x from stdin WHERE a = 50004;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin WHERE a = 50004' at line 1")

-----------
QUERY:

50003	24	34	44	54
50004	25	35	45	55
50005	26	36	46	56
-- \.

COPY x from stdin WHERE a > 60003;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '50003\t24\t34\t44\t54\n50004\t25\t35\t45\t55\n50005\t26\t36\t46\t56\n-- \\.\n\nCOPY x from stdin W' at line 1")

-----------
QUERY:

60001	22	32	42	52
60002	23	33	43	53
60003	24	34	44	54
60004	25	35	45	55
60005	26	36	46	56
-- \.

COPY x from stdin WHERE f > 60003;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '60001\t22\t32\t42\t52\n60002\t23\t33\t43\t53\n60003\t24\t34\t44\t54\n60004\t25\t35\t45\t55\n60005\t26' at line 1")

-----------
QUERY:


COPY x from stdin WHERE a = max(x.b);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin WHERE a = max(x.b)' at line 1")

-----------
QUERY:


COPY x from stdin WHERE a IN (SELECT 1 FROM x);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin WHERE a IN (SELECT 1 FROM x)' at line 1")

-----------
QUERY:


COPY x from stdin WHERE a IN (generate_series(1,5));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin WHERE a IN (generate_series(1,5))' at line 1")

-----------
QUERY:


COPY x from stdin WHERE a = row_number() over(b);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x from stdin WHERE a = row_number() over(b)' at line 1")

-----------
QUERY:



-- check results of copy in
SELECT * FROM x;
RESULT:
	ERROR - (1146, "Table 'test.x' doesn't exist")

-----------
QUERY:


-- check copy out
COPY x TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x TO stdout' at line 2")

-----------
QUERY:

COPY x (c, e) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x (c, e) TO stdout' at line 1")

-----------
QUERY:

COPY x (b, e) TO stdout WITH NULL 'I''m null';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY x (b, e) TO stdout WITH NULL 'I''m null'' at line 1")

-----------
QUERY:


CREATE TEMP TABLE y (
	col1 text,
	col2 text
);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE y (\n\tcol1 text,\n\tcol2 text\n)' at line 1")

-----------
QUERY:


INSERT INTO y VALUES ('Jackson, Sam', E'\\h');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''\\\\h')' at line 1")

-----------
QUERY:

INSERT INTO y VALUES ('It is "perfect".',E'\t');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''\\t')' at line 1")

-----------
QUERY:

INSERT INTO y VALUES ('', NULL);
RESULT:
	ERROR - (1146, "Table 'test.y' doesn't exist")

-----------
QUERY:


COPY y TO stdout WITH CSV;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY y TO stdout WITH CSV' at line 1")

-----------
QUERY:

COPY y TO stdout WITH CSV QUOTE '''' DELIMITER '|';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY y TO stdout WITH CSV QUOTE '''' DELIMITER '|'' at line 1")

-----------
QUERY:

COPY y TO stdout WITH CSV FORCE QUOTE col2 ESCAPE E'\\' ENCODING 'sql_ascii';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY y TO stdout WITH CSV FORCE QUOTE col2 ESCAPE E'\\\\' ENCODING 'sql_ascii'' at line 1")

-----------
QUERY:

COPY y TO stdout WITH CSV FORCE QUOTE *;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY y TO stdout WITH CSV FORCE QUOTE *' at line 1")

-----------
QUERY:


-- Repeat above tests with new 9.0 option syntax

COPY y TO stdout (FORMAT CSV);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY y TO stdout (FORMAT CSV)' at line 3")

-----------
QUERY:

COPY y TO stdout (FORMAT CSV, QUOTE '''', DELIMITER '|');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY y TO stdout (FORMAT CSV, QUOTE '''', DELIMITER '|')' at line 1")

-----------
QUERY:

COPY y TO stdout (FORMAT CSV, FORCE_QUOTE (col2), ESCAPE E'\\');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY y TO stdout (FORMAT CSV, FORCE_QUOTE (col2), ESCAPE E'\\\\')' at line 1")

-----------
QUERY:

COPY y TO stdout (FORMAT CSV, FORCE_QUOTE *);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY y TO stdout (FORMAT CSV, FORCE_QUOTE *)' at line 1")

-----------
QUERY:


-- \copy y TO stdout (FORMAT CSV)
-- \copy y TO stdout (FORMAT CSV, QUOTE /* REPLACED */ ''/* REPLACED */ ''/* REPLACED */ ''/* REPLACED */ '', DELIMITER /* REPLACED */ ''|/* REPLACED */ '')
-- \copy y TO stdout (FORMAT CSV, FORCE_QUOTE (col2), ESCAPE E/* REPLACED */ ''\\/* REPLACED */ '')
-- \copy y TO stdout (FORMAT CSV, FORCE_QUOTE *)

--test that we read consecutive LFs properly

CREATE TEMP TABLE testnl (a int, b text, c int);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '--test that we read consecutive LFs properly\n\nCREATE TEMP TABLE testnl (a int, b' at line 6")

-----------
QUERY:


COPY testnl FROM stdin CSV;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY testnl FROM stdin CSV' at line 1")

-----------
QUERY:

1,"a field with two LFs

inside",2
-- \.

-- test end of copy marker
CREATE TEMP TABLE testeoc (a text);
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'1,"a field with two LFs\n\ninside",2\n-- \\.\n\n-- test end of copy marker\nCREATE TEMP\' at line 1')

-----------
QUERY:


COPY testeoc FROM stdin CSV;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY testeoc FROM stdin CSV' at line 1")

-----------
QUERY:

a\.
-- \.b
c\.d
"\."
-- \.

COPY testeoc TO stdout CSV;
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'a\\.\n-- \\.b\nc\\.d\n"\\."\n-- \\.\n\nCOPY testeoc TO stdout CSV\' at line 1')

-----------
QUERY:


-- test handling of nonstandard null marker that violates escaping rules

CREATE TEMP TABLE testnull(a int, b text);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE testnull(a int, b text)' at line 3")

-----------
QUERY:

INSERT INTO testnull VALUES (1, E'\\0'), (NULL, NULL);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''\\\\0'), (NULL, NULL)' at line 1")

-----------
QUERY:


COPY testnull TO stdout WITH NULL AS E'\\0';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY testnull TO stdout WITH NULL AS E'\\\\0'' at line 1")

-----------
QUERY:


COPY testnull FROM stdin WITH NULL AS E'\\0';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY testnull FROM stdin WITH NULL AS E'\\\\0'' at line 1")

-----------
QUERY:

42	\\0
-- \0	\0
-- \.

SELECT * FROM testnull;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '42\t\\\\0\n-- \\0\t\\0\n-- \\.\n\nSELECT * FROM testnull' at line 1")

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

CREATE TABLE vistest (LIKE testeoc);
RESULT:
	ERROR - (1146, "Table 'test.testeoc' doesn't exist")

-----------
QUERY:

COPY vistest FROM stdin CSV;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY vistest FROM stdin CSV' at line 1")

-----------
QUERY:

a0
b
-- \.
COMMIT;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'a0\nb\n-- \\.\nCOMMIT' at line 1")

-----------
QUERY:

SELECT * FROM vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

TRUNCATE vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

COPY vistest FROM stdin CSV;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY vistest FROM stdin CSV' at line 1")

-----------
QUERY:

a1
b
-- \.
SELECT * FROM vistest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'a1\nb\n-- \\.\nSELECT * FROM vistest' at line 1")

-----------
QUERY:

SAVEPOINT s1;
RESULT:
	[]

-----------
QUERY:

TRUNCATE vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

COPY vistest FROM stdin CSV;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY vistest FROM stdin CSV' at line 1")

-----------
QUERY:

d1
e
-- \.
SELECT * FROM vistest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'd1\ne\n-- \\.\nSELECT * FROM vistest' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:

SELECT * FROM vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

TRUNCATE vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

COPY vistest FROM stdin CSV FREEZE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY vistest FROM stdin CSV FREEZE' at line 1")

-----------
QUERY:

a2
b
-- \.
SELECT * FROM vistest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'a2\nb\n-- \\.\nSELECT * FROM vistest' at line 1")

-----------
QUERY:

SAVEPOINT s1;
RESULT:
	[]

-----------
QUERY:

TRUNCATE vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

COPY vistest FROM stdin CSV FREEZE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY vistest FROM stdin CSV FREEZE' at line 1")

-----------
QUERY:

d2
e
-- \.
SELECT * FROM vistest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'd2\ne\n-- \\.\nSELECT * FROM vistest' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:

SELECT * FROM vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

TRUNCATE vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

COPY vistest FROM stdin CSV FREEZE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY vistest FROM stdin CSV FREEZE' at line 1")

-----------
QUERY:

x
y
-- \.
SELECT * FROM vistest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'x\ny\n-- \\.\nSELECT * FROM vistest' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:

TRUNCATE vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

COPY vistest FROM stdin CSV FREEZE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY vistest FROM stdin CSV FREEZE' at line 1")

-----------
QUERY:

p
g
-- \.
BEGIN;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'p\ng\n-- \\.\nBEGIN' at line 1")

-----------
QUERY:

TRUNCATE vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

SAVEPOINT s1;
RESULT:
	[]

-----------
QUERY:

COPY vistest FROM stdin CSV FREEZE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY vistest FROM stdin CSV FREEZE' at line 1")

-----------
QUERY:

m
k
-- \.
COMMIT;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'm\nk\n-- \\.\nCOMMIT' at line 1")

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vistest VALUES ('z');
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

SAVEPOINT s1;
RESULT:
	[]

-----------
QUERY:

TRUNCATE vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

ROLLBACK TO SAVEPOINT s1;
RESULT:
	ERROR - (1305, 'SAVEPOINT s1 does not exist')

-----------
QUERY:

COPY vistest FROM stdin CSV FREEZE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY vistest FROM stdin CSV FREEZE' at line 1")

-----------
QUERY:

d3
e
-- \.
COMMIT;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'd3\ne\n-- \\.\nCOMMIT' at line 1")

-----------
QUERY:

CREATE FUNCTION truncate_in_subxact() RETURNS VOID AS
$$
BEGIN
	TRUNCATE vistest;
EXCEPTION
  WHEN OTHERS THEN
	INSERT INTO vistest VALUES ('subxact failure');
END;
$$ language plpgsql;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VOID AS\n$$\nBEGIN\n\tTRUNCATE vistest;\nEXCEPTION\n  WHEN OTHERS THEN\n\tINSERT INTO vi' at line 1")

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vistest VALUES ('z');
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

SELECT truncate_in_subxact();
RESULT:
	ERROR - (1305, 'FUNCTION test.truncate_in_subxact does not exist')

-----------
QUERY:

COPY vistest FROM stdin CSV FREEZE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY vistest FROM stdin CSV FREEZE' at line 1")

-----------
QUERY:

d4
e
-- \.
SELECT * FROM vistest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'd4\ne\n-- \\.\nSELECT * FROM vistest' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:

SELECT * FROM vistest;
RESULT:
	ERROR - (1146, "Table 'test.vistest' doesn't exist")

-----------
QUERY:

-- Test FORCE_NOT_NULL and FORCE_NULL options
CREATE TEMP TABLE forcetest (
    a INT NOT NULL,
    b TEXT NOT NULL,
    c TEXT,
    d TEXT,
    e TEXT
);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE forcetest (\n    a INT NOT NULL,\n    b TEXT NOT NULL,\n    c TEXT,\n    ' at line 2")

-----------
QUERY:

-- \pset null NULL
-- should succeed with no effect (/* REPLACED */ ''b/* REPLACED */ '' remains an empty string, /* REPLACED */ ''c/* REPLACED */ '' remains NULL)
BEGIN;
RESULT:
	[]

-----------
QUERY:

COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL(b), FORCE_NULL(c));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL(b), FORCE_N' at line 1")

-----------
QUERY:

1,,""
-- \.
COMMIT;
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'1,,""\n-- \\.\nCOMMIT\' at line 1')

-----------
QUERY:

SELECT b, c FROM forcetest WHERE a = 1;
RESULT:
	ERROR - (1146, "Table 'test.forcetest' doesn't exist")

-----------
QUERY:

-- should succeed, FORCE_NULL and FORCE_NOT_NULL can be both specified
BEGIN;
RESULT:
	[]

-----------
QUERY:

COPY forcetest (a, b, c, d) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL(c,d), FORCE_NULL(c,d));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY forcetest (a, b, c, d) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL(c,d), FO' at line 1")

-----------
QUERY:

2,'a',,""
-- \.
COMMIT;
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'2,\'a\',,""\n-- \\.\nCOMMIT\' at line 1')

-----------
QUERY:

SELECT c, d FROM forcetest WHERE a = 2;
RESULT:
	ERROR - (1146, "Table 'test.forcetest' doesn't exist")

-----------
QUERY:

-- should fail with not-null constraint violation
BEGIN;
RESULT:
	[]

-----------
QUERY:

COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NULL(b), FORCE_NOT_NULL(c));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NULL(b), FORCE_NOT_N' at line 1")

-----------
QUERY:

3,,""
-- \.
ROLLBACK;
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'3,,""\n-- \\.\nROLLBACK\' at line 1')

-----------
QUERY:

-- should fail with /* REPLACED */ ''not referenced by COPY/* REPLACED */ '' error
BEGIN;
RESULT:
	[]

-----------
QUERY:

COPY forcetest (d, e) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL(b));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY forcetest (d, e) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL(b))' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:

-- should fail with /* REPLACED */ ''not referenced by COPY/* REPLACED */ '' error
BEGIN;
RESULT:
	[]

-----------
QUERY:

COPY forcetest (d, e) FROM STDIN WITH (FORMAT csv, FORCE_NULL(b));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY forcetest (d, e) FROM STDIN WITH (FORMAT csv, FORCE_NULL(b))' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:

-- should succeed with no effect (/* REPLACED */ ''b/* REPLACED */ '' remains an empty string, /* REPLACED */ ''c/* REPLACED */ '' remains NULL)
BEGIN;
RESULT:
	[]

-----------
QUERY:

COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL *, FORCE_NULL *);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL *, FORCE_NU' at line 1")

-----------
QUERY:

4,,""
-- \.
COMMIT;
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'4,,""\n-- \\.\nCOMMIT\' at line 1')

-----------
QUERY:

SELECT b, c FROM forcetest WHERE a = 4;
RESULT:
	ERROR - (1146, "Table 'test.forcetest' doesn't exist")

-----------
QUERY:

-- should succeed with effect (/* REPLACED */ ''b/* REPLACED */ '' remains an empty string)
BEGIN;
RESULT:
	[]

-----------
QUERY:

COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL *);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL *)' at line 1")

-----------
QUERY:

5,,""
-- \.
COMMIT;
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'5,,""\n-- \\.\nCOMMIT\' at line 1')

-----------
QUERY:

SELECT b, c FROM forcetest WHERE a = 5;
RESULT:
	ERROR - (1146, "Table 'test.forcetest' doesn't exist")

-----------
QUERY:

-- should succeed with effect (/* REPLACED */ ''c/* REPLACED */ '' remains NULL)
BEGIN;
RESULT:
	[]

-----------
QUERY:

COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NULL *);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NULL *)' at line 1")

-----------
QUERY:

6,"b",""
-- \.
COMMIT;
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'6,"b",""\n-- \\.\nCOMMIT\' at line 1')

-----------
QUERY:

SELECT b, c FROM forcetest WHERE a = 6;
RESULT:
	ERROR - (1146, "Table 'test.forcetest' doesn't exist")

-----------
QUERY:

-- should fail with /* REPLACED */ ''conflicting or redundant options/* REPLACED */ '' error
BEGIN;
RESULT:
	[]

-----------
QUERY:

COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL *, FORCE_NOT_NULL(b));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NOT_NULL *, FORCE_NO' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:

-- should fail with /* REPLACED */ ''conflicting or redundant options/* REPLACED */ '' error
BEGIN;
RESULT:
	[]

-----------
QUERY:

COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NULL *, FORCE_NULL(b));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY forcetest (a, b, c) FROM STDIN WITH (FORMAT csv, FORCE_NULL *, FORCE_NULL(b' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- \pset null /* REPLACED */ ''/* REPLACED */ ''

-- test case with whole-row Var in a check constraint
create table check_con_tbl (f1 int);
RESULT:
	[]

-----------
QUERY:

create function check_con_function(check_con_tbl) returns bool as $$
begin
  raise notice 'input = %', row_to_json($1);
  return $1.f1 > 0;
end $$ language plpgsql immutable;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') returns bool as $$\nbegin\n  raise notice 'input = %', row_to_json($1);\n  return' at line 1")

-----------
QUERY:

alter table check_con_tbl add check (check_con_function(check_con_tbl.*));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '*))' at line 1")

-----------
QUERY:

-- \d+ check_con_tbl
copy check_con_tbl from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy check_con_tbl from stdin' at line 2")

-----------
QUERY:

1
-- \N
-- \.
copy check_con_tbl from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1\n-- \\N\n-- \\.\ncopy check_con_tbl from stdin' at line 1")

-----------
QUERY:

0
-- \.
select * from check_con_tbl;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '0\n-- \\.\nselect * from check_con_tbl' at line 1")

-----------
QUERY:


-- test with RLS enabled.
CREATE ROLE regress_rls_copy_user;
RESULT:
	[]

-----------
QUERY:

CREATE ROLE regress_rls_copy_user_colperms;
RESULT:
	[]

-----------
QUERY:

CREATE TABLE rls_t1 (a int, b int, c int);
RESULT:
	[]

-----------
QUERY:


COPY rls_t1 (a, b, c) from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (a, b, c) from stdin' at line 1")

-----------
QUERY:

1	4	1
2	3	2
3	2	3
4	1	4
-- \.

CREATE POLICY p1 ON rls_t1 FOR SELECT USING (a % 2 = 0);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1\t4\t1\n2\t3\t2\n3\t2\t3\n4\t1\t4\n-- \\.\n\nCREATE POLICY p1 ON rls_t1 FOR SELECT USING (a % ' at line 1")

-----------
QUERY:

ALTER TABLE rls_t1 ENABLE ROW LEVEL SECURITY;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROW LEVEL SECURITY' at line 1")

-----------
QUERY:

ALTER TABLE rls_t1 FORCE ROW LEVEL SECURITY;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROW LEVEL SECURITY' at line 1")

-----------
QUERY:


GRANT SELECT ON TABLE rls_t1 TO regress_rls_copy_user;
RESULT:
	[]

-----------
QUERY:

GRANT SELECT (a, b) ON TABLE rls_t1 TO regress_rls_copy_user_colperms;
RESULT:
	[]

-----------
QUERY:


-- all columns
COPY rls_t1 TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 TO stdout' at line 2")

-----------
QUERY:

COPY rls_t1 (a, b, c) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (a, b, c) TO stdout' at line 1")

-----------
QUERY:


-- subset of columns
COPY rls_t1 (a) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (a) TO stdout' at line 2")

-----------
QUERY:

COPY rls_t1 (a, b) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (a, b) TO stdout' at line 1")

-----------
QUERY:


-- column reordering
COPY rls_t1 (b, a) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (b, a) TO stdout' at line 2")

-----------
QUERY:


SET SESSION AUTHORIZATION regress_rls_copy_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'regress_rls_copy_user' at line 1")

-----------
QUERY:


-- all columns
COPY rls_t1 TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 TO stdout' at line 2")

-----------
QUERY:

COPY rls_t1 (a, b, c) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (a, b, c) TO stdout' at line 1")

-----------
QUERY:


-- subset of columns
COPY rls_t1 (a) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (a) TO stdout' at line 2")

-----------
QUERY:

COPY rls_t1 (a, b) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (a, b) TO stdout' at line 1")

-----------
QUERY:


-- column reordering
COPY rls_t1 (b, a) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (b, a) TO stdout' at line 2")

-----------
QUERY:


RESET SESSION AUTHORIZATION;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION' at line 1")

-----------
QUERY:


SET SESSION AUTHORIZATION regress_rls_copy_user_colperms;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'regress_rls_copy_user_colperms' at line 1")

-----------
QUERY:


-- attempt all columns (should fail)
COPY rls_t1 TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 TO stdout' at line 2")

-----------
QUERY:

COPY rls_t1 (a, b, c) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (a, b, c) TO stdout' at line 1")

-----------
QUERY:


-- try to copy column with no privileges (should fail)
COPY rls_t1 (c) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (c) TO stdout' at line 2")

-----------
QUERY:


-- subset of columns (should succeed)
COPY rls_t1 (a) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (a) TO stdout' at line 2")

-----------
QUERY:

COPY rls_t1 (a, b) TO stdout;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY rls_t1 (a, b) TO stdout' at line 1")

-----------
QUERY:


RESET SESSION AUTHORIZATION;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION' at line 1")

-----------
QUERY:


-- test with INSTEAD OF INSERT trigger on a view
CREATE TABLE instead_of_insert_tbl(id serial, name text);
RESULT:
	[]

-----------
QUERY:

CREATE VIEW instead_of_insert_tbl_view AS SELECT ''::text AS str;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::text AS str' at line 1")

-----------
QUERY:


COPY instead_of_insert_tbl_view FROM stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY instead_of_insert_tbl_view FROM stdin' at line 1")

-----------
QUERY:
 -- fail
test1
-- \.

CREATE FUNCTION fun_instead_of_insert_tbl() RETURNS trigger AS $$
BEGIN
  INSERT INTO instead_of_insert_tbl (name) VALUES (NEW.str);
  RETURN NULL;
END;
$$ LANGUAGE plpgsql;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'test1\n-- \\.\n\nCREATE FUNCTION fun_instead_of_insert_tbl() RETURNS trigger AS $$\nB' at line 2")

-----------
QUERY:

CREATE TRIGGER trig_instead_of_insert_tbl_view
  INSTEAD OF INSERT ON instead_of_insert_tbl_view
  FOR EACH ROW EXECUTE PROCEDURE fun_instead_of_insert_tbl();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INSTEAD OF INSERT ON instead_of_insert_tbl_view\n  FOR EACH ROW EXECUTE PROCEDURE' at line 2")

-----------
QUERY:


COPY instead_of_insert_tbl_view FROM stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY instead_of_insert_tbl_view FROM stdin' at line 1")

-----------
QUERY:

test1
-- \.

SELECT * FROM instead_of_insert_tbl;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'test1\n-- \\.\n\nSELECT * FROM instead_of_insert_tbl' at line 1")

-----------
QUERY:


-- Test of COPY optimization with view using INSTEAD OF INSERT
-- trigger when relation is created in the same transaction as
-- when COPY is executed.
BEGIN;
RESULT:
	[]

-----------
QUERY:

CREATE VIEW instead_of_insert_tbl_view_2 as select ''::text as str;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::text as str' at line 1")

-----------
QUERY:

CREATE TRIGGER trig_instead_of_insert_tbl_view_2
  INSTEAD OF INSERT ON instead_of_insert_tbl_view_2
  FOR EACH ROW EXECUTE PROCEDURE fun_instead_of_insert_tbl();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'INSTEAD OF INSERT ON instead_of_insert_tbl_view_2\n  FOR EACH ROW EXECUTE PROCEDU' at line 2")

-----------
QUERY:


COPY instead_of_insert_tbl_view_2 FROM stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY instead_of_insert_tbl_view_2 FROM stdin' at line 1")

-----------
QUERY:

test1
-- \.

SELECT * FROM instead_of_insert_tbl;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'test1\n-- \\.\n\nSELECT * FROM instead_of_insert_tbl' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:


-- tests for on_error option
CREATE TABLE check_ign_err (n int, m int[], k int);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '[], k int)' at line 2")

-----------
QUERY:

COPY check_ign_err FROM STDIN WITH (on_error stop);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY check_ign_err FROM STDIN WITH (on_error stop)' at line 1")

-----------
QUERY:

1	{1}	1
a	{2}	2
3	{3}	3333333333
4	{a, 4}	4

5	{5}	5
-- \.
COPY check_ign_err FROM STDIN WITH (on_error ignore);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1\t{1}\t1\na\t{2}\t2\n3\t{3}\t3333333333\n4\t{a, 4}\t4\n\n5\t{5}\t5\n-- \\.\nCOPY check_ign_err FR' at line 1")

-----------
QUERY:

1	{1}	1
a	{2}	2
3	{3}	3333333333
4	{a, 4}	4

5	{5}	5
6	a
7	{7}	a
8	{8}	8
-- \.
SELECT * FROM check_ign_err;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1\t{1}\t1\na\t{2}\t2\n3\t{3}\t3333333333\n4\t{a, 4}\t4\n\n5\t{5}\t5\n6\ta\n7\t{7}\ta\n8\t{8}\t8\n-- \\.\nS' at line 1")

-----------
QUERY:


-- test datatype error that can/* REPLACED */ ''t be handled as soft: should fail
CREATE TABLE hard_err(foo widget);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'widget)' at line 2")

-----------
QUERY:

COPY hard_err FROM STDIN WITH (on_error ignore);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COPY hard_err FROM STDIN WITH (on_error ignore)' at line 1")

-----------
QUERY:

1
-- \.

-- test missing data: should fail
COPY check_ign_err FROM STDIN WITH (on_error ignore);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1\n-- \\.\n\n-- test missing data: should fail\nCOPY check_ign_err FROM STDIN WITH (o' at line 1")

-----------
QUERY:

1	{1}
-- \.

-- test extra data: should fail
COPY check_ign_err FROM STDIN WITH (on_error ignore);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1\t{1}\n-- \\.\n\n-- test extra data: should fail\nCOPY check_ign_err FROM STDIN WITH ' at line 1")

-----------
QUERY:

1	{1}	3	abc
-- \.

-- clean up
DROP TABLE forcetest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1\t{1}\t3\tabc\n-- \\.\n\n-- clean up\nDROP TABLE forcetest' at line 1")

-----------
QUERY:

DROP TABLE vistest;
RESULT:
	ERROR - (1051, "Unknown table 'test.vistest'")

-----------
QUERY:

DROP FUNCTION truncate_in_subxact();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '()' at line 1")

-----------
QUERY:

DROP TABLE x, y;
RESULT:
	ERROR - (1051, "Unknown table 'test.x,test.y'")

-----------
QUERY:

DROP TABLE rls_t1 CASCADE;
RESULT:
	[]

-----------
QUERY:

DROP ROLE regress_rls_copy_user;
RESULT:
	[]

-----------
QUERY:

DROP ROLE regress_rls_copy_user_colperms;
RESULT:
	[]

-----------
QUERY:

DROP FUNCTION fn_x_before();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '()' at line 1")

-----------
QUERY:

DROP FUNCTION fn_x_after();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '()' at line 1")

-----------
QUERY:

DROP TABLE instead_of_insert_tbl;
RESULT:
	[]

-----------
QUERY:

DROP VIEW instead_of_insert_tbl_view;
RESULT:
	ERROR - (1051, "Unknown table 'test.instead_of_insert_tbl_view'")

-----------
QUERY:

DROP VIEW instead_of_insert_tbl_view_2;
RESULT:
	ERROR - (1051, "Unknown table 'test.instead_of_insert_tbl_view_2'")

-----------
QUERY:

DROP FUNCTION fun_instead_of_insert_tbl();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '()' at line 1")

-----------
QUERY:

DROP TABLE check_ign_err;
RESULT:
	ERROR - (1051, "Unknown table 'test.check_ign_err'")

-----------
QUERY:

DROP TABLE hard_err;
RESULT:
	ERROR - (1051, "Unknown table 'test.hard_err'")

-----------
QUERY:


--
-- COPY FROM ... DEFAULT
--

create temp table copy_default (
	id integer primary key,
	text_value text not null default 'test',
	ts_value timestamp without time zone not null default '2022-07-05'
);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'temp table copy_default (\n\tid integer primary key,\n\ttext_value text not null def' at line 5")

-----------
QUERY:


-- if DEFAULT is not specified, then the marker will be regular data
copy copy_default from stdin;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin' at line 2")

-----------
QUERY:

1	value	'2022-07-04'
2	\D	'2022-07-05'
-- \.

select id, text_value, ts_value from copy_default;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1\tvalue\t'2022-07-04'\n2\t\\D\t'2022-07-05'\n-- \\.\n\nselect id, text_value, ts_value fr' at line 1")

-----------
QUERY:


truncate copy_default;
RESULT:
	ERROR - (1146, "Table 'test.copy_default' doesn't exist")

-----------
QUERY:


copy copy_default from stdin with (format csv);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin with (format csv)' at line 1")

-----------
QUERY:

1,value,2022-07-04
2,\D,2022-07-05
-- \.

select id, text_value, ts_value from copy_default;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1,value,2022-07-04\n2,\\D,2022-07-05\n-- \\.\n\nselect id, text_value, ts_value from c' at line 1")

-----------
QUERY:


truncate copy_default;
RESULT:
	ERROR - (1146, "Table 'test.copy_default' doesn't exist")

-----------
QUERY:


-- DEFAULT cannot be used in binary mode
copy copy_default from stdin with (format binary, default '\D');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin with (format binary, default '\\D')' at line 2")

-----------
QUERY:


-- DEFAULT cannot be new line nor carriage return
copy copy_default from stdin with (default E'\n');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin with (default E'\\n')' at line 2")

-----------
QUERY:

copy copy_default from stdin with (default E'\r');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin with (default E'\\r')' at line 1")

-----------
QUERY:


-- DELIMITER cannot appear in DEFAULT spec
copy copy_default from stdin with (delimiter ';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin with (delimiter '' at line 2")

-----------
QUERY:
', default 'test;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '', default 'test' at line 1")

-----------
QUERY:
test');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'test')' at line 1")

-----------
QUERY:


-- CSV quote cannot appear in DEFAULT spec
copy copy_default from stdin with (format csv, quote '"', default 'test"test');
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'copy copy_default from stdin with (format csv, quote \'"\', default \'test"test\')\' at line 2')

-----------
QUERY:


-- NULL and DEFAULT spec must be different
copy copy_default from stdin with (default '\N');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin with (default '\\N')' at line 2")

-----------
QUERY:


-- cannot use DEFAULT marker in column that has no DEFAULT value
copy copy_default from stdin with (default '\D');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin with (default '\\D')' at line 2")

-----------
QUERY:

-- \D	value	/* REPLACED */ ''2022-07-04/* REPLACED */ ''
2	\D	'2022-07-05'
-- \.

copy copy_default from stdin with (format csv, default '\D');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '2\t\\D\t'2022-07-05'\n-- \\.\n\ncopy copy_default from stdin with (format csv, default ' at line 2")

-----------
QUERY:

-- \D,value,2022-07-04
2,\D,2022-07-05
-- \.

-- The DEFAULT marker must be unquoted and unescaped or it/* REPLACED */ ''s not recognized
copy copy_default from stdin with (default '\D');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '2,\\D,2022-07-05\n-- \\.\n\n-- The DEFAULT marker must be unquoted and unescaped or i' at line 2")

-----------
QUERY:

1	\D	'2022-07-04'
2	\\D	'2022-07-04'
3	"\D"	'2022-07-04'
-- \.

select id, text_value, ts_value from copy_default;
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'1\t\\D\t\'2022-07-04\'\n2\t\\\\D\t\'2022-07-04\'\n3\t"\\D"\t\'2022-07-04\'\n-- \\.\n\nselect id, text_\' at line 1')

-----------
QUERY:


truncate copy_default;
RESULT:
	ERROR - (1146, "Table 'test.copy_default' doesn't exist")

-----------
QUERY:


copy copy_default from stdin with (format csv, default '\D');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin with (format csv, default '\\D')' at line 1")

-----------
QUERY:

1,\D,2022-07-04
2,\\D,2022-07-04
3,"\D",2022-07-04
-- \.

select id, text_value, ts_value from copy_default;
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'1,\\D,2022-07-04\n2,\\\\D,2022-07-04\n3,"\\D",2022-07-04\n-- \\.\n\nselect id, text_value,\' at line 1')

-----------
QUERY:


truncate copy_default;
RESULT:
	ERROR - (1146, "Table 'test.copy_default' doesn't exist")

-----------
QUERY:


-- successful usage of DEFAULT option in COPY
copy copy_default from stdin with (default '\D');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin with (default '\\D')' at line 2")

-----------
QUERY:

1	value	'2022-07-04'
2	\D	'2022-07-03'
3	\D	\D
-- \.

select id, text_value, ts_value from copy_default;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1\tvalue\t'2022-07-04'\n2\t\\D\t'2022-07-03'\n3\t\\D\t\\D\n-- \\.\n\nselect id, text_value, ts_' at line 1")

-----------
QUERY:


truncate copy_default;
RESULT:
	ERROR - (1146, "Table 'test.copy_default' doesn't exist")

-----------
QUERY:


copy copy_default from stdin with (format csv, default '\D');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy copy_default from stdin with (format csv, default '\\D')' at line 1")

-----------
QUERY:

1,value,2022-07-04
2,\D,2022-07-03
3,\D,\D
-- \.

select id, text_value, ts_value from copy_default;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1,value,2022-07-04\n2,\\D,2022-07-03\n3,\\D,\\D\n-- \\.\n\nselect id, text_value, ts_valu' at line 1")

-----------
QUERY:


truncate copy_default;
RESULT:
	ERROR - (1146, "Table 'test.copy_default' doesn't exist")

-----------
QUERY:


-- DEFAULT cannot be used in COPY TO
copy (select 1 as test) TO stdout with (default '\D');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'copy (select 1 as test) TO stdout with (default '\\D')' at line 2")
