--
-- Test foreign-data wrapper and server management.
--

-- directory paths and dlsuffix are passed to us in environment variables
-- \getenv libdir ''/home/keuscha/Documents/FS2024/AST/project/postgresql/src/test/regress''
-- \getenv dlsuffix ''.so''

-- \set regresslib /* REPLACED */ ''/home/keuscha/Documents/FS2024/AST/project/postgresql/src/test/regress'' ''/regress'' /* REPLACED */ ''.so''

CREATE FUNCTION test_fdw_handler()
    RETURNS fdw_handler
    AS /* REPLACED */ '/home/keuscha/Documents/FS2024/AST/project/postgresql/src/test/regress/regress.so', 'test_fdw_handler'
    LANGUAGE C
ERROR: --
-- Test foreign-data wrapper and server management.
--

-- directory paths and dlsuffix are passed to us in environment variables
-- \getenv libdir ''/home/keuscha/Documents/FS2024/AST/project/postgresql/src/test/regress''
-- \getenv dlsuffix ''.so''

-- \set regresslib /* REPLACED */ ''/home/keuscha/Documents/FS2024/AST/project/postgresql/src/test/regress'' ''/regress'' /* REPLACED */ ''.so''

CREATE FUNCTION test_fdw_handler()
    RETURNS fdw_handler
    AS /* REPLACED */ '/home/keuscha/Documents/FS2024/AST/project/postgresql/src/test/regress/regress.so', 'test_fdw_handler'
    LANGUAGE C

Parser Error: syntax error at or near "RETURNS"


-- Clean up in case a prior regression run failed

-- Suppress NOTICE messages when roles don''t exist
SET client_min_messages TO 'warning'
ERROR: 

-- Clean up in case a prior regression run failed

-- Suppress NOTICE messages when roles don''t exist
SET client_min_messages TO 'warning'

Catalog Error: unrecognized configuration parameter "client_min_messages"

Did you mean: "schema"


DROP ROLE IF EXISTS regress_foreign_data_user, regress_test_role, regress_test_role2, regress_test_role_super, regress_test_indirect, regress_unprivileged_role
ERROR: 

DROP ROLE IF EXISTS regress_foreign_data_user, regress_test_role, regress_test_role2, regress_test_role_super, regress_test_indirect, regress_unprivileged_role

Parser Error: syntax error at or near "ROLE"


RESET client_min_messages
ERROR: 

RESET client_min_messages

Catalog Error: unrecognized configuration parameter "client_min_messages"

Did you mean: "schema"


CREATE ROLE regress_foreign_data_user LOGIN SUPERUSER
ERROR: 

CREATE ROLE regress_foreign_data_user LOGIN SUPERUSER

Parser Error: syntax error at or near "ROLE"

SET SESSION AUTHORIZATION 'regress_foreign_data_user'
ERROR: 
SET SESSION AUTHORIZATION 'regress_foreign_data_user'

Parser Error: syntax error at or near "AUTHORIZATION"


CREATE ROLE regress_test_role
ERROR: 

CREATE ROLE regress_test_role

Parser Error: syntax error at or near "ROLE"

CREATE ROLE regress_test_role2
ERROR: 
CREATE ROLE regress_test_role2

Parser Error: syntax error at or near "ROLE"

CREATE ROLE regress_test_role_super SUPERUSER
ERROR: 
CREATE ROLE regress_test_role_super SUPERUSER

Parser Error: syntax error at or near "ROLE"

CREATE ROLE regress_test_indirect
ERROR: 
CREATE ROLE regress_test_indirect

Parser Error: syntax error at or near "ROLE"

CREATE ROLE regress_unprivileged_role
ERROR: 
CREATE ROLE regress_unprivileged_role

Parser Error: syntax error at or near "ROLE"


CREATE FOREIGN DATA WRAPPER dummy
ERROR: 

CREATE FOREIGN DATA WRAPPER dummy

Parser Error: syntax error at or near "FOREIGN"

COMMENT ON FOREIGN DATA WRAPPER dummy IS 'useless'
ERROR: 
COMMENT ON FOREIGN DATA WRAPPER dummy IS 'useless'

Parser Error: syntax error at or near "FOREIGN"

CREATE FOREIGN DATA WRAPPER postgresql VALIDATOR postgresql_fdw_validator
ERROR: 
CREATE FOREIGN DATA WRAPPER postgresql VALIDATOR postgresql_fdw_validator

Parser Error: syntax error at or near "FOREIGN"


-- At this point we should have 2 built-in wrappers and no servers.
SELECT fdwname, fdwhandler::regproc, fdwvalidator::regproc, fdwoptions FROM pg_foreign_data_wrapper ORDER BY 1, 2, 3
ERROR: 

-- At this point we should have 2 built-in wrappers and no servers.
SELECT fdwname, fdwhandler::regproc, fdwvalidator::regproc, fdwoptions FROM pg_foreign_data_wrapper ORDER BY 1, 2, 3

Catalog Error: Table with name pg_foreign_data_wrapper does not exist!
Did you mean "pg_database"?

SELECT srvname, srvoptions FROM pg_foreign_server
ERROR: 
SELECT srvname, srvoptions FROM pg_foreign_server

Catalog Error: Table with name pg_foreign_server does not exist!
Did you mean "pg_index"?

SELECT * FROM pg_user_mapping
ERROR: 
SELECT * FROM pg_user_mapping

Catalog Error: Table with name pg_user_mapping does not exist!
Did you mean "pg_settings"?


-- CREATE FOREIGN DATA WRAPPER
CREATE FOREIGN DATA WRAPPER foo VALIDATOR bar
ERROR: 

-- CREATE FOREIGN DATA WRAPPER
CREATE FOREIGN DATA WRAPPER foo VALIDATOR bar

Parser Error: syntax error at or near "FOREIGN"
            -- ERROR
CREATE FOREIGN DATA WRAPPER foo
ERROR:             -- ERROR
CREATE FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "FOREIGN"

-- \dew

CREATE FOREIGN DATA WRAPPER foo
ERROR: 
-- \dew

CREATE FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "FOREIGN"
 -- duplicate
DROP FOREIGN DATA WRAPPER foo
ERROR:  -- duplicate
DROP FOREIGN DATA WRAPPER foo

Not implemented Error: Cannot drop this type yet

CREATE FOREIGN DATA WRAPPER foo OPTIONS (testing '1')
ERROR: 
CREATE FOREIGN DATA WRAPPER foo OPTIONS (testing '1')

Parser Error: syntax error at or near "FOREIGN"

-- \dew+

DROP FOREIGN DATA WRAPPER foo
ERROR: 
-- \dew+

DROP FOREIGN DATA WRAPPER foo

Not implemented Error: Cannot drop this type yet

CREATE FOREIGN DATA WRAPPER foo OPTIONS (testing '1', testing '2')
ERROR: 
CREATE FOREIGN DATA WRAPPER foo OPTIONS (testing '1', testing '2')

Parser Error: syntax error at or near "FOREIGN"
   -- ERROR
CREATE FOREIGN DATA WRAPPER foo OPTIONS (testing '1', another '2')
ERROR:    -- ERROR
CREATE FOREIGN DATA WRAPPER foo OPTIONS (testing '1', another '2')

Parser Error: syntax error at or near "FOREIGN"

-- \dew+

DROP FOREIGN DATA WRAPPER foo
ERROR: 
-- \dew+

DROP FOREIGN DATA WRAPPER foo

Not implemented Error: Cannot drop this type yet

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

CREATE FOREIGN DATA WRAPPER foo
ERROR: 
CREATE FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "FOREIGN"
 -- ERROR
RESET ROLE
ERROR:  -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

CREATE FOREIGN DATA WRAPPER foo VALIDATOR postgresql_fdw_validator
ERROR: 
CREATE FOREIGN DATA WRAPPER foo VALIDATOR postgresql_fdw_validator

Parser Error: syntax error at or near "FOREIGN"

-- \dew+

-- HANDLER related checks
CREATE FUNCTION invalid_fdw_handler() RETURNS int LANGUAGE SQL AS 'SELECT 1;'
ERROR: 
-- \dew+

-- HANDLER related checks
CREATE FUNCTION invalid_fdw_handler() RETURNS int LANGUAGE SQL AS 'SELECT 1;'

Parser Error: syntax error at or near "RETURNS"

CREATE FOREIGN DATA WRAPPER test_fdw HANDLER invalid_fdw_handler
ERROR: 
CREATE FOREIGN DATA WRAPPER test_fdw HANDLER invalid_fdw_handler

Parser Error: syntax error at or near "FOREIGN"
  -- ERROR
CREATE FOREIGN DATA WRAPPER test_fdw HANDLER test_fdw_handler HANDLER invalid_fdw_handler
ERROR:   -- ERROR
CREATE FOREIGN DATA WRAPPER test_fdw HANDLER test_fdw_handler HANDLER invalid_fdw_handler

Parser Error: syntax error at or near "FOREIGN"
  -- ERROR
CREATE FOREIGN DATA WRAPPER test_fdw HANDLER test_fdw_handler
ERROR:   -- ERROR
CREATE FOREIGN DATA WRAPPER test_fdw HANDLER test_fdw_handler

Parser Error: syntax error at or near "FOREIGN"

DROP FOREIGN DATA WRAPPER test_fdw
ERROR: 
DROP FOREIGN DATA WRAPPER test_fdw

Not implemented Error: Cannot drop this type yet


-- ALTER FOREIGN DATA WRAPPER
ALTER FOREIGN DATA WRAPPER foo OPTIONS (nonexistent 'fdw')
ERROR: 

-- ALTER FOREIGN DATA WRAPPER
ALTER FOREIGN DATA WRAPPER foo OPTIONS (nonexistent 'fdw')

Parser Error: syntax error at or near "FOREIGN"
         -- ERROR

ALTER FOREIGN DATA WRAPPER foo
ERROR:          -- ERROR

ALTER FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "FOREIGN"
                             -- ERROR
ALTER FOREIGN DATA WRAPPER foo VALIDATOR bar
ERROR:                              -- ERROR
ALTER FOREIGN DATA WRAPPER foo VALIDATOR bar

Parser Error: syntax error at or near "FOREIGN"
               -- ERROR
ALTER FOREIGN DATA WRAPPER foo NO VALIDATOR
ERROR:                -- ERROR
ALTER FOREIGN DATA WRAPPER foo NO VALIDATOR

Parser Error: syntax error at or near "FOREIGN"

-- \dew+

ALTER FOREIGN DATA WRAPPER foo OPTIONS (a '1', b '2')
ERROR: 
-- \dew+

ALTER FOREIGN DATA WRAPPER foo OPTIONS (a '1', b '2')

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN DATA WRAPPER foo OPTIONS (SET c '4')
ERROR: 
ALTER FOREIGN DATA WRAPPER foo OPTIONS (SET c '4')

Parser Error: syntax error at or near "FOREIGN"
         -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (DROP c)
ERROR:          -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (DROP c)

Parser Error: syntax error at or near "FOREIGN"
            -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD x '1', DROP x)
ERROR:             -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD x '1', DROP x)

Parser Error: syntax error at or near "FOREIGN"

-- \dew+

ALTER FOREIGN DATA WRAPPER foo OPTIONS (DROP a, SET b '3', ADD c '4')
ERROR: 
-- \dew+

ALTER FOREIGN DATA WRAPPER foo OPTIONS (DROP a, SET b '3', ADD c '4')

Parser Error: syntax error at or near "FOREIGN"

-- \dew+

ALTER FOREIGN DATA WRAPPER foo OPTIONS (a '2')
ERROR: 
-- \dew+

ALTER FOREIGN DATA WRAPPER foo OPTIONS (a '2')

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN DATA WRAPPER foo OPTIONS (b '4')
ERROR: 
ALTER FOREIGN DATA WRAPPER foo OPTIONS (b '4')

Parser Error: syntax error at or near "FOREIGN"
             -- ERROR
-- \dew+

SET ROLE regress_test_role
ERROR:              -- ERROR
-- \dew+

SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD d '5')
ERROR: 
ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD d '5')

Parser Error: syntax error at or near "FOREIGN"
         -- ERROR
SET ROLE regress_test_role_super
ERROR:          -- ERROR
SET ROLE regress_test_role_super

Parser Error: syntax error at or near "regress_test_role_super"

ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD d '5')
ERROR: 
ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD d '5')

Parser Error: syntax error at or near "FOREIGN"

-- \dew+

ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_test_role
ERROR: 
-- \dew+

ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_test_role

Parser Error: syntax error at or near "FOREIGN"
  -- ERROR
ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_test_role_super
ERROR:   -- ERROR
ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_test_role_super

Parser Error: syntax error at or near "FOREIGN"

ALTER ROLE regress_test_role_super NOSUPERUSER
ERROR: 
ALTER ROLE regress_test_role_super NOSUPERUSER

Parser Error: syntax error at or near "ROLE"

SET ROLE regress_test_role_super
ERROR: 
SET ROLE regress_test_role_super

Parser Error: syntax error at or near "regress_test_role_super"

ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD e '6')
ERROR: 
ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD e '6')

Parser Error: syntax error at or near "FOREIGN"
         -- ERROR
RESET ROLE
ERROR:          -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

-- \dew+

ALTER FOREIGN DATA WRAPPER foo RENAME TO foo1
ERROR: 
-- \dew+

ALTER FOREIGN DATA WRAPPER foo RENAME TO foo1

Parser Error: syntax error at or near "FOREIGN"

-- \dew+
ALTER FOREIGN DATA WRAPPER foo1 RENAME TO foo
ERROR: 
-- \dew+
ALTER FOREIGN DATA WRAPPER foo1 RENAME TO foo

Parser Error: syntax error at or near "FOREIGN"


-- HANDLER related checks
ALTER FOREIGN DATA WRAPPER foo HANDLER invalid_fdw_handler
ERROR: 

-- HANDLER related checks
ALTER FOREIGN DATA WRAPPER foo HANDLER invalid_fdw_handler

Parser Error: syntax error at or near "FOREIGN"
  -- ERROR
ALTER FOREIGN DATA WRAPPER foo HANDLER test_fdw_handler HANDLER anything
ERROR:   -- ERROR
ALTER FOREIGN DATA WRAPPER foo HANDLER test_fdw_handler HANDLER anything

Parser Error: syntax error at or near "FOREIGN"
  -- ERROR
ALTER FOREIGN DATA WRAPPER foo HANDLER test_fdw_handler
ERROR:   -- ERROR
ALTER FOREIGN DATA WRAPPER foo HANDLER test_fdw_handler

Parser Error: syntax error at or near "FOREIGN"

DROP FUNCTION invalid_fdw_handler()
ERROR: 
DROP FUNCTION invalid_fdw_handler()

Parser Error: syntax error at or near "("


-- DROP FOREIGN DATA WRAPPER
DROP FOREIGN DATA WRAPPER nonexistent
ERROR: 

-- DROP FOREIGN DATA WRAPPER
DROP FOREIGN DATA WRAPPER nonexistent

Not implemented Error: Cannot drop this type yet
                      -- ERROR
DROP FOREIGN DATA WRAPPER IF EXISTS nonexistent
ERROR:                       -- ERROR
DROP FOREIGN DATA WRAPPER IF EXISTS nonexistent

Not implemented Error: Cannot drop this type yet

-- \dew+

DROP ROLE regress_test_role_super
ERROR: 
-- \dew+

DROP ROLE regress_test_role_super

Parser Error: syntax error at or near "ROLE"
                          -- ERROR
SET ROLE regress_test_role_super
ERROR:                           -- ERROR
SET ROLE regress_test_role_super

Parser Error: syntax error at or near "regress_test_role_super"

DROP FOREIGN DATA WRAPPER foo
ERROR: 
DROP FOREIGN DATA WRAPPER foo

Not implemented Error: Cannot drop this type yet

RESET ROLE
ERROR: 
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

DROP ROLE regress_test_role_super
ERROR: 
DROP ROLE regress_test_role_super

Parser Error: syntax error at or near "ROLE"

-- \dew+

CREATE FOREIGN DATA WRAPPER foo
ERROR: 
-- \dew+

CREATE FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "FOREIGN"

CREATE SERVER s1 FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER s1 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"

COMMENT ON SERVER s1 IS 'foreign server'
ERROR: 
COMMENT ON SERVER s1 IS 'foreign server'

Parser Error: syntax error at or near "SERVER"

CREATE USER MAPPING FOR current_user SERVER s1
ERROR: 
CREATE USER MAPPING FOR current_user SERVER s1

Parser Error: syntax error at or near "USER"

CREATE USER MAPPING FOR current_user SERVER s1
ERROR: 
CREATE USER MAPPING FOR current_user SERVER s1

Parser Error: syntax error at or near "USER"
				-- ERROR
CREATE USER MAPPING IF NOT EXISTS FOR current_user SERVER s1
ERROR: 				-- ERROR
CREATE USER MAPPING IF NOT EXISTS FOR current_user SERVER s1

Parser Error: syntax error at or near "USER"
 -- NOTICE
-- \dew+
-- \des+
-- \deu+
DROP FOREIGN DATA WRAPPER foo
ERROR:  -- NOTICE
-- \dew+
-- \des+
-- \deu+
DROP FOREIGN DATA WRAPPER foo

Not implemented Error: Cannot drop this type yet
                              -- ERROR
SET ROLE regress_test_role
ERROR:                               -- ERROR
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

DROP FOREIGN DATA WRAPPER foo CASCADE
ERROR: 
DROP FOREIGN DATA WRAPPER foo CASCADE

Not implemented Error: Cannot drop this type yet
                      -- ERROR
RESET ROLE
ERROR:                       -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

DROP FOREIGN DATA WRAPPER foo CASCADE
ERROR: 
DROP FOREIGN DATA WRAPPER foo CASCADE

Not implemented Error: Cannot drop this type yet

-- \dew+
-- \des+
-- \deu+

-- exercise CREATE SERVER
CREATE SERVER s1 FOREIGN DATA WRAPPER foo
ERROR: 
-- \dew+
-- \des+
-- \deu+

-- exercise CREATE SERVER
CREATE SERVER s1 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"
                  -- ERROR
CREATE FOREIGN DATA WRAPPER foo OPTIONS ("test wrapper" 'true')
ERROR:                   -- ERROR
CREATE FOREIGN DATA WRAPPER foo OPTIONS ("test wrapper" 'true')

Parser Error: syntax error at or near "FOREIGN"

CREATE SERVER s1 FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER s1 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"

CREATE SERVER s1 FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER s1 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"
                  -- ERROR
CREATE SERVER IF NOT EXISTS s1 FOREIGN DATA WRAPPER foo
ERROR:                   -- ERROR
CREATE SERVER IF NOT EXISTS s1 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"
	-- No ERROR, just NOTICE
CREATE SERVER s2 FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')
ERROR: 	-- No ERROR, just NOTICE
CREATE SERVER s2 FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')

Parser Error: syntax error at or near "SERVER"

CREATE SERVER s3 TYPE 'oracle' FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER s3 TYPE 'oracle' FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"

CREATE SERVER s4 TYPE 'oracle' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')
ERROR: 
CREATE SERVER s4 TYPE 'oracle' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')

Parser Error: syntax error at or near "SERVER"

CREATE SERVER s5 VERSION '15.0' FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER s5 VERSION '15.0' FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"

CREATE SERVER s6 VERSION '16.0' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')
ERROR: 
CREATE SERVER s6 VERSION '16.0' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')

Parser Error: syntax error at or near "SERVER"

CREATE SERVER s7 TYPE 'oracle' VERSION '17.0' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')
ERROR: 
CREATE SERVER s7 TYPE 'oracle' VERSION '17.0' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')

Parser Error: syntax error at or near "SERVER"

CREATE SERVER s8 FOREIGN DATA WRAPPER postgresql OPTIONS (foo '1')
ERROR: 
CREATE SERVER s8 FOREIGN DATA WRAPPER postgresql OPTIONS (foo '1')

Parser Error: syntax error at or near "SERVER"
 -- ERROR
CREATE SERVER s8 FOREIGN DATA WRAPPER postgresql OPTIONS (host 'localhost', dbname 's8db')
ERROR:  -- ERROR
CREATE SERVER s8 FOREIGN DATA WRAPPER postgresql OPTIONS (host 'localhost', dbname 's8db')

Parser Error: syntax error at or near "SERVER"

-- \des+
SET ROLE regress_test_role
ERROR: 
-- \des+
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

CREATE SERVER t1 FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER t1 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"
                 -- ERROR: no usage on FDW
RESET ROLE
ERROR:                  -- ERROR: no usage on FDW
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role
ERROR: 
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role

Parser Error: syntax error at or near "GRANT"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

CREATE SERVER t1 FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER t1 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"

RESET ROLE
ERROR: 
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

-- \des+

REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_test_role
ERROR: 
-- \des+

REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_test_role

Parser Error: syntax error at or near "REVOKE"

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_indirect
ERROR: 
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_indirect

Parser Error: syntax error at or near "GRANT"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

CREATE SERVER t2 FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER t2 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"
                 -- ERROR
RESET ROLE
ERROR:                  -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

GRANT regress_test_indirect TO regress_test_role
ERROR: 
GRANT regress_test_indirect TO regress_test_role

Parser Error: syntax error at or near "GRANT"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

CREATE SERVER t2 FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER t2 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"

-- \des+
RESET ROLE
ERROR: 
-- \des+
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

REVOKE regress_test_indirect FROM regress_test_role
ERROR: 
REVOKE regress_test_indirect FROM regress_test_role

Parser Error: syntax error at or near "REVOKE"


-- ALTER SERVER
ALTER SERVER s0
ERROR: 

-- ALTER SERVER
ALTER SERVER s0

Parser Error: syntax error at or near "SERVER"
                                            -- ERROR
ALTER SERVER s0 OPTIONS (a '1')
ERROR:                                             -- ERROR
ALTER SERVER s0 OPTIONS (a '1')

Parser Error: syntax error at or near "SERVER"
                            -- ERROR
ALTER SERVER s1 VERSION '1.0' OPTIONS (servername 's1')
ERROR:                             -- ERROR
ALTER SERVER s1 VERSION '1.0' OPTIONS (servername 's1')

Parser Error: syntax error at or near "SERVER"

ALTER SERVER s2 VERSION '1.1'
ERROR: 
ALTER SERVER s2 VERSION '1.1'

Parser Error: syntax error at or near "SERVER"

ALTER SERVER s3 OPTIONS ("tns name" 'orcl', port '1521')
ERROR: 
ALTER SERVER s3 OPTIONS ("tns name" 'orcl', port '1521')

Parser Error: syntax error at or near "SERVER"

GRANT USAGE ON FOREIGN SERVER s1 TO regress_test_role
ERROR: 
GRANT USAGE ON FOREIGN SERVER s1 TO regress_test_role

Parser Error: syntax error at or near "GRANT"

GRANT USAGE ON FOREIGN SERVER s6 TO regress_test_role2 WITH GRANT OPTION
ERROR: 
GRANT USAGE ON FOREIGN SERVER s6 TO regress_test_role2 WITH GRANT OPTION

Parser Error: syntax error at or near "GRANT"

-- \des+
SET ROLE regress_test_role
ERROR: 
-- \des+
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

ALTER SERVER s1 VERSION '1.1'
ERROR: 
ALTER SERVER s1 VERSION '1.1'

Parser Error: syntax error at or near "SERVER"
                              -- ERROR
ALTER SERVER s1 OWNER TO regress_test_role
ERROR:                               -- ERROR
ALTER SERVER s1 OWNER TO regress_test_role

Parser Error: syntax error at or near "SERVER"
                 -- ERROR
RESET ROLE
ERROR:                  -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

ALTER SERVER s1 OWNER TO regress_test_role
ERROR: 
ALTER SERVER s1 OWNER TO regress_test_role

Parser Error: syntax error at or near "SERVER"

GRANT regress_test_role2 TO regress_test_role
ERROR: 
GRANT regress_test_role2 TO regress_test_role

Parser Error: syntax error at or near "GRANT"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

ALTER SERVER s1 VERSION '1.1'
ERROR: 
ALTER SERVER s1 VERSION '1.1'

Parser Error: syntax error at or near "SERVER"

ALTER SERVER s1 OWNER TO regress_test_role2
ERROR: 
ALTER SERVER s1 OWNER TO regress_test_role2

Parser Error: syntax error at or near "SERVER"
                -- ERROR
RESET ROLE
ERROR:                 -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

ALTER SERVER s8 OPTIONS (foo '1')
ERROR: 
ALTER SERVER s8 OPTIONS (foo '1')

Parser Error: syntax error at or near "SERVER"
                          -- ERROR option validation
ALTER SERVER s8 OPTIONS (connect_timeout '30', SET dbname 'db1', DROP host)
ERROR:                           -- ERROR option validation
ALTER SERVER s8 OPTIONS (connect_timeout '30', SET dbname 'db1', DROP host)

Parser Error: syntax error at or near "SERVER"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

ALTER SERVER s1 OWNER TO regress_test_indirect
ERROR: 
ALTER SERVER s1 OWNER TO regress_test_indirect

Parser Error: syntax error at or near "SERVER"
             -- ERROR
RESET ROLE
ERROR:              -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

GRANT regress_test_indirect TO regress_test_role
ERROR: 
GRANT regress_test_indirect TO regress_test_role

Parser Error: syntax error at or near "GRANT"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

ALTER SERVER s1 OWNER TO regress_test_indirect
ERROR: 
ALTER SERVER s1 OWNER TO regress_test_indirect

Parser Error: syntax error at or near "SERVER"

RESET ROLE
ERROR: 
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_indirect
ERROR: 
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_indirect

Parser Error: syntax error at or near "GRANT"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

ALTER SERVER s1 OWNER TO regress_test_indirect
ERROR: 
ALTER SERVER s1 OWNER TO regress_test_indirect

Parser Error: syntax error at or near "SERVER"

RESET ROLE
ERROR: 
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

DROP ROLE regress_test_indirect
ERROR: 
DROP ROLE regress_test_indirect

Parser Error: syntax error at or near "ROLE"
                            -- ERROR
-- \des+

ALTER SERVER s8 RENAME to s8new
ERROR:                             -- ERROR
-- \des+

ALTER SERVER s8 RENAME to s8new

Parser Error: syntax error at or near "SERVER"

-- \des+
ALTER SERVER s8new RENAME to s8
ERROR: 
-- \des+
ALTER SERVER s8new RENAME to s8

Parser Error: syntax error at or near "SERVER"


-- DROP SERVER
DROP SERVER nonexistent
ERROR: 

-- DROP SERVER
DROP SERVER nonexistent

Not implemented Error: Cannot drop this type yet
                                    -- ERROR
DROP SERVER IF EXISTS nonexistent
ERROR:                                     -- ERROR
DROP SERVER IF EXISTS nonexistent

Not implemented Error: Cannot drop this type yet

-- \des
SET ROLE regress_test_role
ERROR: 
-- \des
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

DROP SERVER s2
ERROR: 
DROP SERVER s2

Not implemented Error: Cannot drop this type yet
                                             -- ERROR
DROP SERVER s1
ERROR:                                              -- ERROR
DROP SERVER s1

Not implemented Error: Cannot drop this type yet

RESET ROLE
ERROR: 
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

-- \des
ALTER SERVER s2 OWNER TO regress_test_role
ERROR: 
-- \des
ALTER SERVER s2 OWNER TO regress_test_role

Parser Error: syntax error at or near "SERVER"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

DROP SERVER s2
ERROR: 
DROP SERVER s2

Not implemented Error: Cannot drop this type yet

RESET ROLE
ERROR: 
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

-- \des
CREATE USER MAPPING FOR current_user SERVER s3
ERROR: 
-- \des
CREATE USER MAPPING FOR current_user SERVER s3

Parser Error: syntax error at or near "USER"

-- \deu
DROP SERVER s3
ERROR: 
-- \deu
DROP SERVER s3

Not implemented Error: Cannot drop this type yet
                                             -- ERROR
DROP SERVER s3 CASCADE
ERROR:                                              -- ERROR
DROP SERVER s3 CASCADE

Not implemented Error: Cannot drop this type yet

-- \des
-- \deu

-- CREATE USER MAPPING
CREATE USER MAPPING FOR regress_test_missing_role SERVER s1
ERROR: 
-- \des
-- \deu

-- CREATE USER MAPPING
CREATE USER MAPPING FOR regress_test_missing_role SERVER s1

Parser Error: syntax error at or near "USER"
  -- ERROR
CREATE USER MAPPING FOR current_user SERVER s1
ERROR:   -- ERROR
CREATE USER MAPPING FOR current_user SERVER s1

Parser Error: syntax error at or near "USER"
             -- ERROR
CREATE USER MAPPING FOR current_user SERVER s4
ERROR:              -- ERROR
CREATE USER MAPPING FOR current_user SERVER s4

Parser Error: syntax error at or near "USER"

CREATE USER MAPPING FOR user SERVER s4
ERROR: 
CREATE USER MAPPING FOR user SERVER s4

Parser Error: syntax error at or near "USER"
                     -- ERROR duplicate
CREATE USER MAPPING FOR public SERVER s4 OPTIONS ("this mapping" 'is public')
ERROR:                      -- ERROR duplicate
CREATE USER MAPPING FOR public SERVER s4 OPTIONS ("this mapping" 'is public')

Parser Error: syntax error at or near "USER"

CREATE USER MAPPING FOR user SERVER s8 OPTIONS (username 'test', password 'secret')
ERROR: 
CREATE USER MAPPING FOR user SERVER s8 OPTIONS (username 'test', password 'secret')

Parser Error: syntax error at or near "USER"
    -- ERROR
CREATE USER MAPPING FOR user SERVER s8 OPTIONS (user 'test', password 'secret')
ERROR:     -- ERROR
CREATE USER MAPPING FOR user SERVER s8 OPTIONS (user 'test', password 'secret')

Parser Error: syntax error at or near "USER"

ALTER SERVER s5 OWNER TO regress_test_role
ERROR: 
ALTER SERVER s5 OWNER TO regress_test_role

Parser Error: syntax error at or near "SERVER"

ALTER SERVER s6 OWNER TO regress_test_indirect
ERROR: 
ALTER SERVER s6 OWNER TO regress_test_indirect

Parser Error: syntax error at or near "SERVER"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

CREATE USER MAPPING FOR current_user SERVER s5
ERROR: 
CREATE USER MAPPING FOR current_user SERVER s5

Parser Error: syntax error at or near "USER"

CREATE USER MAPPING FOR current_user SERVER s6 OPTIONS (username 'test')
ERROR: 
CREATE USER MAPPING FOR current_user SERVER s6 OPTIONS (username 'test')

Parser Error: syntax error at or near "USER"

CREATE USER MAPPING FOR current_user SERVER s7
ERROR: 
CREATE USER MAPPING FOR current_user SERVER s7

Parser Error: syntax error at or near "USER"
             -- ERROR
CREATE USER MAPPING FOR public SERVER s8
ERROR:              -- ERROR
CREATE USER MAPPING FOR public SERVER s8

Parser Error: syntax error at or near "USER"
                   -- ERROR
RESET ROLE
ERROR:                    -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"


ALTER SERVER t1 OWNER TO regress_test_indirect
ERROR: 

ALTER SERVER t1 OWNER TO regress_test_indirect

Parser Error: syntax error at or near "SERVER"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

CREATE USER MAPPING FOR current_user SERVER t1 OPTIONS (username 'bob', password 'boo')
ERROR: 
CREATE USER MAPPING FOR current_user SERVER t1 OPTIONS (username 'bob', password 'boo')

Parser Error: syntax error at or near "USER"

CREATE USER MAPPING FOR public SERVER t1
ERROR: 
CREATE USER MAPPING FOR public SERVER t1

Parser Error: syntax error at or near "USER"

RESET ROLE
ERROR: 
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

-- \deu

-- ALTER USER MAPPING
ALTER USER MAPPING FOR regress_test_missing_role SERVER s4 OPTIONS (gotcha 'true')
ERROR: 
-- \deu

-- ALTER USER MAPPING
ALTER USER MAPPING FOR regress_test_missing_role SERVER s4 OPTIONS (gotcha 'true')

Parser Error: syntax error at or near "USER"
 -- ERROR
ALTER USER MAPPING FOR user SERVER ss4 OPTIONS (gotcha 'true')
ERROR:  -- ERROR
ALTER USER MAPPING FOR user SERVER ss4 OPTIONS (gotcha 'true')

Parser Error: syntax error at or near "USER"
 -- ERROR
ALTER USER MAPPING FOR public SERVER s5 OPTIONS (gotcha 'true')
ERROR:  -- ERROR
ALTER USER MAPPING FOR public SERVER s5 OPTIONS (gotcha 'true')

Parser Error: syntax error at or near "USER"
            -- ERROR
ALTER USER MAPPING FOR current_user SERVER s8 OPTIONS (username 'test')
ERROR:             -- ERROR
ALTER USER MAPPING FOR current_user SERVER s8 OPTIONS (username 'test')

Parser Error: syntax error at or near "USER"
    -- ERROR
ALTER USER MAPPING FOR current_user SERVER s8 OPTIONS (DROP user, SET password 'public')
ERROR:     -- ERROR
ALTER USER MAPPING FOR current_user SERVER s8 OPTIONS (DROP user, SET password 'public')

Parser Error: syntax error at or near "USER"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

ALTER USER MAPPING FOR current_user SERVER s5 OPTIONS (ADD modified '1')
ERROR: 
ALTER USER MAPPING FOR current_user SERVER s5 OPTIONS (ADD modified '1')

Parser Error: syntax error at or near "USER"

ALTER USER MAPPING FOR public SERVER s4 OPTIONS (ADD modified '1')
ERROR: 
ALTER USER MAPPING FOR public SERVER s4 OPTIONS (ADD modified '1')

Parser Error: syntax error at or near "USER"
 -- ERROR
ALTER USER MAPPING FOR public SERVER t1 OPTIONS (ADD modified '1')
ERROR:  -- ERROR
ALTER USER MAPPING FOR public SERVER t1 OPTIONS (ADD modified '1')

Parser Error: syntax error at or near "USER"

RESET ROLE
ERROR: 
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

-- \deu+

-- DROP USER MAPPING
DROP USER MAPPING FOR regress_test_missing_role SERVER s4
ERROR: 
-- \deu+

-- DROP USER MAPPING
DROP USER MAPPING FOR regress_test_missing_role SERVER s4

Parser Error: syntax error at or near "USER"
  -- ERROR
DROP USER MAPPING FOR user SERVER ss4
ERROR:   -- ERROR
DROP USER MAPPING FOR user SERVER ss4

Parser Error: syntax error at or near "USER"

DROP USER MAPPING FOR public SERVER s7
ERROR: 
DROP USER MAPPING FOR public SERVER s7

Parser Error: syntax error at or near "USER"
                     -- ERROR
DROP USER MAPPING IF EXISTS FOR regress_test_missing_role SERVER s4
ERROR:                      -- ERROR
DROP USER MAPPING IF EXISTS FOR regress_test_missing_role SERVER s4

Parser Error: syntax error at or near "USER"

DROP USER MAPPING IF EXISTS FOR user SERVER ss4
ERROR: 
DROP USER MAPPING IF EXISTS FOR user SERVER ss4

Parser Error: syntax error at or near "USER"

DROP USER MAPPING IF EXISTS FOR public SERVER s7
ERROR: 
DROP USER MAPPING IF EXISTS FOR public SERVER s7

Parser Error: syntax error at or near "USER"

CREATE USER MAPPING FOR public SERVER s8
ERROR: 
CREATE USER MAPPING FOR public SERVER s8

Parser Error: syntax error at or near "USER"

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

DROP USER MAPPING FOR public SERVER s8
ERROR: 
DROP USER MAPPING FOR public SERVER s8

Parser Error: syntax error at or near "USER"
                     -- ERROR
RESET ROLE
ERROR:                      -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

DROP SERVER s7
ERROR: 
DROP SERVER s7

Not implemented Error: Cannot drop this type yet

-- \deu

-- CREATE FOREIGN TABLE
CREATE SCHEMA foreign_schema

CREATE SERVER s0 FOREIGN DATA WRAPPER dummy
ERROR: 
CREATE SERVER s0 FOREIGN DATA WRAPPER dummy

Parser Error: syntax error at or near "SERVER"

CREATE FOREIGN TABLE ft1 ()
ERROR: 
CREATE FOREIGN TABLE ft1 ()

Parser Error: syntax error at or near "FOREIGN"
                                    -- ERROR
CREATE FOREIGN TABLE ft1 () SERVER no_server
ERROR:                                     -- ERROR
CREATE FOREIGN TABLE ft1 () SERVER no_server

Parser Error: syntax error at or near "FOREIGN"
                   -- ERROR
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') PRIMARY KEY,
	c2 text OPTIONS (param2 'val2', param3 'val3'),
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value'); -- ERROR
CREATE TABLE ref_table (id integer PRIMARY KEY);
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') REFERENCES ref_table (id),
	c2 text OPTIONS (param2 'val2', param3 'val3'),
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')
ERROR:                    -- ERROR
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') PRIMARY KEY,
	c2 text OPTIONS (param2 'val2', param3 'val3'),
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value'); -- ERROR
CREATE TABLE ref_table (id integer PRIMARY KEY);
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') REFERENCES ref_table (id),
	c2 text OPTIONS (param2 'val2', param3 'val3'),
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')

Parser Error: syntax error at or near "FOREIGN"
 -- ERROR
DROP TABLE ref_table
ERROR:  -- ERROR
DROP TABLE ref_table

Catalog Error: Table with name ref_table does not exist!
Did you mean "temp.information_schema.tables"?

CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') NOT NULL,
	c2 text OPTIONS (param2 'val2', param3 'val3'),
	c3 date,
	UNIQUE (c3)
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value'); -- ERROR
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') NOT NULL,
	c2 text OPTIONS (param2 'val2', param3 'val3') CHECK (c2 <> ''),
	c3 date,
	CHECK (c3 BETWEEN '1994-01-01'::date AND '1994-01-31'::date)
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')
ERROR: 
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') NOT NULL,
	c2 text OPTIONS (param2 'val2', param3 'val3'),
	c3 date,
	UNIQUE (c3)
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value'); -- ERROR
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') NOT NULL,
	c2 text OPTIONS (param2 'val2', param3 'val3') CHECK (c2 <> ''),
	c3 date,
	CHECK (c3 BETWEEN '1994-01-01'::date AND '1994-01-31'::date)
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')

Parser Error: syntax error at or near "FOREIGN"

COMMENT ON FOREIGN TABLE ft1 IS 'ft1'
ERROR: 
COMMENT ON FOREIGN TABLE ft1 IS 'ft1'

Parser Error: syntax error at or near "FOREIGN"

COMMENT ON COLUMN ft1.c1 IS 'ft1.c1'
ERROR: 
COMMENT ON COLUMN ft1.c1 IS 'ft1.c1'

Catalog Error: Table with name ft1 does not exist!
Did you mean "temp.information_schema.tables"?

-- \d+ ft1
-- \det+
CREATE INDEX id_ft1_c2 ON ft1 (c2)
ERROR: 
-- \d+ ft1
-- \det+
CREATE INDEX id_ft1_c2 ON ft1 (c2)

Catalog Error: Table with name ft1 does not exist!
Did you mean "temp.information_schema.tables"?
                             -- ERROR
SELECT * FROM ft1
ERROR:                              -- ERROR
SELECT * FROM ft1

Catalog Error: Table with name ft1 does not exist!
Did you mean "temp.information_schema.tables"?
                                              -- ERROR
EXPLAIN SELECT * FROM ft1
ERROR:                                               -- ERROR
EXPLAIN SELECT * FROM ft1

Catalog Error: Table with name ft1 does not exist!
Did you mean "temp.information_schema.tables"?
LINE 2: EXPLAIN SELECT * FROM ft1
                              ^
                                      -- ERROR

CREATE TABLE lt1 (a INT) PARTITION BY RANGE (a)
ERROR:                                       -- ERROR

CREATE TABLE lt1 (a INT) PARTITION BY RANGE (a)

Parser Error: syntax error at or near "PARTITION"

CREATE FOREIGN TABLE ft_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s0
ERROR: 
CREATE FOREIGN TABLE ft_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s0

Parser Error: syntax error at or near "FOREIGN"

CREATE INDEX ON lt1 (a)
ERROR: 
CREATE INDEX ON lt1 (a)

Not implemented Error: Please provide an index name, e.g., CREATE INDEX my_name ...
                              -- skips partition
CREATE UNIQUE INDEX ON lt1 (a)
ERROR:                               -- skips partition
CREATE UNIQUE INDEX ON lt1 (a)

Not implemented Error: Please provide an index name, e.g., CREATE INDEX my_name ...
                                 -- ERROR
ALTER TABLE lt1 ADD PRIMARY KEY (a)
ERROR:                                  -- ERROR
ALTER TABLE lt1 ADD PRIMARY KEY (a)

Not implemented Error: No support for that ALTER TABLE option yet!
                            -- ERROR
DROP TABLE lt1
ERROR:                             -- ERROR
DROP TABLE lt1

Catalog Error: Table with name lt1 does not exist!
Did you mean "temp.information_schema.tables"?


CREATE TABLE lt1 (a INT) PARTITION BY RANGE (a)
ERROR: 

CREATE TABLE lt1 (a INT) PARTITION BY RANGE (a)

Parser Error: syntax error at or near "PARTITION"

CREATE INDEX ON lt1 (a)
ERROR: 
CREATE INDEX ON lt1 (a)

Not implemented Error: Please provide an index name, e.g., CREATE INDEX my_name ...

CREATE FOREIGN TABLE ft_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s0
ERROR: 
CREATE FOREIGN TABLE ft_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s0

Parser Error: syntax error at or near "FOREIGN"

CREATE FOREIGN TABLE ft_part2 (a INT) SERVER s0
ERROR: 
CREATE FOREIGN TABLE ft_part2 (a INT) SERVER s0

Parser Error: syntax error at or near "FOREIGN"

ALTER TABLE lt1 ATTACH PARTITION ft_part2 FOR VALUES FROM (1000) TO (2000)
ERROR: 
ALTER TABLE lt1 ATTACH PARTITION ft_part2 FOR VALUES FROM (1000) TO (2000)

Parser Error: syntax error at or near "ATTACH"

DROP FOREIGN TABLE ft_part1, ft_part2
ERROR: 
DROP FOREIGN TABLE ft_part1, ft_part2

Not implemented Error: Can only drop one object at a time

CREATE UNIQUE INDEX ON lt1 (a)
ERROR: 
CREATE UNIQUE INDEX ON lt1 (a)

Not implemented Error: Please provide an index name, e.g., CREATE INDEX my_name ...

ALTER TABLE lt1 ADD PRIMARY KEY (a)
ERROR: 
ALTER TABLE lt1 ADD PRIMARY KEY (a)

Not implemented Error: No support for that ALTER TABLE option yet!

CREATE FOREIGN TABLE ft_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s0
ERROR: 
CREATE FOREIGN TABLE ft_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s0

Parser Error: syntax error at or near "FOREIGN"
     -- ERROR
CREATE FOREIGN TABLE ft_part2 (a INT NOT NULL) SERVER s0
ERROR:      -- ERROR
CREATE FOREIGN TABLE ft_part2 (a INT NOT NULL) SERVER s0

Parser Error: syntax error at or near "FOREIGN"

ALTER TABLE lt1 ATTACH PARTITION ft_part2
  FOR VALUES FROM (1000) TO (2000)
ERROR: 
ALTER TABLE lt1 ATTACH PARTITION ft_part2
  FOR VALUES FROM (1000) TO (2000)

Parser Error: syntax error at or near "ATTACH"
                             -- ERROR
DROP TABLE lt1
ERROR:                              -- ERROR
DROP TABLE lt1

Catalog Error: Table with name lt1 does not exist!
Did you mean "temp.information_schema.tables"?

DROP FOREIGN TABLE ft_part2
ERROR: 
DROP FOREIGN TABLE ft_part2

Not implemented Error: Cannot drop this type yet


CREATE TABLE lt1 (a INT) PARTITION BY RANGE (a)
ERROR: 

CREATE TABLE lt1 (a INT) PARTITION BY RANGE (a)

Parser Error: syntax error at or near "PARTITION"

CREATE INDEX ON lt1 (a)
ERROR: 
CREATE INDEX ON lt1 (a)

Not implemented Error: Please provide an index name, e.g., CREATE INDEX my_name ...

CREATE TABLE lt1_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000)
  PARTITION BY RANGE (a)
ERROR: 
CREATE TABLE lt1_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000)
  PARTITION BY RANGE (a)

Parser Error: syntax error at or near "PARTITION"

CREATE FOREIGN TABLE ft_part_1_1
  PARTITION OF lt1_part1 FOR VALUES FROM (0) TO (100) SERVER s0
ERROR: 
CREATE FOREIGN TABLE ft_part_1_1
  PARTITION OF lt1_part1 FOR VALUES FROM (0) TO (100) SERVER s0

Parser Error: syntax error at or near "FOREIGN"

CREATE FOREIGN TABLE ft_part_1_2 (a INT) SERVER s0
ERROR: 
CREATE FOREIGN TABLE ft_part_1_2 (a INT) SERVER s0

Parser Error: syntax error at or near "FOREIGN"

ALTER TABLE lt1_part1 ATTACH PARTITION ft_part_1_2 FOR VALUES FROM (100) TO (200)
ERROR: 
ALTER TABLE lt1_part1 ATTACH PARTITION ft_part_1_2 FOR VALUES FROM (100) TO (200)

Parser Error: syntax error at or near "ATTACH"

CREATE UNIQUE INDEX ON lt1 (a)
ERROR: 
CREATE UNIQUE INDEX ON lt1 (a)

Not implemented Error: Please provide an index name, e.g., CREATE INDEX my_name ...

ALTER TABLE lt1 ADD PRIMARY KEY (a)
ERROR: 
ALTER TABLE lt1 ADD PRIMARY KEY (a)

Not implemented Error: No support for that ALTER TABLE option yet!

DROP FOREIGN TABLE ft_part_1_1, ft_part_1_2
ERROR: 
DROP FOREIGN TABLE ft_part_1_1, ft_part_1_2

Not implemented Error: Can only drop one object at a time

CREATE UNIQUE INDEX ON lt1 (a)
ERROR: 
CREATE UNIQUE INDEX ON lt1 (a)

Not implemented Error: Please provide an index name, e.g., CREATE INDEX my_name ...

ALTER TABLE lt1 ADD PRIMARY KEY (a)
ERROR: 
ALTER TABLE lt1 ADD PRIMARY KEY (a)

Not implemented Error: No support for that ALTER TABLE option yet!

CREATE FOREIGN TABLE ft_part_1_1
  PARTITION OF lt1_part1 FOR VALUES FROM (0) TO (100) SERVER s0
ERROR: 
CREATE FOREIGN TABLE ft_part_1_1
  PARTITION OF lt1_part1 FOR VALUES FROM (0) TO (100) SERVER s0

Parser Error: syntax error at or near "FOREIGN"

CREATE FOREIGN TABLE ft_part_1_2 (a INT NOT NULL) SERVER s0
ERROR: 
CREATE FOREIGN TABLE ft_part_1_2 (a INT NOT NULL) SERVER s0

Parser Error: syntax error at or near "FOREIGN"

ALTER TABLE lt1_part1 ATTACH PARTITION ft_part_1_2 FOR VALUES FROM (100) TO (200)
ERROR: 
ALTER TABLE lt1_part1 ATTACH PARTITION ft_part_1_2 FOR VALUES FROM (100) TO (200)

Parser Error: syntax error at or near "ATTACH"

DROP TABLE lt1
ERROR: 
DROP TABLE lt1

Catalog Error: Table with name lt1 does not exist!
Did you mean "temp.information_schema.tables"?

DROP FOREIGN TABLE ft_part_1_2
ERROR: 
DROP FOREIGN TABLE ft_part_1_2

Not implemented Error: Cannot drop this type yet


-- ALTER FOREIGN TABLE
COMMENT ON FOREIGN TABLE ft1 IS 'foreign table'
ERROR: 

-- ALTER FOREIGN TABLE
COMMENT ON FOREIGN TABLE ft1 IS 'foreign table'

Parser Error: syntax error at or near "FOREIGN"

COMMENT ON FOREIGN TABLE ft1 IS NULL
ERROR: 
COMMENT ON FOREIGN TABLE ft1 IS NULL

Parser Error: syntax error at or near "FOREIGN"

COMMENT ON COLUMN ft1.c1 IS 'foreign column'
ERROR: 
COMMENT ON COLUMN ft1.c1 IS 'foreign column'

Catalog Error: Table with name ft1 does not exist!
Did you mean "temp.information_schema.tables"?

COMMENT ON COLUMN ft1.c1 IS NULL
ERROR: 
COMMENT ON COLUMN ft1.c1 IS NULL

Catalog Error: Table with name ft1 does not exist!
Did you mean "temp.information_schema.tables"?


ALTER FOREIGN TABLE ft1 ADD COLUMN c4 integer
ERROR: 

ALTER FOREIGN TABLE ft1 ADD COLUMN c4 integer

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ADD COLUMN c5 integer DEFAULT 0
ERROR: 
ALTER FOREIGN TABLE ft1 ADD COLUMN c5 integer DEFAULT 0

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ADD COLUMN c6 integer
ERROR: 
ALTER FOREIGN TABLE ft1 ADD COLUMN c6 integer

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ADD COLUMN c7 integer NOT NULL
ERROR: 
ALTER FOREIGN TABLE ft1 ADD COLUMN c7 integer NOT NULL

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ADD COLUMN c8 integer
ERROR: 
ALTER FOREIGN TABLE ft1 ADD COLUMN c8 integer

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ADD COLUMN c9 integer
ERROR: 
ALTER FOREIGN TABLE ft1 ADD COLUMN c9 integer

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ADD COLUMN c10 integer OPTIONS (p1 'v1')
ERROR: 
ALTER FOREIGN TABLE ft1 ADD COLUMN c10 integer OPTIONS (p1 'v1')

Parser Error: syntax error at or near "FOREIGN"


ALTER FOREIGN TABLE ft1 ALTER COLUMN c4 SET DEFAULT 0
ERROR: 

ALTER FOREIGN TABLE ft1 ALTER COLUMN c4 SET DEFAULT 0

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN c5 DROP DEFAULT
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c5 DROP DEFAULT

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN c6 SET NOT NULL
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c6 SET NOT NULL

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN c7 DROP NOT NULL
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c7 DROP NOT NULL

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 TYPE char(10) USING '0'
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 TYPE char(10) USING '0'

Parser Error: syntax error at or near "FOREIGN"
 -- ERROR
ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 TYPE char(10)
ERROR:  -- ERROR
ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 TYPE char(10)

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET DATA TYPE text
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET DATA TYPE text

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN xmin OPTIONS (ADD p1 'v1')
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN xmin OPTIONS (ADD p1 'v1')

Parser Error: syntax error at or near "FOREIGN"
 -- ERROR
ALTER FOREIGN TABLE ft1 ALTER COLUMN c7 OPTIONS (ADD p1 'v1', ADD p2 'v2'),
                        ALTER COLUMN c8 OPTIONS (ADD p1 'v1', ADD p2 'v2')
ERROR:  -- ERROR
ALTER FOREIGN TABLE ft1 ALTER COLUMN c7 OPTIONS (ADD p1 'v1', ADD p2 'v2'),
                        ALTER COLUMN c8 OPTIONS (ADD p1 'v1', ADD p2 'v2')

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 OPTIONS (SET p2 'V2', DROP p1)
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 OPTIONS (SET p2 'V2', DROP p1)

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN c1 SET STATISTICS 10000
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c1 SET STATISTICS 10000

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN c1 SET (n_distinct = 100)
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c1 SET (n_distinct = 100)

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET STATISTICS -1
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET STATISTICS -1

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET STORAGE PLAIN
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET STORAGE PLAIN

Parser Error: syntax error at or near "FOREIGN"

-- \d+ ft1
-- can''t change the column type if it''s used elsewhere
CREATE TABLE use_ft1_column_type (x ft1)
ERROR: 
-- \d+ ft1
-- can''t change the column type if it''s used elsewhere
CREATE TABLE use_ft1_column_type (x ft1)

Catalog Error: Type with name ft1 does not exist!
Did you mean "int1"?

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET DATA TYPE integer
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET DATA TYPE integer

Parser Error: syntax error at or near "FOREIGN"
	-- ERROR
DROP TABLE use_ft1_column_type
ERROR: 	-- ERROR
DROP TABLE use_ft1_column_type

Catalog Error: Table with name use_ft1_column_type does not exist!
Did you mean "temp.information_schema.columns"?

ALTER FOREIGN TABLE ft1 ADD PRIMARY KEY (c7)
ERROR: 
ALTER FOREIGN TABLE ft1 ADD PRIMARY KEY (c7)

Parser Error: syntax error at or near "FOREIGN"
                   -- ERROR
ALTER FOREIGN TABLE ft1 ADD CONSTRAINT ft1_c9_check CHECK (c9 < 0) NOT VALID
ERROR:                    -- ERROR
ALTER FOREIGN TABLE ft1 ADD CONSTRAINT ft1_c9_check CHECK (c9 < 0) NOT VALID

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 ALTER CONSTRAINT ft1_c9_check DEFERRABLE
ERROR: 
ALTER FOREIGN TABLE ft1 ALTER CONSTRAINT ft1_c9_check DEFERRABLE

Parser Error: syntax error at or near "FOREIGN"
 -- ERROR
ALTER FOREIGN TABLE ft1 DROP CONSTRAINT ft1_c9_check
ERROR:  -- ERROR
ALTER FOREIGN TABLE ft1 DROP CONSTRAINT ft1_c9_check

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 DROP CONSTRAINT no_const
ERROR: 
ALTER FOREIGN TABLE ft1 DROP CONSTRAINT no_const

Parser Error: syntax error at or near "FOREIGN"
               -- ERROR
ALTER FOREIGN TABLE ft1 DROP CONSTRAINT IF EXISTS no_const
ERROR:                -- ERROR
ALTER FOREIGN TABLE ft1 DROP CONSTRAINT IF EXISTS no_const

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 OWNER TO regress_test_role
ERROR: 
ALTER FOREIGN TABLE ft1 OWNER TO regress_test_role

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 OPTIONS (DROP delimiter, SET quote '~', ADD escape '@')
ERROR: 
ALTER FOREIGN TABLE ft1 OPTIONS (DROP delimiter, SET quote '~', ADD escape '@')

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 DROP COLUMN no_column
ERROR: 
ALTER FOREIGN TABLE ft1 DROP COLUMN no_column

Parser Error: syntax error at or near "FOREIGN"
                  -- ERROR
ALTER FOREIGN TABLE ft1 DROP COLUMN IF EXISTS no_column
ERROR:                   -- ERROR
ALTER FOREIGN TABLE ft1 DROP COLUMN IF EXISTS no_column

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 DROP COLUMN c9
ERROR: 
ALTER FOREIGN TABLE ft1 DROP COLUMN c9

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 SET SCHEMA foreign_schema
ERROR: 
ALTER FOREIGN TABLE ft1 SET SCHEMA foreign_schema

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE ft1 SET TABLESPACE ts
ERROR: 
ALTER FOREIGN TABLE ft1 SET TABLESPACE ts

Parser Error: syntax error at or near "FOREIGN"
                      -- ERROR
ALTER FOREIGN TABLE foreign_schema.ft1 RENAME c1 TO foreign_column_1
ERROR:                       -- ERROR
ALTER FOREIGN TABLE foreign_schema.ft1 RENAME c1 TO foreign_column_1

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE foreign_schema.ft1 RENAME TO foreign_table_1
ERROR: 
ALTER FOREIGN TABLE foreign_schema.ft1 RENAME TO foreign_table_1

Parser Error: syntax error at or near "FOREIGN"

-- \d foreign_schema.foreign_table_1

-- alter noexisting table
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c4 integer
ERROR: 
-- \d foreign_schema.foreign_table_1

-- alter noexisting table
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c4 integer

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c6 integer
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c6 integer

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c7 integer NOT NULL
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c7 integer NOT NULL

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c8 integer
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c8 integer

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c9 integer
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c9 integer

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c10 integer OPTIONS (p1 'v1')
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c10 integer OPTIONS (p1 'v1')

Parser Error: syntax error at or near "FOREIGN"


ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c6 SET NOT NULL
ERROR: 

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c6 SET NOT NULL

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c7 DROP NOT NULL
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c7 DROP NOT NULL

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 TYPE char(10)
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 TYPE char(10)

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 SET DATA TYPE text
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 SET DATA TYPE text

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c7 OPTIONS (ADD p1 'v1', ADD p2 'v2'),
                        ALTER COLUMN c8 OPTIONS (ADD p1 'v1', ADD p2 'v2')
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c7 OPTIONS (ADD p1 'v1', ADD p2 'v2'),
                        ALTER COLUMN c8 OPTIONS (ADD p1 'v1', ADD p2 'v2')

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 OPTIONS (SET p2 'V2', DROP p1)
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 OPTIONS (SET p2 'V2', DROP p1)

Parser Error: syntax error at or near "FOREIGN"


ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP CONSTRAINT IF EXISTS no_const
ERROR: 

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP CONSTRAINT IF EXISTS no_const

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP CONSTRAINT ft1_c1_check
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP CONSTRAINT ft1_c1_check

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 OWNER TO regress_test_role
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 OWNER TO regress_test_role

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 OPTIONS (DROP delimiter, SET quote '~', ADD escape '@')
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 OPTIONS (DROP delimiter, SET quote '~', ADD escape '@')

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP COLUMN IF EXISTS no_column
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP COLUMN IF EXISTS no_column

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP COLUMN c9
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP COLUMN c9

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 SET SCHEMA foreign_schema
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 SET SCHEMA foreign_schema

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 RENAME c1 TO foreign_column_1
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 RENAME c1 TO foreign_column_1

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 RENAME TO foreign_table_1
ERROR: 
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 RENAME TO foreign_table_1

Parser Error: syntax error at or near "FOREIGN"


-- Information schema

SELECT * FROM information_schema.foreign_data_wrappers ORDER BY 1, 2
ERROR: 

-- Information schema

SELECT * FROM information_schema.foreign_data_wrappers ORDER BY 1, 2

Catalog Error: Table with name foreign_data_wrappers does not exist!
Did you mean "pg_catalog.pg_database"?

SELECT * FROM information_schema.foreign_data_wrapper_options ORDER BY 1, 2, 3
ERROR: 
SELECT * FROM information_schema.foreign_data_wrapper_options ORDER BY 1, 2, 3

Catalog Error: Table with name foreign_data_wrapper_options does not exist!
Did you mean "pg_catalog.pg_description"?

SELECT * FROM information_schema.foreign_servers ORDER BY 1, 2
ERROR: 
SELECT * FROM information_schema.foreign_servers ORDER BY 1, 2

Catalog Error: Table with name foreign_servers does not exist!
Did you mean "pg_catalog.pg_views"?

SELECT * FROM information_schema.foreign_server_options ORDER BY 1, 2, 3
ERROR: 
SELECT * FROM information_schema.foreign_server_options ORDER BY 1, 2, 3

Catalog Error: Table with name foreign_server_options does not exist!
Did you mean "pg_catalog.pg_settings"?

SELECT * FROM information_schema.user_mappings ORDER BY lower(authorization_identifier), 2, 3
ERROR: 
SELECT * FROM information_schema.user_mappings ORDER BY lower(authorization_identifier), 2, 3

Catalog Error: Table with name user_mappings does not exist!
Did you mean "columns"?

SELECT * FROM information_schema.user_mapping_options ORDER BY lower(authorization_identifier), 2, 3, 4
ERROR: 
SELECT * FROM information_schema.user_mapping_options ORDER BY lower(authorization_identifier), 2, 3, 4

Catalog Error: Table with name user_mapping_options does not exist!
Did you mean "pg_catalog.pg_proc"?

SELECT * FROM information_schema.usage_privileges WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5
ERROR: 
SELECT * FROM information_schema.usage_privileges WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5

Catalog Error: Table with name usage_privileges does not exist!
Did you mean "pg_catalog.pg_views"?

SELECT * FROM information_schema.role_usage_grants WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5
ERROR: 
SELECT * FROM information_schema.role_usage_grants WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5

Catalog Error: Table with name role_usage_grants does not exist!
Did you mean "columns"?

SELECT * FROM information_schema.foreign_tables ORDER BY 1, 2, 3
ERROR: 
SELECT * FROM information_schema.foreign_tables ORDER BY 1, 2, 3

Catalog Error: Table with name foreign_tables does not exist!
Did you mean "pg_catalog.pg_tables"?

SELECT * FROM information_schema.foreign_table_options ORDER BY 1, 2, 3, 4
ERROR: 
SELECT * FROM information_schema.foreign_table_options ORDER BY 1, 2, 3, 4

Catalog Error: Table with name foreign_table_options does not exist!
Did you mean "pg_catalog.pg_tables"?

SET ROLE regress_test_role
ERROR: 
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

SELECT * FROM information_schema.user_mapping_options ORDER BY 1, 2, 3, 4
ERROR: 
SELECT * FROM information_schema.user_mapping_options ORDER BY 1, 2, 3, 4

Catalog Error: Table with name user_mapping_options does not exist!
Did you mean "pg_catalog.pg_proc"?

SELECT * FROM information_schema.usage_privileges WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5
ERROR: 
SELECT * FROM information_schema.usage_privileges WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5

Catalog Error: Table with name usage_privileges does not exist!
Did you mean "pg_catalog.pg_views"?

SELECT * FROM information_schema.role_usage_grants WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5
ERROR: 
SELECT * FROM information_schema.role_usage_grants WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5

Catalog Error: Table with name role_usage_grants does not exist!
Did you mean "columns"?

DROP USER MAPPING FOR current_user SERVER t1
ERROR: 
DROP USER MAPPING FOR current_user SERVER t1

Parser Error: syntax error at or near "USER"

SET ROLE regress_test_role2
ERROR: 
SET ROLE regress_test_role2

Parser Error: syntax error at or near "regress_test_role2"

SELECT * FROM information_schema.user_mapping_options ORDER BY 1, 2, 3, 4
ERROR: 
SELECT * FROM information_schema.user_mapping_options ORDER BY 1, 2, 3, 4

Catalog Error: Table with name user_mapping_options does not exist!
Did you mean "pg_catalog.pg_proc"?

RESET ROLE
ERROR: 
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"



-- has_foreign_data_wrapper_privilege
SELECT has_foreign_data_wrapper_privilege('regress_test_role',
    (SELECT oid FROM pg_foreign_data_wrapper WHERE fdwname='foo'), 'USAGE')
ERROR: 


-- has_foreign_data_wrapper_privilege
SELECT has_foreign_data_wrapper_privilege('regress_test_role',
    (SELECT oid FROM pg_foreign_data_wrapper WHERE fdwname='foo'), 'USAGE')

Binder Error: Macro function 'has_foreign_data_wrapper_privilege(fdw, privilege)' requires 2 positional arguments, but 3 positional arguments were provided.

SELECT has_foreign_data_wrapper_privilege('regress_test_role', 'foo', 'USAGE')
ERROR: 
SELECT has_foreign_data_wrapper_privilege('regress_test_role', 'foo', 'USAGE')

Binder Error: Macro function 'has_foreign_data_wrapper_privilege(fdw, privilege)' requires 2 positional arguments, but 3 positional arguments were provided.

SELECT has_foreign_data_wrapper_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'),
    (SELECT oid FROM pg_foreign_data_wrapper WHERE fdwname='foo'), 'USAGE')
ERROR: 
SELECT has_foreign_data_wrapper_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'),
    (SELECT oid FROM pg_foreign_data_wrapper WHERE fdwname='foo'), 'USAGE')

Binder Error: Macro function 'has_foreign_data_wrapper_privilege(fdw, privilege)' requires 2 positional arguments, but 3 positional arguments were provided.

SELECT has_foreign_data_wrapper_privilege(
    (SELECT oid FROM pg_foreign_data_wrapper WHERE fdwname='foo'), 'USAGE')
RESULT: 
	[(True,)]

SELECT has_foreign_data_wrapper_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'), 'foo', 'USAGE')
ERROR: 
SELECT has_foreign_data_wrapper_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'), 'foo', 'USAGE')

Binder Error: Macro function 'has_foreign_data_wrapper_privilege(fdw, privilege)' requires 2 positional arguments, but 3 positional arguments were provided.

SELECT has_foreign_data_wrapper_privilege('foo', 'USAGE')
RESULT: 
	[(True,)]

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role
ERROR: 
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role

Parser Error: syntax error at or near "GRANT"

SELECT has_foreign_data_wrapper_privilege('regress_test_role', 'foo', 'USAGE')
ERROR: 
SELECT has_foreign_data_wrapper_privilege('regress_test_role', 'foo', 'USAGE')

Binder Error: Macro function 'has_foreign_data_wrapper_privilege(fdw, privilege)' requires 2 positional arguments, but 3 positional arguments were provided.


-- has_server_privilege
SELECT has_server_privilege('regress_test_role',
    (SELECT oid FROM pg_foreign_server WHERE srvname='s8'), 'USAGE')
ERROR: 

-- has_server_privilege
SELECT has_server_privilege('regress_test_role',
    (SELECT oid FROM pg_foreign_server WHERE srvname='s8'), 'USAGE')

Binder Error: Macro function 'has_server_privilege(server, privilege)' requires 2 positional arguments, but 3 positional arguments were provided.

SELECT has_server_privilege('regress_test_role', 's8', 'USAGE')
ERROR: 
SELECT has_server_privilege('regress_test_role', 's8', 'USAGE')

Binder Error: Macro function 'has_server_privilege(server, privilege)' requires 2 positional arguments, but 3 positional arguments were provided.

SELECT has_server_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'),
    (SELECT oid FROM pg_foreign_server WHERE srvname='s8'), 'USAGE')
ERROR: 
SELECT has_server_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'),
    (SELECT oid FROM pg_foreign_server WHERE srvname='s8'), 'USAGE')

Binder Error: Macro function 'has_server_privilege(server, privilege)' requires 2 positional arguments, but 3 positional arguments were provided.

SELECT has_server_privilege(
    (SELECT oid FROM pg_foreign_server WHERE srvname='s8'), 'USAGE')
RESULT: 
	[(True,)]

SELECT has_server_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'), 's8', 'USAGE')
ERROR: 
SELECT has_server_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'), 's8', 'USAGE')

Binder Error: Macro function 'has_server_privilege(server, privilege)' requires 2 positional arguments, but 3 positional arguments were provided.

SELECT has_server_privilege('s8', 'USAGE')
RESULT: 
	[(True,)]

GRANT USAGE ON FOREIGN SERVER s8 TO regress_test_role
ERROR: 
GRANT USAGE ON FOREIGN SERVER s8 TO regress_test_role

Parser Error: syntax error at or near "GRANT"

SELECT has_server_privilege('regress_test_role', 's8', 'USAGE')
ERROR: 
SELECT has_server_privilege('regress_test_role', 's8', 'USAGE')

Binder Error: Macro function 'has_server_privilege(server, privilege)' requires 2 positional arguments, but 3 positional arguments were provided.

REVOKE USAGE ON FOREIGN SERVER s8 FROM regress_test_role
ERROR: 
REVOKE USAGE ON FOREIGN SERVER s8 FROM regress_test_role

Parser Error: syntax error at or near "REVOKE"


GRANT USAGE ON FOREIGN SERVER s4 TO regress_test_role
ERROR: 

GRANT USAGE ON FOREIGN SERVER s4 TO regress_test_role

Parser Error: syntax error at or near "GRANT"

DROP USER MAPPING FOR public SERVER s4
ERROR: 
DROP USER MAPPING FOR public SERVER s4

Parser Error: syntax error at or near "USER"

ALTER SERVER s6 OPTIONS (DROP host, DROP dbname)
ERROR: 
ALTER SERVER s6 OPTIONS (DROP host, DROP dbname)

Parser Error: syntax error at or near "SERVER"

ALTER USER MAPPING FOR regress_test_role SERVER s6 OPTIONS (DROP username)
ERROR: 
ALTER USER MAPPING FOR regress_test_role SERVER s6 OPTIONS (DROP username)

Parser Error: syntax error at or near "USER"

ALTER FOREIGN DATA WRAPPER foo VALIDATOR postgresql_fdw_validator
ERROR: 
ALTER FOREIGN DATA WRAPPER foo VALIDATOR postgresql_fdw_validator

Parser Error: syntax error at or near "FOREIGN"


-- Privileges
SET ROLE regress_unprivileged_role
ERROR: 

-- Privileges
SET ROLE regress_unprivileged_role

Parser Error: syntax error at or near "regress_unprivileged_role"

CREATE FOREIGN DATA WRAPPER foobar
ERROR: 
CREATE FOREIGN DATA WRAPPER foobar

Parser Error: syntax error at or near "FOREIGN"
                             -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (gotcha 'true')
ERROR:                              -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (gotcha 'true')

Parser Error: syntax error at or near "FOREIGN"
         -- ERROR
ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_unprivileged_role
ERROR:          -- ERROR
ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_unprivileged_role

Parser Error: syntax error at or near "FOREIGN"
 -- ERROR
DROP FOREIGN DATA WRAPPER foo
ERROR:  -- ERROR
DROP FOREIGN DATA WRAPPER foo

Not implemented Error: Cannot drop this type yet
                                  -- ERROR
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role
ERROR:                                   -- ERROR
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role

Parser Error: syntax error at or near "GRANT"
   -- ERROR
CREATE SERVER s9 FOREIGN DATA WRAPPER foo
ERROR:    -- ERROR
CREATE SERVER s9 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"
                      -- ERROR
ALTER SERVER s4 VERSION '0.5'
ERROR:                       -- ERROR
ALTER SERVER s4 VERSION '0.5'

Parser Error: syntax error at or near "SERVER"
                                  -- ERROR
ALTER SERVER s4 OWNER TO regress_unprivileged_role
ERROR:                                   -- ERROR
ALTER SERVER s4 OWNER TO regress_unprivileged_role

Parser Error: syntax error at or near "SERVER"
             -- ERROR
DROP SERVER s4
ERROR:              -- ERROR
DROP SERVER s4

Not implemented Error: Cannot drop this type yet
                                                 -- ERROR
GRANT USAGE ON FOREIGN SERVER s4 TO regress_test_role
ERROR:                                                  -- ERROR
GRANT USAGE ON FOREIGN SERVER s4 TO regress_test_role

Parser Error: syntax error at or near "GRANT"
          -- ERROR
CREATE USER MAPPING FOR public SERVER s4
ERROR:           -- ERROR
CREATE USER MAPPING FOR public SERVER s4

Parser Error: syntax error at or near "USER"
                       -- ERROR
ALTER USER MAPPING FOR regress_test_role SERVER s6 OPTIONS (gotcha 'true')
ERROR:                        -- ERROR
ALTER USER MAPPING FOR regress_test_role SERVER s6 OPTIONS (gotcha 'true')

Parser Error: syntax error at or near "USER"
 -- ERROR
DROP USER MAPPING FOR regress_test_role SERVER s6
ERROR:  -- ERROR
DROP USER MAPPING FOR regress_test_role SERVER s6

Parser Error: syntax error at or near "USER"
              -- ERROR
RESET ROLE
ERROR:               -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"


GRANT USAGE ON FOREIGN DATA WRAPPER postgresql TO regress_unprivileged_role
ERROR: 

GRANT USAGE ON FOREIGN DATA WRAPPER postgresql TO regress_unprivileged_role

Parser Error: syntax error at or near "GRANT"

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_unprivileged_role WITH GRANT OPTION
ERROR: 
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_unprivileged_role WITH GRANT OPTION

Parser Error: syntax error at or near "GRANT"

SET ROLE regress_unprivileged_role
ERROR: 
SET ROLE regress_unprivileged_role

Parser Error: syntax error at or near "regress_unprivileged_role"

CREATE FOREIGN DATA WRAPPER foobar
ERROR: 
CREATE FOREIGN DATA WRAPPER foobar

Parser Error: syntax error at or near "FOREIGN"
                             -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (gotcha 'true')
ERROR:                              -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (gotcha 'true')

Parser Error: syntax error at or near "FOREIGN"
         -- ERROR
DROP FOREIGN DATA WRAPPER foo
ERROR:          -- ERROR
DROP FOREIGN DATA WRAPPER foo

Not implemented Error: Cannot drop this type yet
                                  -- ERROR
GRANT USAGE ON FOREIGN DATA WRAPPER postgresql TO regress_test_role
ERROR:                                   -- ERROR
GRANT USAGE ON FOREIGN DATA WRAPPER postgresql TO regress_test_role

Parser Error: syntax error at or near "GRANT"
 -- WARNING
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role
ERROR:  -- WARNING
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role

Parser Error: syntax error at or near "GRANT"

CREATE SERVER s9 FOREIGN DATA WRAPPER postgresql
ERROR: 
CREATE SERVER s9 FOREIGN DATA WRAPPER postgresql

Parser Error: syntax error at or near "SERVER"

ALTER SERVER s6 VERSION '0.5'
ERROR: 
ALTER SERVER s6 VERSION '0.5'

Parser Error: syntax error at or near "SERVER"
                                  -- ERROR
DROP SERVER s6
ERROR:                                   -- ERROR
DROP SERVER s6

Not implemented Error: Cannot drop this type yet
                                                 -- ERROR
GRANT USAGE ON FOREIGN SERVER s6 TO regress_test_role
ERROR:                                                  -- ERROR
GRANT USAGE ON FOREIGN SERVER s6 TO regress_test_role

Parser Error: syntax error at or near "GRANT"
          -- ERROR
GRANT USAGE ON FOREIGN SERVER s9 TO regress_test_role
ERROR:           -- ERROR
GRANT USAGE ON FOREIGN SERVER s9 TO regress_test_role

Parser Error: syntax error at or near "GRANT"

CREATE USER MAPPING FOR public SERVER s6
ERROR: 
CREATE USER MAPPING FOR public SERVER s6

Parser Error: syntax error at or near "USER"
                       -- ERROR
CREATE USER MAPPING FOR public SERVER s9
ERROR:                        -- ERROR
CREATE USER MAPPING FOR public SERVER s9

Parser Error: syntax error at or near "USER"

ALTER USER MAPPING FOR regress_test_role SERVER s6 OPTIONS (gotcha 'true')
ERROR: 
ALTER USER MAPPING FOR regress_test_role SERVER s6 OPTIONS (gotcha 'true')

Parser Error: syntax error at or near "USER"
 -- ERROR
DROP USER MAPPING FOR regress_test_role SERVER s6
ERROR:  -- ERROR
DROP USER MAPPING FOR regress_test_role SERVER s6

Parser Error: syntax error at or near "USER"
              -- ERROR
RESET ROLE
ERROR:               -- ERROR
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"


REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_unprivileged_role
ERROR: 

REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_unprivileged_role

Parser Error: syntax error at or near "REVOKE"
 -- ERROR
REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_unprivileged_role CASCADE
ERROR:  -- ERROR
REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_unprivileged_role CASCADE

Parser Error: syntax error at or near "REVOKE"

SET ROLE regress_unprivileged_role
ERROR: 
SET ROLE regress_unprivileged_role

Parser Error: syntax error at or near "regress_unprivileged_role"

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role
ERROR: 
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role

Parser Error: syntax error at or near "GRANT"
   -- ERROR
CREATE SERVER s10 FOREIGN DATA WRAPPER foo
ERROR:    -- ERROR
CREATE SERVER s10 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"
                     -- ERROR
ALTER SERVER s9 VERSION '1.1'
ERROR:                      -- ERROR
ALTER SERVER s9 VERSION '1.1'

Parser Error: syntax error at or near "SERVER"

GRANT USAGE ON FOREIGN SERVER s9 TO regress_test_role
ERROR: 
GRANT USAGE ON FOREIGN SERVER s9 TO regress_test_role

Parser Error: syntax error at or near "GRANT"

CREATE USER MAPPING FOR current_user SERVER s9
ERROR: 
CREATE USER MAPPING FOR current_user SERVER s9

Parser Error: syntax error at or near "USER"

DROP SERVER s9 CASCADE
ERROR: 
DROP SERVER s9 CASCADE

Not implemented Error: Cannot drop this type yet

RESET ROLE
ERROR: 
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

CREATE SERVER s9 FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER s9 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"

GRANT USAGE ON FOREIGN SERVER s9 TO regress_unprivileged_role
ERROR: 
GRANT USAGE ON FOREIGN SERVER s9 TO regress_unprivileged_role

Parser Error: syntax error at or near "GRANT"

SET ROLE regress_unprivileged_role
ERROR: 
SET ROLE regress_unprivileged_role

Parser Error: syntax error at or near "regress_unprivileged_role"

ALTER SERVER s9 VERSION '1.2'
ERROR: 
ALTER SERVER s9 VERSION '1.2'

Parser Error: syntax error at or near "SERVER"
                                  -- ERROR
GRANT USAGE ON FOREIGN SERVER s9 TO regress_test_role
ERROR:                                   -- ERROR
GRANT USAGE ON FOREIGN SERVER s9 TO regress_test_role

Parser Error: syntax error at or near "GRANT"
          -- WARNING
CREATE USER MAPPING FOR current_user SERVER s9
ERROR:           -- WARNING
CREATE USER MAPPING FOR current_user SERVER s9

Parser Error: syntax error at or near "USER"

DROP SERVER s9 CASCADE
ERROR: 
DROP SERVER s9 CASCADE

Not implemented Error: Cannot drop this type yet
                                         -- ERROR

-- Check visibility of user mapping data
SET ROLE regress_test_role
ERROR:                                          -- ERROR

-- Check visibility of user mapping data
SET ROLE regress_test_role

Parser Error: syntax error at or near "regress_test_role"

CREATE SERVER s10 FOREIGN DATA WRAPPER foo
ERROR: 
CREATE SERVER s10 FOREIGN DATA WRAPPER foo

Parser Error: syntax error at or near "SERVER"

CREATE USER MAPPING FOR public SERVER s10 OPTIONS (user 'secret')
ERROR: 
CREATE USER MAPPING FOR public SERVER s10 OPTIONS (user 'secret')

Parser Error: syntax error at or near "USER"

CREATE USER MAPPING FOR regress_unprivileged_role SERVER s10 OPTIONS (user 'secret')
ERROR: 
CREATE USER MAPPING FOR regress_unprivileged_role SERVER s10 OPTIONS (user 'secret')

Parser Error: syntax error at or near "USER"

-- owner of server can see some option fields
-- \deu+
RESET ROLE
ERROR: 
-- owner of server can see some option fields
-- \deu+
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

-- superuser can see all option fields
-- \deu+
-- unprivileged user cannot see any option field
SET ROLE regress_unprivileged_role
ERROR: 
-- superuser can see all option fields
-- \deu+
-- unprivileged user cannot see any option field
SET ROLE regress_unprivileged_role

Parser Error: syntax error at or near "regress_unprivileged_role"

-- \deu+
RESET ROLE
ERROR: 
-- \deu+
RESET ROLE

Catalog Error: unrecognized configuration parameter "ROLE"

Did you mean: "threads", "Calendar", "profile_output", "errors_as_json", "home_directory"

DROP SERVER s10 CASCADE
ERROR: 
DROP SERVER s10 CASCADE

Not implemented Error: Cannot drop this type yet


-- Triggers
CREATE FUNCTION dummy_trigger() RETURNS TRIGGER AS $$
  BEGIN
    RETURN NULL;
  END
$$ language plpgsql
ERROR: 

-- Triggers
CREATE FUNCTION dummy_trigger() RETURNS TRIGGER AS $$
  BEGIN
    RETURN NULL;
  END
$$ language plpgsql

Parser Error: syntax error at or near "RETURNS"


CREATE TRIGGER trigtest_before_stmt BEFORE INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger()
ERROR: 

CREATE TRIGGER trigtest_before_stmt BEFORE INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger()

Parser Error: syntax error at or near "TRIGGER"


CREATE TRIGGER trigtest_after_stmt AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger()
ERROR: 

CREATE TRIGGER trigtest_after_stmt AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger()

Parser Error: syntax error at or near "TRIGGER"


CREATE TRIGGER trigtest_after_stmt_tt AFTER INSERT OR UPDATE OR DELETE -- ERROR
ON foreign_schema.foreign_table_1
REFERENCING NEW TABLE AS new_table
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger()
ERROR: 

CREATE TRIGGER trigtest_after_stmt_tt AFTER INSERT OR UPDATE OR DELETE -- ERROR
ON foreign_schema.foreign_table_1
REFERENCING NEW TABLE AS new_table
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger()

Parser Error: syntax error at or near "TRIGGER"


CREATE TRIGGER trigtest_before_row BEFORE INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger()
ERROR: 

CREATE TRIGGER trigtest_before_row BEFORE INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger()

Parser Error: syntax error at or near "TRIGGER"


CREATE TRIGGER trigtest_after_row AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger()
ERROR: 

CREATE TRIGGER trigtest_after_row AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger()

Parser Error: syntax error at or near "TRIGGER"


CREATE CONSTRAINT TRIGGER trigtest_constraint AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger()
ERROR: 

CREATE CONSTRAINT TRIGGER trigtest_constraint AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger()

Parser Error: syntax error at or near "CONSTRAINT"


ALTER FOREIGN TABLE foreign_schema.foreign_table_1
	DISABLE TRIGGER trigtest_before_stmt
ERROR: 

ALTER FOREIGN TABLE foreign_schema.foreign_table_1
	DISABLE TRIGGER trigtest_before_stmt

Parser Error: syntax error at or near "FOREIGN"

ALTER FOREIGN TABLE foreign_schema.foreign_table_1
	ENABLE TRIGGER trigtest_before_stmt
ERROR: 
ALTER FOREIGN TABLE foreign_schema.foreign_table_1
	ENABLE TRIGGER trigtest_before_stmt

Parser Error: syntax error at or near "FOREIGN"


DROP TRIGGER trigtest_before_stmt ON foreign_schema.foreign_table_1
ERROR: 

DROP TRIGGER trigtest_before_stmt ON foreign_schema.foreign_table_1

Not implemented Error: Cannot drop this type yet

DROP TRIGGER trigtest_before_row ON foreign_schema.foreign_table_1
ERROR: 
DROP TRIGGER trigtest_before_row ON foreign_schema.foreign_table_1

Not implemented Error: Cannot drop this type yet

DROP TRIGGER trigtest_after_stmt ON foreign_schema.foreign_table_1
ERROR: 
DROP TRIGGER trigtest_after_stmt ON foreign_schema.foreign_table_1

Not implemented Error: Cannot drop this type yet

DROP TRIGGER trigtest_after_row ON foreign_schema.foreign_table_1
ERROR: 
DROP TRIGGER trigtest_after_row ON foreign_schema.foreign_table_1

Not implemented Error: Cannot drop this type yet


DROP FUNCTION dummy_trigger()
ERROR: 

DROP FUNCTION dummy_trigger()

Parser Error: syntax error at or near "("


-- Table inheritance
CREATE TABLE fd_pt1 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
)

CREATE FOREIGN TABLE ft2 () INHERITS (fd_pt1)
  SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
-- \d+ fd_pt1
-- \d+ ft2
DROP FOREIGN TABLE ft2;
-- \d+ fd_pt1
CREATE FOREIGN TABLE ft2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')
ERROR: 
CREATE FOREIGN TABLE ft2 () INHERITS (fd_pt1)
  SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
-- \d+ fd_pt1
-- \d+ ft2
DROP FOREIGN TABLE ft2;
-- \d+ fd_pt1
CREATE FOREIGN TABLE ft2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')

Parser Error: syntax error at or near "FOREIGN"

-- \d+ ft2
ALTER FOREIGN TABLE ft2 INHERIT fd_pt1
ERROR: 
-- \d+ ft2
ALTER FOREIGN TABLE ft2 INHERIT fd_pt1

Parser Error: syntax error at or near "FOREIGN"

-- \d+ fd_pt1
-- \d+ ft2
CREATE TABLE ct3() INHERITS(ft2)
ERROR: 
-- \d+ fd_pt1
-- \d+ ft2
CREATE TABLE ct3() INHERITS(ft2)

Parser Error: syntax error at or near "INHERITS"

CREATE FOREIGN TABLE ft3 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) INHERITS(ft2)
  SERVER s0
ERROR: 
CREATE FOREIGN TABLE ft3 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) INHERITS(ft2)
  SERVER s0

Parser Error: syntax error at or near "FOREIGN"

-- \d+ ft2
-- \d+ ct3
-- \d+ ft3

-- add attributes recursively
ALTER TABLE fd_pt1 ADD COLUMN c4 integer

ALTER TABLE fd_pt1 ADD COLUMN c5 integer DEFAULT 0

ALTER TABLE fd_pt1 ADD COLUMN c6 integer

ALTER TABLE fd_pt1 ADD COLUMN c7 integer NOT NULL
ERROR: 
ALTER TABLE fd_pt1 ADD COLUMN c7 integer NOT NULL

Parser Error: Adding columns with constraints not yet supported

ALTER TABLE fd_pt1 ADD COLUMN c8 integer

-- \d+ fd_pt1
-- \d+ ft2
-- \d+ ct3
-- \d+ ft3

-- alter attributes recursively
ALTER TABLE fd_pt1 ALTER COLUMN c4 SET DEFAULT 0

ALTER TABLE fd_pt1 ALTER COLUMN c5 DROP DEFAULT

ALTER TABLE fd_pt1 ALTER COLUMN c6 SET NOT NULL

ALTER TABLE fd_pt1 ALTER COLUMN c7 DROP NOT NULL
ERROR: 
ALTER TABLE fd_pt1 ALTER COLUMN c7 DROP NOT NULL

Binder Error: Table "fd_pt1" does not have a column with name "c7"

ALTER TABLE fd_pt1 ALTER COLUMN c8 TYPE char(10) USING '0'
        -- ERROR
ALTER TABLE fd_pt1 ALTER COLUMN c8 TYPE char(10)

ALTER TABLE fd_pt1 ALTER COLUMN c8 SET DATA TYPE text

ALTER TABLE fd_pt1 ALTER COLUMN c1 SET STATISTICS 10000
ERROR: 
ALTER TABLE fd_pt1 ALTER COLUMN c1 SET STATISTICS 10000

Not implemented Error: No support for that ALTER TABLE option yet!

ALTER TABLE fd_pt1 ALTER COLUMN c1 SET (n_distinct = 100)
ERROR: 
ALTER TABLE fd_pt1 ALTER COLUMN c1 SET (n_distinct = 100)

Not implemented Error: No support for that ALTER TABLE option yet!

ALTER TABLE fd_pt1 ALTER COLUMN c8 SET STATISTICS -1
ERROR: 
ALTER TABLE fd_pt1 ALTER COLUMN c8 SET STATISTICS -1

Not implemented Error: No support for that ALTER TABLE option yet!

ALTER TABLE fd_pt1 ALTER COLUMN c8 SET STORAGE EXTERNAL
ERROR: 
ALTER TABLE fd_pt1 ALTER COLUMN c8 SET STORAGE EXTERNAL

Not implemented Error: No support for that ALTER TABLE option yet!

-- \d+ fd_pt1
-- \d+ ft2

-- drop attributes recursively
ALTER TABLE fd_pt1 DROP COLUMN c4

ALTER TABLE fd_pt1 DROP COLUMN c5

ALTER TABLE fd_pt1 DROP COLUMN c6

ALTER TABLE fd_pt1 DROP COLUMN c7
ERROR: 
ALTER TABLE fd_pt1 DROP COLUMN c7

Binder Error: Table "fd_pt1" does not have a column with name "c7"

ALTER TABLE fd_pt1 DROP COLUMN c8

-- \d+ fd_pt1
-- \d+ ft2

-- add constraints recursively
ALTER TABLE fd_pt1 ADD CONSTRAINT fd_pt1chk1 CHECK (c1 > 0) NO INHERIT
ERROR: 
-- \d+ fd_pt1
-- \d+ ft2

-- add constraints recursively
ALTER TABLE fd_pt1 ADD CONSTRAINT fd_pt1chk1 CHECK (c1 > 0) NO INHERIT

Not implemented Error: No support for that ALTER TABLE option yet!

ALTER TABLE fd_pt1 ADD CONSTRAINT fd_pt1chk2 CHECK (c2 <> '')
ERROR: 
ALTER TABLE fd_pt1 ADD CONSTRAINT fd_pt1chk2 CHECK (c2 <> '')

Not implemented Error: No support for that ALTER TABLE option yet!

-- connoinherit should be true for NO INHERIT constraint
SELECT relname, conname, contype, conislocal, coninhcount, connoinherit
  FROM pg_class AS pc JOIN pg_constraint AS pgc ON (conrelid = pc.oid)
  WHERE pc.relname = 'fd_pt1'
  ORDER BY 1,2
RESULT: 
	[('fd_pt1', 'NOT NULL', 'x', True, 0, False)]

-- child does not inherit NO INHERIT constraints
-- \d+ fd_pt1
-- \d+ ft2
DROP FOREIGN TABLE ft2
ERROR: 
-- child does not inherit NO INHERIT constraints
-- \d+ fd_pt1
-- \d+ ft2
DROP FOREIGN TABLE ft2

Not implemented Error: Cannot drop this type yet
 -- ERROR
DROP FOREIGN TABLE ft2 CASCADE
ERROR:  -- ERROR
DROP FOREIGN TABLE ft2 CASCADE

Not implemented Error: Cannot drop this type yet

CREATE FOREIGN TABLE ft2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
-- child must have parent''s INHERIT constraints
ALTER FOREIGN TABLE ft2 INHERIT fd_pt1;                            -- ERROR
ALTER FOREIGN TABLE ft2 ADD CONSTRAINT fd_pt1chk2 CHECK (c2 <> '');
ALTER FOREIGN TABLE ft2 INHERIT fd_pt1;
-- child does not inherit NO INHERIT constraints
-- \d+ fd_pt1
-- \d+ ft2

-- drop constraints recursively
ALTER TABLE fd_pt1 DROP CONSTRAINT fd_pt1chk1 CASCADE;
ALTER TABLE fd_pt1 DROP CONSTRAINT fd_pt1chk2 CASCADE;

-- NOT VALID case
INSERT INTO fd_pt1 VALUES (1, 'fd_pt1'::text, '1994-01-01'::date);
ALTER TABLE fd_pt1 ADD CONSTRAINT fd_pt1chk3 CHECK (c2 <> '') NOT VALID;
-- \d+ fd_pt1
-- \d+ ft2
-- VALIDATE CONSTRAINT need do nothing on foreign tables
ALTER TABLE fd_pt1 VALIDATE CONSTRAINT fd_pt1chk3;
-- \d+ fd_pt1
-- \d+ ft2

-- changes name of an attribute recursively
ALTER TABLE fd_pt1 RENAME COLUMN c1 TO f1;
ALTER TABLE fd_pt1 RENAME COLUMN c2 TO f2;
ALTER TABLE fd_pt1 RENAME COLUMN c3 TO f3;
-- changes name of a constraint recursively
ALTER TABLE fd_pt1 RENAME CONSTRAINT fd_pt1chk3 TO f2_check;
-- \d+ fd_pt1
-- \d+ ft2

DROP TABLE fd_pt1 CASCADE;

-- IMPORT FOREIGN SCHEMA
IMPORT FOREIGN SCHEMA s1 FROM SERVER s9 INTO public; -- ERROR
IMPORT FOREIGN SCHEMA s1 LIMIT TO (t1) FROM SERVER s9 INTO public; --ERROR
IMPORT FOREIGN SCHEMA s1 EXCEPT (t1) FROM SERVER s9 INTO public; -- ERROR
IMPORT FOREIGN SCHEMA s1 EXCEPT (t1, t2) FROM SERVER s9 INTO public
OPTIONS (option1 'value1', option2 'value2'); -- ERROR

-- DROP FOREIGN TABLE
DROP FOREIGN TABLE no_table;                                    -- ERROR
DROP FOREIGN TABLE IF EXISTS no_table;
DROP FOREIGN TABLE foreign_schema.foreign_table_1;

-- REASSIGN OWNED/DROP OWNED of foreign objects
REASSIGN OWNED BY regress_test_role TO regress_test_role2;
DROP OWNED BY regress_test_role2;
DROP OWNED BY regress_test_role2 CASCADE;

-- Foreign partition DDL stuff
CREATE TABLE fd_pt2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) PARTITION BY LIST (c1);
CREATE FOREIGN TABLE fd_pt2_1 PARTITION OF fd_pt2 FOR VALUES IN (1)
  SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')
ERROR: 
CREATE FOREIGN TABLE ft2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
-- child must have parent''s INHERIT constraints
ALTER FOREIGN TABLE ft2 INHERIT fd_pt1;                            -- ERROR
ALTER FOREIGN TABLE ft2 ADD CONSTRAINT fd_pt1chk2 CHECK (c2 <> '');
ALTER FOREIGN TABLE ft2 INHERIT fd_pt1;
-- child does not inherit NO INHERIT constraints
-- \d+ fd_pt1
-- \d+ ft2

-- drop constraints recursively
ALTER TABLE fd_pt1 DROP CONSTRAINT fd_pt1chk1 CASCADE;
ALTER TABLE fd_pt1 DROP CONSTRAINT fd_pt1chk2 CASCADE;

-- NOT VALID case
INSERT INTO fd_pt1 VALUES (1, 'fd_pt1'::text, '1994-01-01'::date);
ALTER TABLE fd_pt1 ADD CONSTRAINT fd_pt1chk3 CHECK (c2 <> '') NOT VALID;
-- \d+ fd_pt1
-- \d+ ft2
-- VALIDATE CONSTRAINT need do nothing on foreign tables
ALTER TABLE fd_pt1 VALIDATE CONSTRAINT fd_pt1chk3;
-- \d+ fd_pt1
-- \d+ ft2

-- changes name of an attribute recursively
ALTER TABLE fd_pt1 RENAME COLUMN c1 TO f1;
ALTER TABLE fd_pt1 RENAME COLUMN c2 TO f2;
ALTER TABLE fd_pt1 RENAME COLUMN c3 TO f3;
-- changes name of a constraint recursively
ALTER TABLE fd_pt1 RENAME CONSTRAINT fd_pt1chk3 TO f2_check;
-- \d+ fd_pt1
-- \d+ ft2

DROP TABLE fd_pt1 CASCADE;

-- IMPORT FOREIGN SCHEMA
IMPORT FOREIGN SCHEMA s1 FROM SERVER s9 INTO public; -- ERROR
IMPORT FOREIGN SCHEMA s1 LIMIT TO (t1) FROM SERVER s9 INTO public; --ERROR
IMPORT FOREIGN SCHEMA s1 EXCEPT (t1) FROM SERVER s9 INTO public; -- ERROR
IMPORT FOREIGN SCHEMA s1 EXCEPT (t1, t2) FROM SERVER s9 INTO public
OPTIONS (option1 'value1', option2 'value2'); -- ERROR

-- DROP FOREIGN TABLE
DROP FOREIGN TABLE no_table;                                    -- ERROR
DROP FOREIGN TABLE IF EXISTS no_table;
DROP FOREIGN TABLE foreign_schema.foreign_table_1;

-- REASSIGN OWNED/DROP OWNED of foreign objects
REASSIGN OWNED BY regress_test_role TO regress_test_role2;
DROP OWNED BY regress_test_role2;
DROP OWNED BY regress_test_role2 CASCADE;

-- Foreign partition DDL stuff
CREATE TABLE fd_pt2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) PARTITION BY LIST (c1);
CREATE FOREIGN TABLE fd_pt2_1 PARTITION OF fd_pt2 FOR VALUES IN (1)
  SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')

Parser Error: syntax error at or near "FOREIGN"

-- \d+ fd_pt2
-- \d+ fd_pt2_1

-- partition cannot have additional columns
DROP FOREIGN TABLE fd_pt2_1
ERROR: 
-- \d+ fd_pt2
-- \d+ fd_pt2_1

-- partition cannot have additional columns
DROP FOREIGN TABLE fd_pt2_1

Not implemented Error: Cannot drop this type yet

CREATE FOREIGN TABLE fd_pt2_1 (
	c1 integer NOT NULL,
	c2 text,
	c3 date,
	c4 char
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
-- \d+ fd_pt2_1
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1);       -- ERROR

DROP FOREIGN TABLE fd_pt2_1;
-- \d+ fd_pt2
CREATE FOREIGN TABLE fd_pt2_1 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')
ERROR: 
CREATE FOREIGN TABLE fd_pt2_1 (
	c1 integer NOT NULL,
	c2 text,
	c3 date,
	c4 char
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
-- \d+ fd_pt2_1
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1);       -- ERROR

DROP FOREIGN TABLE fd_pt2_1;
-- \d+ fd_pt2
CREATE FOREIGN TABLE fd_pt2_1 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value')

Parser Error: syntax error at or near "FOREIGN"

-- \d+ fd_pt2_1
-- no attach partition validation occurs for foreign tables
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)
ERROR: 
-- \d+ fd_pt2_1
-- no attach partition validation occurs for foreign tables
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)

Parser Error: syntax error at or near "ATTACH"

-- \d+ fd_pt2
-- \d+ fd_pt2_1

-- cannot add column to a partition
ALTER TABLE fd_pt2_1 ADD c4 char
ERROR: 
-- \d+ fd_pt2
-- \d+ fd_pt2_1

-- cannot add column to a partition
ALTER TABLE fd_pt2_1 ADD c4 char

Catalog Error: Table with name fd_pt2_1 does not exist!
Did you mean "fd_pt1"?


-- ok to have a partition''s own constraints though
ALTER TABLE fd_pt2_1 ALTER c3 SET NOT NULL
ERROR: 

-- ok to have a partition''s own constraints though
ALTER TABLE fd_pt2_1 ALTER c3 SET NOT NULL

Catalog Error: Table with name fd_pt2_1 does not exist!
Did you mean "fd_pt1"?

ALTER TABLE fd_pt2_1 ADD CONSTRAINT p21chk CHECK (c2 <> '')
ERROR: 
ALTER TABLE fd_pt2_1 ADD CONSTRAINT p21chk CHECK (c2 <> '')

Not implemented Error: No support for that ALTER TABLE option yet!

-- \d+ fd_pt2
-- \d+ fd_pt2_1

-- cannot drop inherited NOT NULL constraint from a partition
ALTER TABLE fd_pt2_1 ALTER c1 DROP NOT NULL
ERROR: 
-- \d+ fd_pt2
-- \d+ fd_pt2_1

-- cannot drop inherited NOT NULL constraint from a partition
ALTER TABLE fd_pt2_1 ALTER c1 DROP NOT NULL

Catalog Error: Table with name fd_pt2_1 does not exist!
Did you mean "fd_pt1"?


-- partition must have parent''s constraints
ALTER TABLE fd_pt2 DETACH PARTITION fd_pt2_1
ERROR: 

-- partition must have parent''s constraints
ALTER TABLE fd_pt2 DETACH PARTITION fd_pt2_1

Parser Error: syntax error at or near "DETACH"

ALTER TABLE fd_pt2 ALTER c2 SET NOT NULL
ERROR: 
ALTER TABLE fd_pt2 ALTER c2 SET NOT NULL

Catalog Error: Table with name fd_pt2 does not exist!
Did you mean "fd_pt1"?

-- \d+ fd_pt2
-- \d+ fd_pt2_1
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)
ERROR: 
-- \d+ fd_pt2
-- \d+ fd_pt2_1
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)

Parser Error: syntax error at or near "ATTACH"
       -- ERROR
ALTER FOREIGN TABLE fd_pt2_1 ALTER c2 SET NOT NULL
ERROR:        -- ERROR
ALTER FOREIGN TABLE fd_pt2_1 ALTER c2 SET NOT NULL

Parser Error: syntax error at or near "FOREIGN"

ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)
ERROR: 
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)

Parser Error: syntax error at or near "ATTACH"


ALTER TABLE fd_pt2 DETACH PARTITION fd_pt2_1
ERROR: 

ALTER TABLE fd_pt2 DETACH PARTITION fd_pt2_1

Parser Error: syntax error at or near "DETACH"

ALTER TABLE fd_pt2 ADD CONSTRAINT fd_pt2chk1 CHECK (c1 > 0)
ERROR: 
ALTER TABLE fd_pt2 ADD CONSTRAINT fd_pt2chk1 CHECK (c1 > 0)

Not implemented Error: No support for that ALTER TABLE option yet!

-- \d+ fd_pt2
-- \d+ fd_pt2_1
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)
ERROR: 
-- \d+ fd_pt2
-- \d+ fd_pt2_1
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)

Parser Error: syntax error at or near "ATTACH"
       -- ERROR
ALTER FOREIGN TABLE fd_pt2_1 ADD CONSTRAINT fd_pt2chk1 CHECK (c1 > 0)
ERROR:        -- ERROR
ALTER FOREIGN TABLE fd_pt2_1 ADD CONSTRAINT fd_pt2chk1 CHECK (c1 > 0)

Parser Error: syntax error at or near "FOREIGN"

ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)
ERROR: 
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)

Parser Error: syntax error at or near "ATTACH"


DROP FOREIGN TABLE fd_pt2_1
ERROR: 

DROP FOREIGN TABLE fd_pt2_1

Not implemented Error: Cannot drop this type yet

DROP TABLE fd_pt2
ERROR: 
DROP TABLE fd_pt2

Catalog Error: Table with name fd_pt2 does not exist!
Did you mean "fd_pt1"?


-- foreign table cannot be part of partition tree made of temporary
-- relations.
CREATE TEMP TABLE temp_parted (a int) PARTITION BY LIST (a)
ERROR: 

-- foreign table cannot be part of partition tree made of temporary
-- relations.
CREATE TEMP TABLE temp_parted (a int) PARTITION BY LIST (a)

Parser Error: syntax error at or near "PARTITION"

CREATE FOREIGN TABLE foreign_part PARTITION OF temp_parted DEFAULT
  SERVER s0
ERROR: 
CREATE FOREIGN TABLE foreign_part PARTITION OF temp_parted DEFAULT
  SERVER s0

Parser Error: syntax error at or near "FOREIGN"
  -- ERROR
CREATE FOREIGN TABLE foreign_part (a int) SERVER s0
ERROR:   -- ERROR
CREATE FOREIGN TABLE foreign_part (a int) SERVER s0

Parser Error: syntax error at or near "FOREIGN"

ALTER TABLE temp_parted ATTACH PARTITION foreign_part DEFAULT
ERROR: 
ALTER TABLE temp_parted ATTACH PARTITION foreign_part DEFAULT

Parser Error: syntax error at or near "ATTACH"
  -- ERROR
DROP FOREIGN TABLE foreign_part
ERROR:   -- ERROR
DROP FOREIGN TABLE foreign_part

Not implemented Error: Cannot drop this type yet

DROP TABLE temp_parted
ERROR: 
DROP TABLE temp_parted

Catalog Error: Table with name temp_parted does not exist!
Did you mean "pg_am"?


-- Cleanup
DROP SCHEMA foreign_schema CASCADE

DROP ROLE regress_test_role
ERROR: 
DROP ROLE regress_test_role

Parser Error: syntax error at or near "ROLE"
                                -- ERROR
DROP SERVER t1 CASCADE
ERROR:                                 -- ERROR
DROP SERVER t1 CASCADE

Not implemented Error: Cannot drop this type yet

DROP USER MAPPING FOR regress_test_role SERVER s6
ERROR: 
DROP USER MAPPING FOR regress_test_role SERVER s6

Parser Error: syntax error at or near "USER"

DROP FOREIGN DATA WRAPPER foo CASCADE
ERROR: 
DROP FOREIGN DATA WRAPPER foo CASCADE

Not implemented Error: Cannot drop this type yet

DROP SERVER s8 CASCADE
ERROR: 
DROP SERVER s8 CASCADE

Not implemented Error: Cannot drop this type yet

DROP ROLE regress_test_indirect
ERROR: 
DROP ROLE regress_test_indirect

Parser Error: syntax error at or near "ROLE"

DROP ROLE regress_test_role
ERROR: 
DROP ROLE regress_test_role

Parser Error: syntax error at or near "ROLE"

DROP ROLE regress_unprivileged_role
ERROR: 
DROP ROLE regress_unprivileged_role

Parser Error: syntax error at or near "ROLE"
                        -- ERROR
REVOKE ALL ON FOREIGN DATA WRAPPER postgresql FROM regress_unprivileged_role
ERROR:                         -- ERROR
REVOKE ALL ON FOREIGN DATA WRAPPER postgresql FROM regress_unprivileged_role

Parser Error: syntax error at or near "REVOKE"

DROP ROLE regress_unprivileged_role
ERROR: 
DROP ROLE regress_unprivileged_role

Parser Error: syntax error at or near "ROLE"

DROP ROLE regress_test_role2
ERROR: 
DROP ROLE regress_test_role2

Parser Error: syntax error at or near "ROLE"

DROP FOREIGN DATA WRAPPER postgresql CASCADE
ERROR: 
DROP FOREIGN DATA WRAPPER postgresql CASCADE

Not implemented Error: Cannot drop this type yet

DROP FOREIGN DATA WRAPPER dummy CASCADE
ERROR: 
DROP FOREIGN DATA WRAPPER dummy CASCADE

Not implemented Error: Cannot drop this type yet

\c
DROP ROLE regress_foreign_data_user
ERROR: 
\c
DROP ROLE regress_foreign_data_user

Parser Error: syntax error at or near "\"


-- At this point we should have no wrappers, no servers, and no mappings.
SELECT fdwname, fdwhandler, fdwvalidator, fdwoptions FROM pg_foreign_data_wrapper
ERROR: 

-- At this point we should have no wrappers, no servers, and no mappings.
SELECT fdwname, fdwhandler, fdwvalidator, fdwoptions FROM pg_foreign_data_wrapper

Catalog Error: Table with name pg_foreign_data_wrapper does not exist!
Did you mean "pg_database"?

SELECT srvname, srvoptions FROM pg_foreign_server
ERROR: 
SELECT srvname, srvoptions FROM pg_foreign_server

Catalog Error: Table with name pg_foreign_server does not exist!
Did you mean "pg_index"?

SELECT * FROM pg_user_mapping
ERROR: 
SELECT * FROM pg_user_mapping

Catalog Error: Table with name pg_user_mapping does not exist!
Did you mean "pg_settings"?


