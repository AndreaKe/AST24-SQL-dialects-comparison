
-----------
QUERY:
--
-- Test foreign-data wrapper and server management.
--

-- directory paths and dlsuffix are passed to us in environment variables
-- \getenv libdir PG_LIBDIR
-- \getenv dlsuffix PG_DLSUFFIX

-- \set regresslib /* REPLACED */ PG_LIBDIR '/regress' /* REPLACED */ PG_DLSUFFIX

CREATE FUNCTION test_fdw_handler()
    RETURNS fdw_handler
    AS /* REPLACED */ PG_LIBDIR '/regress' PG_DLSUFFIX, 'test_fdw_handler'
    LANGUAGE C;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fdw_handler\n    AS /* REPLACED */  '/home/keuscha/Documents/FS2024/AST/project/p' at line 12")

-----------
QUERY:


-- Clean up in case a prior regression run failed

-- Suppress NOTICE messages when roles don/* REPLACED */ ''t exist
SET client_min_messages TO 'warning';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 'warning'' at line 4")

-----------
QUERY:


DROP ROLE IF EXISTS regress_foreign_data_user, regress_test_role, regress_test_role2, regress_test_role_super, regress_test_indirect, regress_unprivileged_role;
RESULT:
	[]

-----------
QUERY:


RESET client_min_messages;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'client_min_messages' at line 1")

-----------
QUERY:


CREATE ROLE regress_foreign_data_user LOGIN SUPERUSER;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'LOGIN SUPERUSER' at line 1")

-----------
QUERY:

SET SESSION AUTHORIZATION 'regress_foreign_data_user';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''regress_foreign_data_user'' at line 1")

-----------
QUERY:


CREATE ROLE regress_test_role;
RESULT:
	[]

-----------
QUERY:

CREATE ROLE regress_test_role2;
RESULT:
	[]

-----------
QUERY:

CREATE ROLE regress_test_role_super SUPERUSER;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SUPERUSER' at line 1")

-----------
QUERY:

CREATE ROLE regress_test_indirect;
RESULT:
	[]

-----------
QUERY:

CREATE ROLE regress_unprivileged_role;
RESULT:
	[]

-----------
QUERY:


CREATE FOREIGN DATA WRAPPER dummy;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER dummy' at line 1")

-----------
QUERY:

COMMENT ON FOREIGN DATA WRAPPER dummy IS 'useless';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON FOREIGN DATA WRAPPER dummy IS 'useless'' at line 1")

-----------
QUERY:

CREATE FOREIGN DATA WRAPPER postgresql VALIDATOR postgresql_fdw_validator;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER postgresql VALIDATOR postgresql_fdw_validator' at line 1")

-----------
QUERY:


-- At this point we should have 2 built-in wrappers and no servers.
SELECT fdwname, fdwhandler::regproc, fdwvalidator::regproc, fdwoptions FROM pg_foreign_data_wrapper ORDER BY 1, 2, 3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::regproc, fdwvalidator::regproc, fdwoptions FROM pg_foreign_data_wrapper ORDER ' at line 2")

-----------
QUERY:

SELECT srvname, srvoptions FROM pg_foreign_server;
RESULT:
	ERROR - (1146, "Table 'test.pg_foreign_server' doesn't exist")

-----------
QUERY:

SELECT * FROM pg_user_mapping;
RESULT:
	ERROR - (1146, "Table 'test.pg_user_mapping' doesn't exist")

-----------
QUERY:


-- CREATE FOREIGN DATA WRAPPER
CREATE FOREIGN DATA WRAPPER foo VALIDATOR bar;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo VALIDATOR bar' at line 2")

-----------
QUERY:
            -- ERROR
CREATE FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 2")

-----------
QUERY:

-- \dew

CREATE FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 3")

-----------
QUERY:
 -- duplicate
DROP FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 2")

-----------
QUERY:

CREATE FOREIGN DATA WRAPPER foo OPTIONS (testing '1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (testing '1')' at line 1")

-----------
QUERY:

-- \dew+

DROP FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 3")

-----------
QUERY:

CREATE FOREIGN DATA WRAPPER foo OPTIONS (testing '1', testing '2');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (testing '1', testing '2')' at line 1")

-----------
QUERY:
   -- ERROR
CREATE FOREIGN DATA WRAPPER foo OPTIONS (testing '1', another '2');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (testing '1', another '2')' at line 2")

-----------
QUERY:

-- \dew+

DROP FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 3")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

CREATE FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 1")

-----------
QUERY:
 -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

CREATE FOREIGN DATA WRAPPER foo VALIDATOR postgresql_fdw_validator;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo VALIDATOR postgresql_fdw_validator' at line 1")

-----------
QUERY:

-- \dew+

-- HANDLER related checks
CREATE FUNCTION invalid_fdw_handler() RETURNS int LANGUAGE SQL AS 'SELECT 1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS 'SELECT 1' at line 4")

-----------
QUERY:
';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''' at line 1")

-----------
QUERY:

CREATE FOREIGN DATA WRAPPER test_fdw HANDLER invalid_fdw_handler;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER test_fdw HANDLER invalid_fdw_handler' at line 1")

-----------
QUERY:
  -- ERROR
CREATE FOREIGN DATA WRAPPER test_fdw HANDLER test_fdw_handler HANDLER invalid_fdw_handler;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER test_fdw HANDLER test_fdw_handler HANDLER invalid_fdw_handl' at line 2")

-----------
QUERY:
  -- ERROR
CREATE FOREIGN DATA WRAPPER test_fdw HANDLER test_fdw_handler;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER test_fdw HANDLER test_fdw_handler' at line 2")

-----------
QUERY:

DROP FOREIGN DATA WRAPPER test_fdw;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER test_fdw' at line 1")

-----------
QUERY:


-- ALTER FOREIGN DATA WRAPPER
ALTER FOREIGN DATA WRAPPER foo OPTIONS (nonexistent 'fdw');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (nonexistent 'fdw')' at line 2")

-----------
QUERY:
         -- ERROR

ALTER FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 3")

-----------
QUERY:
                             -- ERROR
ALTER FOREIGN DATA WRAPPER foo VALIDATOR bar;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo VALIDATOR bar' at line 2")

-----------
QUERY:
               -- ERROR
ALTER FOREIGN DATA WRAPPER foo NO VALIDATOR;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo NO VALIDATOR' at line 2")

-----------
QUERY:

-- \dew+

ALTER FOREIGN DATA WRAPPER foo OPTIONS (a '1', b '2');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (a '1', b '2')' at line 3")

-----------
QUERY:

ALTER FOREIGN DATA WRAPPER foo OPTIONS (SET c '4');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (SET c '4')' at line 1")

-----------
QUERY:
         -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (DROP c);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (DROP c)' at line 2")

-----------
QUERY:
            -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD x '1', DROP x);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (ADD x '1', DROP x)' at line 2")

-----------
QUERY:

-- \dew+

ALTER FOREIGN DATA WRAPPER foo OPTIONS (DROP a, SET b '3', ADD c '4');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (DROP a, SET b '3', ADD c '4')' at line 3")

-----------
QUERY:

-- \dew+

ALTER FOREIGN DATA WRAPPER foo OPTIONS (a '2');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (a '2')' at line 3")

-----------
QUERY:

ALTER FOREIGN DATA WRAPPER foo OPTIONS (b '4');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (b '4')' at line 1")

-----------
QUERY:
             -- ERROR
-- \dew+

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD d '5');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (ADD d '5')' at line 1")

-----------
QUERY:
         -- ERROR
SET ROLE regress_test_role_super;
RESULT:
	ERROR - (3530, '`regress_test_role_super`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD d '5');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (ADD d '5')' at line 1")

-----------
QUERY:

-- \dew+

ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OWNER TO regress_test_role' at line 3")

-----------
QUERY:
  -- ERROR
ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_test_role_super;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OWNER TO regress_test_role_super' at line 2")

-----------
QUERY:

ALTER ROLE regress_test_role_super NOSUPERUSER;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE regress_test_role_super NOSUPERUSER' at line 1")

-----------
QUERY:

SET ROLE regress_test_role_super;
RESULT:
	ERROR - (3530, '`regress_test_role_super`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

ALTER FOREIGN DATA WRAPPER foo OPTIONS (ADD e '6');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (ADD e '6')' at line 1")

-----------
QUERY:
         -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

-- \dew+

ALTER FOREIGN DATA WRAPPER foo RENAME TO foo1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo RENAME TO foo1' at line 3")

-----------
QUERY:

-- \dew+
ALTER FOREIGN DATA WRAPPER foo1 RENAME TO foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo1 RENAME TO foo' at line 2")

-----------
QUERY:


-- HANDLER related checks
ALTER FOREIGN DATA WRAPPER foo HANDLER invalid_fdw_handler;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo HANDLER invalid_fdw_handler' at line 2")

-----------
QUERY:
  -- ERROR
ALTER FOREIGN DATA WRAPPER foo HANDLER test_fdw_handler HANDLER anything;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo HANDLER test_fdw_handler HANDLER anything' at line 2")

-----------
QUERY:
  -- ERROR
ALTER FOREIGN DATA WRAPPER foo HANDLER test_fdw_handler;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo HANDLER test_fdw_handler' at line 2")

-----------
QUERY:

DROP FUNCTION invalid_fdw_handler();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '()' at line 1")

-----------
QUERY:


-- DROP FOREIGN DATA WRAPPER
DROP FOREIGN DATA WRAPPER nonexistent;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER nonexistent' at line 2")

-----------
QUERY:
                      -- ERROR
DROP FOREIGN DATA WRAPPER IF EXISTS nonexistent;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER IF EXISTS nonexistent' at line 2")

-----------
QUERY:

-- \dew+

DROP ROLE regress_test_role_super;
RESULT:
	ERROR - (1396, "Operation DROP ROLE failed for 'regress_test_role_super'@'%'")

-----------
QUERY:
                          -- ERROR
SET ROLE regress_test_role_super;
RESULT:
	ERROR - (3530, '`regress_test_role_super`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

DROP FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 1")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

DROP ROLE regress_test_role_super;
RESULT:
	ERROR - (1396, "Operation DROP ROLE failed for 'regress_test_role_super'@'%'")

-----------
QUERY:

-- \dew+

CREATE FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 3")

-----------
QUERY:

CREATE SERVER s1 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:

COMMENT ON SERVER s1 IS 'foreign server';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON SERVER s1 IS 'foreign server'' at line 1")

-----------
QUERY:

CREATE USER MAPPING FOR current_user SERVER s1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s1' at line 1")

-----------
QUERY:

CREATE USER MAPPING FOR current_user SERVER s1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s1' at line 1")

-----------
QUERY:
				-- ERROR
CREATE USER MAPPING IF NOT EXISTS FOR current_user SERVER s1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'IF NOT EXISTS FOR current_user SERVER s1' at line 2")

-----------
QUERY:
 -- NOTICE
-- \dew+
-- \des+
-- \deu+
DROP FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 5")

-----------
QUERY:
                              -- ERROR
SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

DROP FOREIGN DATA WRAPPER foo CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo CASCADE' at line 1")

-----------
QUERY:
                      -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

DROP FOREIGN DATA WRAPPER foo CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo CASCADE' at line 1")

-----------
QUERY:

-- \dew+
-- \des+
-- \deu+

-- exercise CREATE SERVER
CREATE SERVER s1 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 6")

-----------
QUERY:
                  -- ERROR
CREATE FOREIGN DATA WRAPPER foo OPTIONS ("test wrapper" 'true');
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'FOREIGN DATA WRAPPER foo OPTIONS ("test wrapper" \'true\')\' at line 2')

-----------
QUERY:

CREATE SERVER s1 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:

CREATE SERVER s1 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:
                  -- ERROR
CREATE SERVER IF NOT EXISTS s1 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'IF NOT EXISTS s1 FOREIGN DATA WRAPPER foo' at line 2")

-----------
QUERY:
	-- No ERROR, just NOTICE
CREATE SERVER s2 FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'dbname 'b')' at line 2")

-----------
QUERY:

CREATE SERVER s3 TYPE 'oracle' FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TYPE 'oracle' FOREIGN DATA WRAPPER foo' at line 1")

-----------
QUERY:

CREATE SERVER s4 TYPE 'oracle' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TYPE 'oracle' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')' at line 1")

-----------
QUERY:

CREATE SERVER s5 VERSION '15.0' FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VERSION '15.0' FOREIGN DATA WRAPPER foo' at line 1")

-----------
QUERY:

CREATE SERVER s6 VERSION '16.0' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VERSION '16.0' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b')' at line 1")

-----------
QUERY:

CREATE SERVER s7 TYPE 'oracle' VERSION '17.0' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname 'b');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TYPE 'oracle' VERSION '17.0' FOREIGN DATA WRAPPER foo OPTIONS (host 'a', dbname ' at line 1")

-----------
QUERY:

CREATE SERVER s8 FOREIGN DATA WRAPPER postgresql OPTIONS (foo '1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'foo '1')' at line 1")

-----------
QUERY:
 -- ERROR
CREATE SERVER s8 FOREIGN DATA WRAPPER postgresql OPTIONS (host 'localhost', dbname 's8db');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'dbname 's8db')' at line 2")

-----------
QUERY:

-- \des+
SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

CREATE SERVER t1 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:
                 -- ERROR: no usage on FDW
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo TO regress_test_role' at line 1")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

CREATE SERVER t1 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

-- \des+

REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo FROM regress_test_role' at line 3")

-----------
QUERY:

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_indirect;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo TO regress_test_indirect' at line 1")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

CREATE SERVER t2 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:
                 -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

GRANT regress_test_indirect TO regress_test_role;
RESULT:
	[]

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

CREATE SERVER t2 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:

-- \des+
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

REVOKE regress_test_indirect FROM regress_test_role;
RESULT:
	[]

-----------
QUERY:


-- ALTER SERVER
ALTER SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 2")

-----------
QUERY:
                                            -- ERROR
ALTER SERVER s0 OPTIONS (a '1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'a '1')' at line 2")

-----------
QUERY:
                            -- ERROR
ALTER SERVER s1 VERSION '1.0' OPTIONS (servername 's1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VERSION '1.0' OPTIONS (servername 's1')' at line 2")

-----------
QUERY:

ALTER SERVER s2 VERSION '1.1';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VERSION '1.1'' at line 1")

-----------
QUERY:

ALTER SERVER s3 OPTIONS ("tns name" 'orcl', port '1521');
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'"tns name" \'orcl\', port \'1521\')\' at line 1')

-----------
QUERY:

GRANT USAGE ON FOREIGN SERVER s1 TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s1 TO regress_test_role' at line 1")

-----------
QUERY:

GRANT USAGE ON FOREIGN SERVER s6 TO regress_test_role2 WITH GRANT OPTION;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s6 TO regress_test_role2 WITH GRANT OPTION' at line 1")

-----------
QUERY:

-- \des+
SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

ALTER SERVER s1 VERSION '1.1';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VERSION '1.1'' at line 1")

-----------
QUERY:
                              -- ERROR
ALTER SERVER s1 OWNER TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_test_role' at line 2")

-----------
QUERY:
                 -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

ALTER SERVER s1 OWNER TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_test_role' at line 1")

-----------
QUERY:

GRANT regress_test_role2 TO regress_test_role;
RESULT:
	[]

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

ALTER SERVER s1 VERSION '1.1';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VERSION '1.1'' at line 1")

-----------
QUERY:

ALTER SERVER s1 OWNER TO regress_test_role2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_test_role2' at line 1")

-----------
QUERY:
                -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

ALTER SERVER s8 OPTIONS (foo '1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'foo '1')' at line 1")

-----------
QUERY:
                          -- ERROR option validation
ALTER SERVER s8 OPTIONS (connect_timeout '30', SET dbname 'db1', DROP host);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'connect_timeout '30', SET dbname 'db1', DROP host)' at line 2")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

ALTER SERVER s1 OWNER TO regress_test_indirect;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_test_indirect' at line 1")

-----------
QUERY:
             -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

GRANT regress_test_indirect TO regress_test_role;
RESULT:
	[]

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

ALTER SERVER s1 OWNER TO regress_test_indirect;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_test_indirect' at line 1")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_indirect;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo TO regress_test_indirect' at line 1")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

ALTER SERVER s1 OWNER TO regress_test_indirect;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_test_indirect' at line 1")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

DROP ROLE regress_test_indirect;
RESULT:
	[]

-----------
QUERY:
                            -- ERROR
-- \des+

ALTER SERVER s8 RENAME to s8new;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'RENAME to s8new' at line 4")

-----------
QUERY:

-- \des+
ALTER SERVER s8new RENAME to s8;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'RENAME to s8' at line 2")

-----------
QUERY:


-- DROP SERVER
DROP SERVER nonexistent;
RESULT:
	ERROR - (1477, 'The foreign server name you are trying to reference does not exist. Data source error:  nonexistent')

-----------
QUERY:
                                    -- ERROR
DROP SERVER IF EXISTS nonexistent;
RESULT:
	[]

-----------
QUERY:

-- \des
SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

DROP SERVER s2;
RESULT:
	ERROR - (1477, 'The foreign server name you are trying to reference does not exist. Data source error:  s2')

-----------
QUERY:
                                             -- ERROR
DROP SERVER s1;
RESULT:
	ERROR - (1477, 'The foreign server name you are trying to reference does not exist. Data source error:  s1')

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

-- \des
ALTER SERVER s2 OWNER TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_test_role' at line 2")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

DROP SERVER s2;
RESULT:
	ERROR - (1477, 'The foreign server name you are trying to reference does not exist. Data source error:  s2')

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

-- \des
CREATE USER MAPPING FOR current_user SERVER s3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s3' at line 2")

-----------
QUERY:

-- \deu
DROP SERVER s3;
RESULT:
	ERROR - (1477, 'The foreign server name you are trying to reference does not exist. Data source error:  s3')

-----------
QUERY:
                                             -- ERROR
DROP SERVER s3 CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CASCADE' at line 2")

-----------
QUERY:

-- \des
-- \deu

-- CREATE USER MAPPING
CREATE USER MAPPING FOR regress_test_missing_role SERVER s1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR regress_test_missing_role SERVER s1' at line 5")

-----------
QUERY:
  -- ERROR
CREATE USER MAPPING FOR current_user SERVER s1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s1' at line 2")

-----------
QUERY:
             -- ERROR
CREATE USER MAPPING FOR current_user SERVER s4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s4' at line 2")

-----------
QUERY:

CREATE USER MAPPING FOR user SERVER s4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR user SERVER s4' at line 1")

-----------
QUERY:
                     -- ERROR duplicate
CREATE USER MAPPING FOR public SERVER s4 OPTIONS ("this mapping" 'is public');
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'FOR public SERVER s4 OPTIONS ("this mapping" \'is public\')\' at line 2')

-----------
QUERY:

CREATE USER MAPPING FOR user SERVER s8 OPTIONS (username 'test', password 'secret');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR user SERVER s8 OPTIONS (username 'test', password 'secret')' at line 1")

-----------
QUERY:
    -- ERROR
CREATE USER MAPPING FOR user SERVER s8 OPTIONS (user 'test', password 'secret');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR user SERVER s8 OPTIONS (user 'test', password 'secret')' at line 2")

-----------
QUERY:

ALTER SERVER s5 OWNER TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_test_role' at line 1")

-----------
QUERY:

ALTER SERVER s6 OWNER TO regress_test_indirect;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_test_indirect' at line 1")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

CREATE USER MAPPING FOR current_user SERVER s5;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s5' at line 1")

-----------
QUERY:

CREATE USER MAPPING FOR current_user SERVER s6 OPTIONS (username 'test');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s6 OPTIONS (username 'test')' at line 1")

-----------
QUERY:

CREATE USER MAPPING FOR current_user SERVER s7;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s7' at line 1")

-----------
QUERY:
             -- ERROR
CREATE USER MAPPING FOR public SERVER s8;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s8' at line 2")

-----------
QUERY:
                   -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:


ALTER SERVER t1 OWNER TO regress_test_indirect;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_test_indirect' at line 1")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

CREATE USER MAPPING FOR current_user SERVER t1 OPTIONS (username 'bob', password 'boo');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER t1 OPTIONS (username 'bob', password 'boo')' at line 1")

-----------
QUERY:

CREATE USER MAPPING FOR public SERVER t1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER t1' at line 1")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

-- \deu

-- ALTER USER MAPPING
ALTER USER MAPPING FOR regress_test_missing_role SERVER s4 OPTIONS (gotcha 'true');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR regress_test_missing_role SERVER s4 OPTIONS (gotcha 'true')' at line 4")

-----------
QUERY:
 -- ERROR
ALTER USER MAPPING FOR user SERVER ss4 OPTIONS (gotcha 'true');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR user SERVER ss4 OPTIONS (gotcha 'true')' at line 2")

-----------
QUERY:
 -- ERROR
ALTER USER MAPPING FOR public SERVER s5 OPTIONS (gotcha 'true');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s5 OPTIONS (gotcha 'true')' at line 2")

-----------
QUERY:
            -- ERROR
ALTER USER MAPPING FOR current_user SERVER s8 OPTIONS (username 'test');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s8 OPTIONS (username 'test')' at line 2")

-----------
QUERY:
    -- ERROR
ALTER USER MAPPING FOR current_user SERVER s8 OPTIONS (DROP user, SET password 'public');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s8 OPTIONS (DROP user, SET password 'public')' at line 2")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

ALTER USER MAPPING FOR current_user SERVER s5 OPTIONS (ADD modified '1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s5 OPTIONS (ADD modified '1')' at line 1")

-----------
QUERY:

ALTER USER MAPPING FOR public SERVER s4 OPTIONS (ADD modified '1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s4 OPTIONS (ADD modified '1')' at line 1")

-----------
QUERY:
 -- ERROR
ALTER USER MAPPING FOR public SERVER t1 OPTIONS (ADD modified '1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER t1 OPTIONS (ADD modified '1')' at line 2")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

-- \deu+

-- DROP USER MAPPING
DROP USER MAPPING FOR regress_test_missing_role SERVER s4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR regress_test_missing_role SERVER s4' at line 4")

-----------
QUERY:
  -- ERROR
DROP USER MAPPING FOR user SERVER ss4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR user SERVER ss4' at line 2")

-----------
QUERY:

DROP USER MAPPING FOR public SERVER s7;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s7' at line 1")

-----------
QUERY:
                     -- ERROR
DROP USER MAPPING IF EXISTS FOR regress_test_missing_role SERVER s4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'IF EXISTS FOR regress_test_missing_role SERVER s4' at line 2")

-----------
QUERY:

DROP USER MAPPING IF EXISTS FOR user SERVER ss4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'IF EXISTS FOR user SERVER ss4' at line 1")

-----------
QUERY:

DROP USER MAPPING IF EXISTS FOR public SERVER s7;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'IF EXISTS FOR public SERVER s7' at line 1")

-----------
QUERY:

CREATE USER MAPPING FOR public SERVER s8;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s8' at line 1")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

DROP USER MAPPING FOR public SERVER s8;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s8' at line 1")

-----------
QUERY:
                     -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

DROP SERVER s7;
RESULT:
	ERROR - (1477, 'The foreign server name you are trying to reference does not exist. Data source error:  s7')

-----------
QUERY:

-- \deu

-- CREATE FOREIGN TABLE
CREATE SCHEMA foreign_schema;
RESULT:
	[]

-----------
QUERY:

CREATE SERVER s0 FOREIGN DATA WRAPPER dummy;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:

CREATE FOREIGN TABLE ft1 ();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ()' at line 1")

-----------
QUERY:
                                    -- ERROR
CREATE FOREIGN TABLE ft1 () SERVER no_server;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 () SERVER no_server' at line 2")

-----------
QUERY:
                   -- ERROR
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') PRIMARY KEY,
	c2 text OPTIONS (param2 'val2', param3 'val3'),
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'FOREIGN TABLE ft1 (\n\tc1 integer OPTIONS ("param 1" \'val1\') PRIMARY KEY,\n\tc2 text\' at line 2')

-----------
QUERY:
 -- ERROR
CREATE TABLE ref_table (id integer PRIMARY KEY);
RESULT:
	[]

-----------
QUERY:

CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') REFERENCES ref_table (id),
	c2 text OPTIONS (param2 'val2', param3 'val3'),
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'FOREIGN TABLE ft1 (\n\tc1 integer OPTIONS ("param 1" \'val1\') REFERENCES ref_table \' at line 1')

-----------
QUERY:
 -- ERROR
DROP TABLE ref_table;
RESULT:
	[]

-----------
QUERY:

CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') NOT NULL,
	c2 text OPTIONS (param2 'val2', param3 'val3'),
	c3 date,
	UNIQUE (c3)
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'FOREIGN TABLE ft1 (\n\tc1 integer OPTIONS ("param 1" \'val1\') NOT NULL,\n\tc2 text OP\' at line 1')

-----------
QUERY:
 -- ERROR
CREATE FOREIGN TABLE ft1 (
	c1 integer OPTIONS ("param 1" 'val1') NOT NULL,
	c2 text OPTIONS (param2 'val2', param3 'val3') CHECK (c2 <> ''),
	c3 date,
	CHECK (c3 BETWEEN '1994-01-01'::date AND '1994-01-31'::date)
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'FOREIGN TABLE ft1 (\n\tc1 integer OPTIONS ("param 1" \'val1\') NOT NULL,\n\tc2 text OP\' at line 2')

-----------
QUERY:

COMMENT ON FOREIGN TABLE ft1 IS 'ft1';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON FOREIGN TABLE ft1 IS 'ft1'' at line 1")

-----------
QUERY:

COMMENT ON COLUMN ft1.c1 IS 'ft1.c1';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON COLUMN ft1.c1 IS 'ft1.c1'' at line 1")

-----------
QUERY:

-- \d+ ft1
-- \det+
CREATE INDEX id_ft1_c2 ON ft1 (c2);
RESULT:
	ERROR - (1146, "Table 'test.ft1' doesn't exist")

-----------
QUERY:
                             -- ERROR
SELECT * FROM ft1;
RESULT:
	ERROR - (1146, "Table 'test.ft1' doesn't exist")

-----------
QUERY:
                                              -- ERROR
EXPLAIN SELECT * FROM ft1;
RESULT:
	ERROR - (1146, "Table 'test.ft1' doesn't exist")

-----------
QUERY:
                                      -- ERROR

CREATE TABLE lt1 (a INT) PARTITION BY RANGE (a);
RESULT:
	ERROR - (1492, 'For RANGE partitions each partition must be defined')

-----------
QUERY:

CREATE FOREIGN TABLE ft_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part1\n  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s' at line 1")

-----------
QUERY:

CREATE INDEX ON lt1 (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON lt1 (a)' at line 1")

-----------
QUERY:
                              -- skips partition
CREATE UNIQUE INDEX ON lt1 (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON lt1 (a)' at line 2")

-----------
QUERY:
                                 -- ERROR
ALTER TABLE lt1 ADD PRIMARY KEY (a);
RESULT:
	ERROR - (1146, "Table 'test.lt1' doesn't exist")

-----------
QUERY:
                            -- ERROR
DROP TABLE lt1;
RESULT:
	ERROR - (1051, "Unknown table 'test.lt1'")

-----------
QUERY:


CREATE TABLE lt1 (a INT) PARTITION BY RANGE (a);
RESULT:
	ERROR - (1492, 'For RANGE partitions each partition must be defined')

-----------
QUERY:

CREATE INDEX ON lt1 (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON lt1 (a)' at line 1")

-----------
QUERY:

CREATE FOREIGN TABLE ft_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part1\n  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s' at line 1")

-----------
QUERY:

CREATE FOREIGN TABLE ft_part2 (a INT) SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part2 (a INT) SERVER s0' at line 1")

-----------
QUERY:

ALTER TABLE lt1 ATTACH PARTITION ft_part2 FOR VALUES FROM (1000) TO (2000);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION ft_part2 FOR VALUES FROM (1000) TO (2000)' at line 1")

-----------
QUERY:

DROP FOREIGN TABLE ft_part1, ft_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part1, ft_part2' at line 1")

-----------
QUERY:

CREATE UNIQUE INDEX ON lt1 (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON lt1 (a)' at line 1")

-----------
QUERY:

ALTER TABLE lt1 ADD PRIMARY KEY (a);
RESULT:
	ERROR - (1146, "Table 'test.lt1' doesn't exist")

-----------
QUERY:

CREATE FOREIGN TABLE ft_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part1\n  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000) SERVER s' at line 1")

-----------
QUERY:
     -- ERROR
CREATE FOREIGN TABLE ft_part2 (a INT NOT NULL) SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part2 (a INT NOT NULL) SERVER s0' at line 2")

-----------
QUERY:

ALTER TABLE lt1 ATTACH PARTITION ft_part2
  FOR VALUES FROM (1000) TO (2000);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION ft_part2\n  FOR VALUES FROM (1000) TO (2000)' at line 1")

-----------
QUERY:
                             -- ERROR
DROP TABLE lt1;
RESULT:
	ERROR - (1051, "Unknown table 'test.lt1'")

-----------
QUERY:

DROP FOREIGN TABLE ft_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part2' at line 1")

-----------
QUERY:


CREATE TABLE lt1 (a INT) PARTITION BY RANGE (a);
RESULT:
	ERROR - (1492, 'For RANGE partitions each partition must be defined')

-----------
QUERY:

CREATE INDEX ON lt1 (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON lt1 (a)' at line 1")

-----------
QUERY:

CREATE TABLE lt1_part1
  PARTITION OF lt1 FOR VALUES FROM (0) TO (1000)
  PARTITION BY RANGE (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF lt1 FOR VALUES FROM (0) TO (1000)\n  PARTITION BY RANGE (a)' at line 2")

-----------
QUERY:

CREATE FOREIGN TABLE ft_part_1_1
  PARTITION OF lt1_part1 FOR VALUES FROM (0) TO (100) SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part_1_1\n  PARTITION OF lt1_part1 FOR VALUES FROM (0) TO (100) ' at line 1")

-----------
QUERY:

CREATE FOREIGN TABLE ft_part_1_2 (a INT) SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part_1_2 (a INT) SERVER s0' at line 1")

-----------
QUERY:

ALTER TABLE lt1_part1 ATTACH PARTITION ft_part_1_2 FOR VALUES FROM (100) TO (200);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION ft_part_1_2 FOR VALUES FROM (100) TO (200)' at line 1")

-----------
QUERY:

CREATE UNIQUE INDEX ON lt1 (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON lt1 (a)' at line 1")

-----------
QUERY:

ALTER TABLE lt1 ADD PRIMARY KEY (a);
RESULT:
	ERROR - (1146, "Table 'test.lt1' doesn't exist")

-----------
QUERY:

DROP FOREIGN TABLE ft_part_1_1, ft_part_1_2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part_1_1, ft_part_1_2' at line 1")

-----------
QUERY:

CREATE UNIQUE INDEX ON lt1 (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON lt1 (a)' at line 1")

-----------
QUERY:

ALTER TABLE lt1 ADD PRIMARY KEY (a);
RESULT:
	ERROR - (1146, "Table 'test.lt1' doesn't exist")

-----------
QUERY:

CREATE FOREIGN TABLE ft_part_1_1
  PARTITION OF lt1_part1 FOR VALUES FROM (0) TO (100) SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part_1_1\n  PARTITION OF lt1_part1 FOR VALUES FROM (0) TO (100) ' at line 1")

-----------
QUERY:

CREATE FOREIGN TABLE ft_part_1_2 (a INT NOT NULL) SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part_1_2 (a INT NOT NULL) SERVER s0' at line 1")

-----------
QUERY:

ALTER TABLE lt1_part1 ATTACH PARTITION ft_part_1_2 FOR VALUES FROM (100) TO (200);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION ft_part_1_2 FOR VALUES FROM (100) TO (200)' at line 1")

-----------
QUERY:

DROP TABLE lt1;
RESULT:
	ERROR - (1051, "Unknown table 'test.lt1'")

-----------
QUERY:

DROP FOREIGN TABLE ft_part_1_2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft_part_1_2' at line 1")

-----------
QUERY:


-- ALTER FOREIGN TABLE
COMMENT ON FOREIGN TABLE ft1 IS 'foreign table';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON FOREIGN TABLE ft1 IS 'foreign table'' at line 2")

-----------
QUERY:

COMMENT ON FOREIGN TABLE ft1 IS NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON FOREIGN TABLE ft1 IS NULL' at line 1")

-----------
QUERY:

COMMENT ON COLUMN ft1.c1 IS 'foreign column';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON COLUMN ft1.c1 IS 'foreign column'' at line 1")

-----------
QUERY:

COMMENT ON COLUMN ft1.c1 IS NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON COLUMN ft1.c1 IS NULL' at line 1")

-----------
QUERY:


ALTER FOREIGN TABLE ft1 ADD COLUMN c4 integer;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ADD COLUMN c4 integer' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ADD COLUMN c5 integer DEFAULT 0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ADD COLUMN c5 integer DEFAULT 0' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ADD COLUMN c6 integer;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ADD COLUMN c6 integer' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ADD COLUMN c7 integer NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ADD COLUMN c7 integer NOT NULL' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ADD COLUMN c8 integer;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ADD COLUMN c8 integer' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ADD COLUMN c9 integer;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ADD COLUMN c9 integer' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ADD COLUMN c10 integer OPTIONS (p1 'v1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ADD COLUMN c10 integer OPTIONS (p1 'v1')' at line 1")

-----------
QUERY:


ALTER FOREIGN TABLE ft1 ALTER COLUMN c4 SET DEFAULT 0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c4 SET DEFAULT 0' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c5 DROP DEFAULT;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c5 DROP DEFAULT' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c6 SET NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c6 SET NOT NULL' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c7 DROP NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c7 DROP NOT NULL' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 TYPE char(10) USING '0';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c8 TYPE char(10) USING '0'' at line 1")

-----------
QUERY:
 -- ERROR
ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 TYPE char(10);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c8 TYPE char(10)' at line 2")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET DATA TYPE text;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c8 SET DATA TYPE text' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN xmin OPTIONS (ADD p1 'v1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN xmin OPTIONS (ADD p1 'v1')' at line 1")

-----------
QUERY:
 -- ERROR
ALTER FOREIGN TABLE ft1 ALTER COLUMN c7 OPTIONS (ADD p1 'v1', ADD p2 'v2'),
                        ALTER COLUMN c8 OPTIONS (ADD p1 'v1', ADD p2 'v2');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c7 OPTIONS (ADD p1 'v1', ADD p2 'v2'),\n          ' at line 2")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 OPTIONS (SET p2 'V2', DROP p1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c8 OPTIONS (SET p2 'V2', DROP p1)' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c1 SET STATISTICS 10000;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c1 SET STATISTICS 10000' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c1 SET (n_distinct = 100);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c1 SET (n_distinct = 100)' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET STATISTICS -1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c8 SET STATISTICS -1' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET STORAGE PLAIN;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c8 SET STORAGE PLAIN' at line 1")

-----------
QUERY:

-- \d+ ft1
-- can/* REPLACED */ ''t change the column type if it/* REPLACED */ ''s used elsewhere
CREATE TABLE use_ft1_column_type (x ft1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ft1)' at line 3")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER COLUMN c8 SET DATA TYPE integer;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER COLUMN c8 SET DATA TYPE integer' at line 1")

-----------
QUERY:
	-- ERROR
DROP TABLE use_ft1_column_type;
RESULT:
	ERROR - (1051, "Unknown table 'test.use_ft1_column_type'")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ADD PRIMARY KEY (c7);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ADD PRIMARY KEY (c7)' at line 1")

-----------
QUERY:
                   -- ERROR
ALTER FOREIGN TABLE ft1 ADD CONSTRAINT ft1_c9_check CHECK (c9 < 0) NOT VALID;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ADD CONSTRAINT ft1_c9_check CHECK (c9 < 0) NOT VALID' at line 2")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 ALTER CONSTRAINT ft1_c9_check DEFERRABLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 ALTER CONSTRAINT ft1_c9_check DEFERRABLE' at line 1")

-----------
QUERY:
 -- ERROR
ALTER FOREIGN TABLE ft1 DROP CONSTRAINT ft1_c9_check;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 DROP CONSTRAINT ft1_c9_check' at line 2")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 DROP CONSTRAINT no_const;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 DROP CONSTRAINT no_const' at line 1")

-----------
QUERY:
               -- ERROR
ALTER FOREIGN TABLE ft1 DROP CONSTRAINT IF EXISTS no_const;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 DROP CONSTRAINT IF EXISTS no_const' at line 2")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 OWNER TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 OWNER TO regress_test_role' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 OPTIONS (DROP delimiter, SET quote '~', ADD escape '@');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 OPTIONS (DROP delimiter, SET quote '~', ADD escape '@')' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 DROP COLUMN no_column;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 DROP COLUMN no_column' at line 1")

-----------
QUERY:
                  -- ERROR
ALTER FOREIGN TABLE ft1 DROP COLUMN IF EXISTS no_column;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 DROP COLUMN IF EXISTS no_column' at line 2")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 DROP COLUMN c9;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 DROP COLUMN c9' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 SET SCHEMA foreign_schema;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 SET SCHEMA foreign_schema' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE ft1 SET TABLESPACE ts;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft1 SET TABLESPACE ts' at line 1")

-----------
QUERY:
                      -- ERROR
ALTER FOREIGN TABLE foreign_schema.ft1 RENAME c1 TO foreign_column_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE foreign_schema.ft1 RENAME c1 TO foreign_column_1' at line 2")

-----------
QUERY:

ALTER FOREIGN TABLE foreign_schema.ft1 RENAME TO foreign_table_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE foreign_schema.ft1 RENAME TO foreign_table_1' at line 1")

-----------
QUERY:

-- \d foreign_schema.foreign_table_1

-- alter noexisting table
ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c4 integer;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c4 integer' at line 4")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c6 integer;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c6 integer' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c7 integer NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c7 integer NOT NULL' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c8 integer;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c8 integer' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c9 integer;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c9 integer' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c10 integer OPTIONS (p1 'v1');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ADD COLUMN c10 integer OPTIONS (p1 'v1'' at line 1")

-----------
QUERY:


ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c6 SET NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c6 SET NOT NULL' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c7 DROP NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c7 DROP NOT NULL' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 TYPE char(10);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 TYPE char(10)' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 SET DATA TYPE text;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 SET DATA TYPE text' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c7 OPTIONS (ADD p1 'v1', ADD p2 'v2'),
                        ALTER COLUMN c8 OPTIONS (ADD p1 'v1', ADD p2 'v2');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c7 OPTIONS (ADD p1 'v1', A' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 OPTIONS (SET p2 'V2', DROP p1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 ALTER COLUMN c8 OPTIONS (SET p2 'V2', D' at line 1")

-----------
QUERY:


ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP CONSTRAINT IF EXISTS no_const;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP CONSTRAINT IF EXISTS no_const' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP CONSTRAINT ft1_c1_check;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP CONSTRAINT ft1_c1_check' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 OWNER TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 OWNER TO regress_test_role' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 OPTIONS (DROP delimiter, SET quote '~', ADD escape '@');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 OPTIONS (DROP delimiter, SET quote '~',' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP COLUMN IF EXISTS no_column;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP COLUMN IF EXISTS no_column' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP COLUMN c9;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 DROP COLUMN c9' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 SET SCHEMA foreign_schema;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 SET SCHEMA foreign_schema' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 RENAME c1 TO foreign_column_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 RENAME c1 TO foreign_column_1' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE IF EXISTS doesnt_exist_ft1 RENAME TO foreign_table_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS doesnt_exist_ft1 RENAME TO foreign_table_1' at line 1")

-----------
QUERY:


-- Information schema

SELECT * FROM information_schema.foreign_data_wrappers ORDER BY 1, 2;
RESULT:
	ERROR - (1109, "Unknown table 'FOREIGN_DATA_WRAPPERS' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.foreign_data_wrapper_options ORDER BY 1, 2, 3;
RESULT:
	ERROR - (1109, "Unknown table 'FOREIGN_DATA_WRAPPER_OPTIONS' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.foreign_servers ORDER BY 1, 2;
RESULT:
	ERROR - (1109, "Unknown table 'FOREIGN_SERVERS' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.foreign_server_options ORDER BY 1, 2, 3;
RESULT:
	ERROR - (1109, "Unknown table 'FOREIGN_SERVER_OPTIONS' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.user_mappings ORDER BY lower(authorization_identifier), 2, 3;
RESULT:
	ERROR - (1109, "Unknown table 'USER_MAPPINGS' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.user_mapping_options ORDER BY lower(authorization_identifier), 2, 3, 4;
RESULT:
	ERROR - (1109, "Unknown table 'USER_MAPPING_OPTIONS' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.usage_privileges WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5;
RESULT:
	ERROR - (1109, "Unknown table 'USAGE_PRIVILEGES' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.role_usage_grants WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5;
RESULT:
	ERROR - (1109, "Unknown table 'ROLE_USAGE_GRANTS' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.foreign_tables ORDER BY 1, 2, 3;
RESULT:
	ERROR - (1109, "Unknown table 'FOREIGN_TABLES' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.foreign_table_options ORDER BY 1, 2, 3, 4;
RESULT:
	ERROR - (1109, "Unknown table 'FOREIGN_TABLE_OPTIONS' in information_schema")

-----------
QUERY:

SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

SELECT * FROM information_schema.user_mapping_options ORDER BY 1, 2, 3, 4;
RESULT:
	ERROR - (1109, "Unknown table 'USER_MAPPING_OPTIONS' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.usage_privileges WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5;
RESULT:
	ERROR - (1109, "Unknown table 'USAGE_PRIVILEGES' in information_schema")

-----------
QUERY:

SELECT * FROM information_schema.role_usage_grants WHERE object_type LIKE 'FOREIGN%' AND object_name IN ('s6', 'foo') ORDER BY 1, 2, 3, 4, 5;
RESULT:
	ERROR - (1109, "Unknown table 'ROLE_USAGE_GRANTS' in information_schema")

-----------
QUERY:

DROP USER MAPPING FOR current_user SERVER t1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER t1' at line 1")

-----------
QUERY:

SET ROLE regress_test_role2;
RESULT:
	ERROR - (3530, '`regress_test_role2`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

SELECT * FROM information_schema.user_mapping_options ORDER BY 1, 2, 3, 4;
RESULT:
	ERROR - (1109, "Unknown table 'USER_MAPPING_OPTIONS' in information_schema")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:



-- has_foreign_data_wrapper_privilege
SELECT has_foreign_data_wrapper_privilege('regress_test_role',
    (SELECT oid FROM pg_foreign_data_wrapper WHERE fdwname='foo'), 'USAGE');
RESULT:
	ERROR - (1146, "Table 'test.pg_foreign_data_wrapper' doesn't exist")

-----------
QUERY:

SELECT has_foreign_data_wrapper_privilege('regress_test_role', 'foo', 'USAGE');
RESULT:
	ERROR - (1305, 'FUNCTION test.has_foreign_data_wrapper_privilege does not exist')

-----------
QUERY:

SELECT has_foreign_data_wrapper_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'),
    (SELECT oid FROM pg_foreign_data_wrapper WHERE fdwname='foo'), 'USAGE');
RESULT:
	ERROR - (1146, "Table 'test.pg_roles' doesn't exist")

-----------
QUERY:

SELECT has_foreign_data_wrapper_privilege(
    (SELECT oid FROM pg_foreign_data_wrapper WHERE fdwname='foo'), 'USAGE');
RESULT:
	ERROR - (1146, "Table 'test.pg_foreign_data_wrapper' doesn't exist")

-----------
QUERY:

SELECT has_foreign_data_wrapper_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'), 'foo', 'USAGE');
RESULT:
	ERROR - (1146, "Table 'test.pg_roles' doesn't exist")

-----------
QUERY:

SELECT has_foreign_data_wrapper_privilege('foo', 'USAGE');
RESULT:
	ERROR - (1305, 'FUNCTION test.has_foreign_data_wrapper_privilege does not exist')

-----------
QUERY:

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo TO regress_test_role' at line 1")

-----------
QUERY:

SELECT has_foreign_data_wrapper_privilege('regress_test_role', 'foo', 'USAGE');
RESULT:
	ERROR - (1305, 'FUNCTION test.has_foreign_data_wrapper_privilege does not exist')

-----------
QUERY:


-- has_server_privilege
SELECT has_server_privilege('regress_test_role',
    (SELECT oid FROM pg_foreign_server WHERE srvname='s8'), 'USAGE');
RESULT:
	ERROR - (1146, "Table 'test.pg_foreign_server' doesn't exist")

-----------
QUERY:

SELECT has_server_privilege('regress_test_role', 's8', 'USAGE');
RESULT:
	ERROR - (1305, 'FUNCTION test.has_server_privilege does not exist')

-----------
QUERY:

SELECT has_server_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'),
    (SELECT oid FROM pg_foreign_server WHERE srvname='s8'), 'USAGE');
RESULT:
	ERROR - (1146, "Table 'test.pg_roles' doesn't exist")

-----------
QUERY:

SELECT has_server_privilege(
    (SELECT oid FROM pg_foreign_server WHERE srvname='s8'), 'USAGE');
RESULT:
	ERROR - (1146, "Table 'test.pg_foreign_server' doesn't exist")

-----------
QUERY:

SELECT has_server_privilege(
    (SELECT oid FROM pg_roles WHERE rolname='regress_test_role'), 's8', 'USAGE');
RESULT:
	ERROR - (1146, "Table 'test.pg_roles' doesn't exist")

-----------
QUERY:

SELECT has_server_privilege('s8', 'USAGE');
RESULT:
	ERROR - (1305, 'FUNCTION test.has_server_privilege does not exist')

-----------
QUERY:

GRANT USAGE ON FOREIGN SERVER s8 TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s8 TO regress_test_role' at line 1")

-----------
QUERY:

SELECT has_server_privilege('regress_test_role', 's8', 'USAGE');
RESULT:
	ERROR - (1305, 'FUNCTION test.has_server_privilege does not exist')

-----------
QUERY:

REVOKE USAGE ON FOREIGN SERVER s8 FROM regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s8 FROM regress_test_role' at line 1")

-----------
QUERY:


GRANT USAGE ON FOREIGN SERVER s4 TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s4 TO regress_test_role' at line 1")

-----------
QUERY:

DROP USER MAPPING FOR public SERVER s4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s4' at line 1")

-----------
QUERY:

ALTER SERVER s6 OPTIONS (DROP host, DROP dbname);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DROP host, DROP dbname)' at line 1")

-----------
QUERY:

ALTER USER MAPPING FOR regress_test_role SERVER s6 OPTIONS (DROP username);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR regress_test_role SERVER s6 OPTIONS (DROP username)' at line 1")

-----------
QUERY:

ALTER FOREIGN DATA WRAPPER foo VALIDATOR postgresql_fdw_validator;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo VALIDATOR postgresql_fdw_validator' at line 1")

-----------
QUERY:


-- Privileges
SET ROLE regress_unprivileged_role;
RESULT:
	ERROR - (3530, '`regress_unprivileged_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

CREATE FOREIGN DATA WRAPPER foobar;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foobar' at line 1")

-----------
QUERY:
                             -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (gotcha 'true');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (gotcha 'true')' at line 2")

-----------
QUERY:
         -- ERROR
ALTER FOREIGN DATA WRAPPER foo OWNER TO regress_unprivileged_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OWNER TO regress_unprivileged_role' at line 2")

-----------
QUERY:
 -- ERROR
DROP FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 2")

-----------
QUERY:
                                  -- ERROR
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo TO regress_test_role' at line 2")

-----------
QUERY:
   -- ERROR
CREATE SERVER s9 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 2")

-----------
QUERY:
                      -- ERROR
ALTER SERVER s4 VERSION '0.5';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VERSION '0.5'' at line 2")

-----------
QUERY:
                                  -- ERROR
ALTER SERVER s4 OWNER TO regress_unprivileged_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_unprivileged_role' at line 2")

-----------
QUERY:
             -- ERROR
DROP SERVER s4;
RESULT:
	ERROR - (1477, 'The foreign server name you are trying to reference does not exist. Data source error:  s4')

-----------
QUERY:
                                                 -- ERROR
GRANT USAGE ON FOREIGN SERVER s4 TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s4 TO regress_test_role' at line 2")

-----------
QUERY:
          -- ERROR
CREATE USER MAPPING FOR public SERVER s4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s4' at line 2")

-----------
QUERY:
                       -- ERROR
ALTER USER MAPPING FOR regress_test_role SERVER s6 OPTIONS (gotcha 'true');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR regress_test_role SERVER s6 OPTIONS (gotcha 'true')' at line 2")

-----------
QUERY:
 -- ERROR
DROP USER MAPPING FOR regress_test_role SERVER s6;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR regress_test_role SERVER s6' at line 2")

-----------
QUERY:
              -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:


GRANT USAGE ON FOREIGN DATA WRAPPER postgresql TO regress_unprivileged_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER postgresql TO regress_unprivileged_role' at line 1")

-----------
QUERY:

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_unprivileged_role WITH GRANT OPTION;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo TO regress_unprivileged_role WITH GRANT OPTION' at line 1")

-----------
QUERY:

SET ROLE regress_unprivileged_role;
RESULT:
	ERROR - (3530, '`regress_unprivileged_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

CREATE FOREIGN DATA WRAPPER foobar;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foobar' at line 1")

-----------
QUERY:
                             -- ERROR
ALTER FOREIGN DATA WRAPPER foo OPTIONS (gotcha 'true');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo OPTIONS (gotcha 'true')' at line 2")

-----------
QUERY:
         -- ERROR
DROP FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo' at line 2")

-----------
QUERY:
                                  -- ERROR
GRANT USAGE ON FOREIGN DATA WRAPPER postgresql TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER postgresql TO regress_test_role' at line 2")

-----------
QUERY:
 -- WARNING
GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo TO regress_test_role' at line 2")

-----------
QUERY:

CREATE SERVER s9 FOREIGN DATA WRAPPER postgresql;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:

ALTER SERVER s6 VERSION '0.5';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VERSION '0.5'' at line 1")

-----------
QUERY:
                                  -- ERROR
DROP SERVER s6;
RESULT:
	ERROR - (1477, 'The foreign server name you are trying to reference does not exist. Data source error:  s6')

-----------
QUERY:
                                                 -- ERROR
GRANT USAGE ON FOREIGN SERVER s6 TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s6 TO regress_test_role' at line 2")

-----------
QUERY:
          -- ERROR
GRANT USAGE ON FOREIGN SERVER s9 TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s9 TO regress_test_role' at line 2")

-----------
QUERY:

CREATE USER MAPPING FOR public SERVER s6;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s6' at line 1")

-----------
QUERY:
                       -- ERROR
CREATE USER MAPPING FOR public SERVER s9;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s9' at line 2")

-----------
QUERY:

ALTER USER MAPPING FOR regress_test_role SERVER s6 OPTIONS (gotcha 'true');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR regress_test_role SERVER s6 OPTIONS (gotcha 'true')' at line 1")

-----------
QUERY:
 -- ERROR
DROP USER MAPPING FOR regress_test_role SERVER s6;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR regress_test_role SERVER s6' at line 2")

-----------
QUERY:
              -- ERROR
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:


REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_unprivileged_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo FROM regress_unprivileged_role' at line 1")

-----------
QUERY:
 -- ERROR
REVOKE USAGE ON FOREIGN DATA WRAPPER foo FROM regress_unprivileged_role CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo FROM regress_unprivileged_role CASCADE' at line 2")

-----------
QUERY:

SET ROLE regress_unprivileged_role;
RESULT:
	ERROR - (3530, '`regress_unprivileged_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

GRANT USAGE ON FOREIGN DATA WRAPPER foo TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo TO regress_test_role' at line 1")

-----------
QUERY:
   -- ERROR
CREATE SERVER s10 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 2")

-----------
QUERY:
                     -- ERROR
ALTER SERVER s9 VERSION '1.1';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VERSION '1.1'' at line 2")

-----------
QUERY:

GRANT USAGE ON FOREIGN SERVER s9 TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s9 TO regress_test_role' at line 1")

-----------
QUERY:

CREATE USER MAPPING FOR current_user SERVER s9;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s9' at line 1")

-----------
QUERY:

DROP SERVER s9 CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CASCADE' at line 1")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

CREATE SERVER s9 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:

GRANT USAGE ON FOREIGN SERVER s9 TO regress_unprivileged_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s9 TO regress_unprivileged_role' at line 1")

-----------
QUERY:

SET ROLE regress_unprivileged_role;
RESULT:
	ERROR - (3530, '`regress_unprivileged_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

ALTER SERVER s9 VERSION '1.2';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VERSION '1.2'' at line 1")

-----------
QUERY:
                                  -- ERROR
GRANT USAGE ON FOREIGN SERVER s9 TO regress_test_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SERVER s9 TO regress_test_role' at line 2")

-----------
QUERY:
          -- WARNING
CREATE USER MAPPING FOR current_user SERVER s9;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR current_user SERVER s9' at line 2")

-----------
QUERY:

DROP SERVER s9 CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CASCADE' at line 1")

-----------
QUERY:
                                         -- ERROR

-- Check visibility of user mapping data
SET ROLE regress_test_role;
RESULT:
	ERROR - (3530, '`regress_test_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

CREATE SERVER s10 FOREIGN DATA WRAPPER foo;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1")

-----------
QUERY:

CREATE USER MAPPING FOR public SERVER s10 OPTIONS (user 'secret');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR public SERVER s10 OPTIONS (user 'secret')' at line 1")

-----------
QUERY:

CREATE USER MAPPING FOR regress_unprivileged_role SERVER s10 OPTIONS (user 'secret');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR regress_unprivileged_role SERVER s10 OPTIONS (user 'secret')' at line 1")

-----------
QUERY:

-- owner of server can see some option fields
-- \deu+
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 3")

-----------
QUERY:

-- superuser can see all option fields
-- \deu+
-- unprivileged user cannot see any option field
SET ROLE regress_unprivileged_role;
RESULT:
	ERROR - (3530, '`regress_unprivileged_role`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

-- \deu+
RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 2")

-----------
QUERY:

DROP SERVER s10 CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CASCADE' at line 1")

-----------
QUERY:


-- Triggers
CREATE FUNCTION dummy_trigger() RETURNS TRIGGER AS $$
  BEGIN
    RETURN NULL;
  END
$$ language plpgsql;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TRIGGER AS $$\n  BEGIN\n    RETURN NULL;\n  END\n$$ language plpgsql' at line 2")

-----------
QUERY:


CREATE TRIGGER trigtest_before_stmt BEFORE INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OR UPDATE OR DELETE\nON foreign_schema.foreign_table_1\nFOR EACH STATEMENT\nEXECUTE' at line 1")

-----------
QUERY:


CREATE TRIGGER trigtest_after_stmt AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OR UPDATE OR DELETE\nON foreign_schema.foreign_table_1\nFOR EACH STATEMENT\nEXECUTE' at line 1")

-----------
QUERY:


CREATE TRIGGER trigtest_after_stmt_tt AFTER INSERT OR UPDATE OR DELETE -- ERROR
ON foreign_schema.foreign_table_1
REFERENCING NEW TABLE AS new_table
FOR EACH STATEMENT
EXECUTE PROCEDURE dummy_trigger();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OR UPDATE OR DELETE -- ERROR\nON foreign_schema.foreign_table_1\nREFERENCING NEW T' at line 1")

-----------
QUERY:


CREATE TRIGGER trigtest_before_row BEFORE INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OR UPDATE OR DELETE\nON foreign_schema.foreign_table_1\nFOR EACH ROW\nEXECUTE PROCE' at line 1")

-----------
QUERY:


CREATE TRIGGER trigtest_after_row AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OR UPDATE OR DELETE\nON foreign_schema.foreign_table_1\nFOR EACH ROW\nEXECUTE PROCE' at line 1")

-----------
QUERY:


CREATE CONSTRAINT TRIGGER trigtest_constraint AFTER INSERT OR UPDATE OR DELETE
ON foreign_schema.foreign_table_1
FOR EACH ROW
EXECUTE PROCEDURE dummy_trigger();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CONSTRAINT TRIGGER trigtest_constraint AFTER INSERT OR UPDATE OR DELETE\nON forei' at line 1")

-----------
QUERY:


ALTER FOREIGN TABLE foreign_schema.foreign_table_1
	DISABLE TRIGGER trigtest_before_stmt;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE foreign_schema.foreign_table_1\n\tDISABLE TRIGGER trigtest_before_st' at line 1")

-----------
QUERY:

ALTER FOREIGN TABLE foreign_schema.foreign_table_1
	ENABLE TRIGGER trigtest_before_stmt;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE foreign_schema.foreign_table_1\n\tENABLE TRIGGER trigtest_before_stm' at line 1")

-----------
QUERY:


DROP TRIGGER trigtest_before_stmt ON foreign_schema.foreign_table_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON foreign_schema.foreign_table_1' at line 1")

-----------
QUERY:

DROP TRIGGER trigtest_before_row ON foreign_schema.foreign_table_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON foreign_schema.foreign_table_1' at line 1")

-----------
QUERY:

DROP TRIGGER trigtest_after_stmt ON foreign_schema.foreign_table_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON foreign_schema.foreign_table_1' at line 1")

-----------
QUERY:

DROP TRIGGER trigtest_after_row ON foreign_schema.foreign_table_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON foreign_schema.foreign_table_1' at line 1")

-----------
QUERY:


DROP FUNCTION dummy_trigger();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '()' at line 1")

-----------
QUERY:


-- Table inheritance
CREATE TABLE fd_pt1 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
);
RESULT:
	[]

-----------
QUERY:

CREATE FOREIGN TABLE ft2 () INHERITS (fd_pt1)
  SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft2 () INHERITS (fd_pt1)\n  SERVER s0 OPTIONS (delimiter ',', quote' at line 1")

-----------
QUERY:

-- \d+ fd_pt1
-- \d+ ft2
DROP FOREIGN TABLE ft2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft2' at line 3")

-----------
QUERY:

-- \d+ fd_pt1
CREATE FOREIGN TABLE ft2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft2 (\n\tc1 integer NOT NULL,\n\tc2 text,\n\tc3 date\n) SERVER s0 OPTIONS' at line 2")

-----------
QUERY:

-- \d+ ft2
ALTER FOREIGN TABLE ft2 INHERIT fd_pt1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft2 INHERIT fd_pt1' at line 2")

-----------
QUERY:

-- \d+ fd_pt1
-- \d+ ft2
CREATE TABLE ct3() INHERITS(ft2);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') INHERITS(ft2)' at line 3")

-----------
QUERY:

CREATE FOREIGN TABLE ft3 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) INHERITS(ft2)
  SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft3 (\n\tc1 integer NOT NULL,\n\tc2 text,\n\tc3 date\n) INHERITS(ft2)\n  S' at line 1")

-----------
QUERY:

-- \d+ ft2
-- \d+ ct3
-- \d+ ft3

-- add attributes recursively
ALTER TABLE fd_pt1 ADD COLUMN c4 integer;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 ADD COLUMN c5 integer DEFAULT 0;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 ADD COLUMN c6 integer;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 ADD COLUMN c7 integer NOT NULL;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 ADD COLUMN c8 integer;
RESULT:
	[]

-----------
QUERY:

-- \d+ fd_pt1
-- \d+ ft2
-- \d+ ct3
-- \d+ ft3

-- alter attributes recursively
ALTER TABLE fd_pt1 ALTER COLUMN c4 SET DEFAULT 0;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 ALTER COLUMN c5 DROP DEFAULT;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 ALTER COLUMN c6 SET NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'NOT NULL' at line 1")

-----------
QUERY:

ALTER TABLE fd_pt1 ALTER COLUMN c7 DROP NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'NOT NULL' at line 1")

-----------
QUERY:

ALTER TABLE fd_pt1 ALTER COLUMN c8 TYPE char(10) USING '0';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TYPE char(10) USING '0'' at line 1")

-----------
QUERY:
        -- ERROR
ALTER TABLE fd_pt1 ALTER COLUMN c8 TYPE char(10);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TYPE char(10)' at line 2")

-----------
QUERY:

ALTER TABLE fd_pt1 ALTER COLUMN c8 SET DATA TYPE text;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DATA TYPE text' at line 1")

-----------
QUERY:

ALTER TABLE fd_pt1 ALTER COLUMN c1 SET STATISTICS 10000;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'STATISTICS 10000' at line 1")

-----------
QUERY:

ALTER TABLE fd_pt1 ALTER COLUMN c1 SET (n_distinct = 100);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(n_distinct = 100)' at line 1")

-----------
QUERY:

ALTER TABLE fd_pt1 ALTER COLUMN c8 SET STATISTICS -1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'STATISTICS -1' at line 1")

-----------
QUERY:

ALTER TABLE fd_pt1 ALTER COLUMN c8 SET STORAGE EXTERNAL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'STORAGE EXTERNAL' at line 1")

-----------
QUERY:

-- \d+ fd_pt1
-- \d+ ft2

-- drop attributes recursively
ALTER TABLE fd_pt1 DROP COLUMN c4;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 DROP COLUMN c5;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 DROP COLUMN c6;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 DROP COLUMN c7;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 DROP COLUMN c8;
RESULT:
	[]

-----------
QUERY:

-- \d+ fd_pt1
-- \d+ ft2

-- add constraints recursively
ALTER TABLE fd_pt1 ADD CONSTRAINT fd_pt1chk1 CHECK (c1 > 0) NO INHERIT;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'NO INHERIT' at line 5")

-----------
QUERY:

ALTER TABLE fd_pt1 ADD CONSTRAINT fd_pt1chk2 CHECK (c2 <> '');
RESULT:
	[]

-----------
QUERY:

-- connoinherit should be true for NO INHERIT constraint
SELECT relname, conname, contype, conislocal, coninhcount, connoinherit
  FROM pg_class AS pc JOIN pg_constraint AS pgc ON (conrelid = pc.oid)
  WHERE pc.relname = 'fd_pt1'
  ORDER BY 1,2;
RESULT:
	ERROR - (1146, "Table 'test.pg_class' doesn't exist")

-----------
QUERY:

-- child does not inherit NO INHERIT constraints
-- \d+ fd_pt1
-- \d+ ft2
DROP FOREIGN TABLE ft2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft2' at line 4")

-----------
QUERY:
 -- ERROR
DROP FOREIGN TABLE ft2 CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft2 CASCADE' at line 2")

-----------
QUERY:

CREATE FOREIGN TABLE ft2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft2 (\n\tc1 integer NOT NULL,\n\tc2 text,\n\tc3 date\n) SERVER s0 OPTIONS' at line 1")

-----------
QUERY:

-- child must have parent/* REPLACED */ ''s INHERIT constraints
ALTER FOREIGN TABLE ft2 INHERIT fd_pt1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft2 INHERIT fd_pt1' at line 2")

-----------
QUERY:
                            -- ERROR
ALTER FOREIGN TABLE ft2 ADD CONSTRAINT fd_pt1chk2 CHECK (c2 <> '');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft2 ADD CONSTRAINT fd_pt1chk2 CHECK (c2 <> '')' at line 2")

-----------
QUERY:

ALTER FOREIGN TABLE ft2 INHERIT fd_pt1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE ft2 INHERIT fd_pt1' at line 1")

-----------
QUERY:

-- child does not inherit NO INHERIT constraints
-- \d+ fd_pt1
-- \d+ ft2

-- drop constraints recursively
ALTER TABLE fd_pt1 DROP CONSTRAINT fd_pt1chk1 CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CASCADE' at line 6")

-----------
QUERY:

ALTER TABLE fd_pt1 DROP CONSTRAINT fd_pt1chk2 CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CASCADE' at line 1")

-----------
QUERY:


-- NOT VALID case
INSERT INTO fd_pt1 VALUES (1, 'fd_pt1'::text, '1994-01-01'::date);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::text, '1994-01-01'::date)' at line 2")

-----------
QUERY:

ALTER TABLE fd_pt1 ADD CONSTRAINT fd_pt1chk3 CHECK (c2 <> '') NOT VALID;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VALID' at line 1")

-----------
QUERY:

-- \d+ fd_pt1
-- \d+ ft2
-- VALIDATE CONSTRAINT need do nothing on foreign tables
ALTER TABLE fd_pt1 VALIDATE CONSTRAINT fd_pt1chk3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VALIDATE CONSTRAINT fd_pt1chk3' at line 4")

-----------
QUERY:

-- \d+ fd_pt1
-- \d+ ft2

-- changes name of an attribute recursively
ALTER TABLE fd_pt1 RENAME COLUMN c1 TO f1;
RESULT:
	[]

-----------
QUERY:

ALTER TABLE fd_pt1 RENAME COLUMN c2 TO f2;
RESULT:
	ERROR - (3959, "Check constraint 'fd_pt1chk2' uses column 'c2', hence column cannot be dropped or renamed.")

-----------
QUERY:

ALTER TABLE fd_pt1 RENAME COLUMN c3 TO f3;
RESULT:
	[]

-----------
QUERY:

-- changes name of a constraint recursively
ALTER TABLE fd_pt1 RENAME CONSTRAINT fd_pt1chk3 TO f2_check;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CONSTRAINT fd_pt1chk3 TO f2_check' at line 2")

-----------
QUERY:

-- \d+ fd_pt1
-- \d+ ft2

DROP TABLE fd_pt1 CASCADE;
RESULT:
	[]

-----------
QUERY:


-- IMPORT FOREIGN SCHEMA
IMPORT FOREIGN SCHEMA s1 FROM SERVER s9 INTO public;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SCHEMA s1 FROM SERVER s9 INTO public' at line 2")

-----------
QUERY:
 -- ERROR
IMPORT FOREIGN SCHEMA s1 LIMIT TO (t1) FROM SERVER s9 INTO public;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SCHEMA s1 LIMIT TO (t1) FROM SERVER s9 INTO public' at line 2")

-----------
QUERY:
 --ERROR
IMPORT FOREIGN SCHEMA s1 EXCEPT (t1) FROM SERVER s9 INTO public;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '--ERROR\nIMPORT FOREIGN SCHEMA s1 EXCEPT (t1) FROM SERVER s9 INTO public' at line 1")

-----------
QUERY:
 -- ERROR
IMPORT FOREIGN SCHEMA s1 EXCEPT (t1, t2) FROM SERVER s9 INTO public
OPTIONS (option1 'value1', option2 'value2');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN SCHEMA s1 EXCEPT (t1, t2) FROM SERVER s9 INTO public\nOPTIONS (option1 'v' at line 2")

-----------
QUERY:
 -- ERROR

-- DROP FOREIGN TABLE
DROP FOREIGN TABLE no_table;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE no_table' at line 4")

-----------
QUERY:
                                    -- ERROR
DROP FOREIGN TABLE IF EXISTS no_table;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE IF EXISTS no_table' at line 2")

-----------
QUERY:

DROP FOREIGN TABLE foreign_schema.foreign_table_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE foreign_schema.foreign_table_1' at line 1")

-----------
QUERY:


-- REASSIGN OWNED/DROP OWNED of foreign objects
REASSIGN OWNED BY regress_test_role TO regress_test_role2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'REASSIGN OWNED BY regress_test_role TO regress_test_role2' at line 2")

-----------
QUERY:

DROP OWNED BY regress_test_role2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNED BY regress_test_role2' at line 1")

-----------
QUERY:

DROP OWNED BY regress_test_role2 CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNED BY regress_test_role2 CASCADE' at line 1")

-----------
QUERY:


-- Foreign partition DDL stuff
CREATE TABLE fd_pt2 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) PARTITION BY LIST (c1);
RESULT:
	ERROR - (1492, 'For LIST partitions each partition must be defined')

-----------
QUERY:

CREATE FOREIGN TABLE fd_pt2_1 PARTITION OF fd_pt2 FOR VALUES IN (1)
  SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE fd_pt2_1 PARTITION OF fd_pt2 FOR VALUES IN (1)\n  SERVER s0 OPTIONS' at line 1")

-----------
QUERY:

-- \d+ fd_pt2
-- \d+ fd_pt2_1

-- partition cannot have additional columns
DROP FOREIGN TABLE fd_pt2_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE fd_pt2_1' at line 5")

-----------
QUERY:

CREATE FOREIGN TABLE fd_pt2_1 (
	c1 integer NOT NULL,
	c2 text,
	c3 date,
	c4 char
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE fd_pt2_1 (\n\tc1 integer NOT NULL,\n\tc2 text,\n\tc3 date,\n\tc4 char\n) SE' at line 1")

-----------
QUERY:

-- \d+ fd_pt2_1
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)' at line 2")

-----------
QUERY:
       -- ERROR

DROP FOREIGN TABLE fd_pt2_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE fd_pt2_1' at line 3")

-----------
QUERY:

-- \d+ fd_pt2
CREATE FOREIGN TABLE fd_pt2_1 (
	c1 integer NOT NULL,
	c2 text,
	c3 date
) SERVER s0 OPTIONS (delimiter ',', quote '"', "be quoted" 'value');
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE fd_pt2_1 (\n\tc1 integer NOT NULL,\n\tc2 text,\n\tc3 date\n) SERVER s0 OP' at line 2")

-----------
QUERY:

-- \d+ fd_pt2_1
-- no attach partition validation occurs for foreign tables
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)' at line 3")

-----------
QUERY:

-- \d+ fd_pt2
-- \d+ fd_pt2_1

-- cannot add column to a partition
ALTER TABLE fd_pt2_1 ADD c4 char;
RESULT:
	ERROR - (1146, "Table 'test.fd_pt2_1' doesn't exist")

-----------
QUERY:


-- ok to have a partition/* REPLACED */ ''s own constraints though
ALTER TABLE fd_pt2_1 ALTER c3 SET NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'NOT NULL' at line 2")

-----------
QUERY:

ALTER TABLE fd_pt2_1 ADD CONSTRAINT p21chk CHECK (c2 <> '');
RESULT:
	ERROR - (1146, "Table 'test.fd_pt2_1' doesn't exist")

-----------
QUERY:

-- \d+ fd_pt2
-- \d+ fd_pt2_1

-- cannot drop inherited NOT NULL constraint from a partition
ALTER TABLE fd_pt2_1 ALTER c1 DROP NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'NOT NULL' at line 5")

-----------
QUERY:


-- partition must have parent/* REPLACED */ ''s constraints
ALTER TABLE fd_pt2 DETACH PARTITION fd_pt2_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DETACH PARTITION fd_pt2_1' at line 2")

-----------
QUERY:

ALTER TABLE fd_pt2 ALTER c2 SET NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'NOT NULL' at line 1")

-----------
QUERY:

-- \d+ fd_pt2
-- \d+ fd_pt2_1
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)' at line 3")

-----------
QUERY:
       -- ERROR
ALTER FOREIGN TABLE fd_pt2_1 ALTER c2 SET NOT NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE fd_pt2_1 ALTER c2 SET NOT NULL' at line 2")

-----------
QUERY:

ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)' at line 1")

-----------
QUERY:


ALTER TABLE fd_pt2 DETACH PARTITION fd_pt2_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DETACH PARTITION fd_pt2_1' at line 1")

-----------
QUERY:

ALTER TABLE fd_pt2 ADD CONSTRAINT fd_pt2chk1 CHECK (c1 > 0);
RESULT:
	ERROR - (1146, "Table 'test.fd_pt2' doesn't exist")

-----------
QUERY:

-- \d+ fd_pt2
-- \d+ fd_pt2_1
ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)' at line 3")

-----------
QUERY:
       -- ERROR
ALTER FOREIGN TABLE fd_pt2_1 ADD CONSTRAINT fd_pt2chk1 CHECK (c1 > 0);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE fd_pt2_1 ADD CONSTRAINT fd_pt2chk1 CHECK (c1 > 0)' at line 2")

-----------
QUERY:

ALTER TABLE fd_pt2 ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION fd_pt2_1 FOR VALUES IN (1)' at line 1")

-----------
QUERY:


DROP FOREIGN TABLE fd_pt2_1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE fd_pt2_1' at line 1")

-----------
QUERY:

DROP TABLE fd_pt2;
RESULT:
	ERROR - (1051, "Unknown table 'test.fd_pt2'")

-----------
QUERY:


-- foreign table cannot be part of partition tree made of temporary
-- relations.
CREATE TEMP TABLE temp_parted (a int) PARTITION BY LIST (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE temp_parted (a int) PARTITION BY LIST (a)' at line 3")

-----------
QUERY:

CREATE FOREIGN TABLE foreign_part PARTITION OF temp_parted DEFAULT
  SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE foreign_part PARTITION OF temp_parted DEFAULT\n  SERVER s0' at line 1")

-----------
QUERY:
  -- ERROR
CREATE FOREIGN TABLE foreign_part (a int) SERVER s0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE foreign_part (a int) SERVER s0' at line 2")

-----------
QUERY:

ALTER TABLE temp_parted ATTACH PARTITION foreign_part DEFAULT;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ATTACH PARTITION foreign_part DEFAULT' at line 1")

-----------
QUERY:
  -- ERROR
DROP FOREIGN TABLE foreign_part;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN TABLE foreign_part' at line 2")

-----------
QUERY:

DROP TABLE temp_parted;
RESULT:
	ERROR - (1051, "Unknown table 'test.temp_parted'")

-----------
QUERY:


-- Cleanup
DROP SCHEMA foreign_schema CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CASCADE' at line 2")

-----------
QUERY:

DROP ROLE regress_test_role;
RESULT:
	[]

-----------
QUERY:
                                -- ERROR
DROP SERVER t1 CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CASCADE' at line 2")

-----------
QUERY:

DROP USER MAPPING FOR regress_test_role SERVER s6;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOR regress_test_role SERVER s6' at line 1")

-----------
QUERY:

DROP FOREIGN DATA WRAPPER foo CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER foo CASCADE' at line 1")

-----------
QUERY:

DROP SERVER s8 CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CASCADE' at line 1")

-----------
QUERY:

DROP ROLE regress_test_indirect;
RESULT:
	ERROR - (1396, "Operation DROP ROLE failed for 'regress_test_indirect'@'%'")

-----------
QUERY:

DROP ROLE regress_test_role;
RESULT:
	ERROR - (1396, "Operation DROP ROLE failed for 'regress_test_role'@'%'")

-----------
QUERY:

DROP ROLE regress_unprivileged_role;
RESULT:
	[]

-----------
QUERY:
                        -- ERROR
REVOKE ALL ON FOREIGN DATA WRAPPER postgresql FROM regress_unprivileged_role;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER postgresql FROM regress_unprivileged_role' at line 2")

-----------
QUERY:

DROP ROLE regress_unprivileged_role;
RESULT:
	ERROR - (1396, "Operation DROP ROLE failed for 'regress_unprivileged_role'@'%'")

-----------
QUERY:

DROP ROLE regress_test_role2;
RESULT:
	[]

-----------
QUERY:

DROP FOREIGN DATA WRAPPER postgresql CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER postgresql CASCADE' at line 1")

-----------
QUERY:

DROP FOREIGN DATA WRAPPER dummy CASCADE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FOREIGN DATA WRAPPER dummy CASCADE' at line 1")

-----------
QUERY:

-- \c
DROP ROLE regress_foreign_data_user;
RESULT:
	ERROR - (1396, "Operation DROP ROLE failed for 'regress_foreign_data_user'@'%'")

-----------
QUERY:


-- At this point we should have no wrappers, no servers, and no mappings.
SELECT fdwname, fdwhandler, fdwvalidator, fdwoptions FROM pg_foreign_data_wrapper;
RESULT:
	ERROR - (1146, "Table 'test.pg_foreign_data_wrapper' doesn't exist")

-----------
QUERY:

SELECT srvname, srvoptions FROM pg_foreign_server;
RESULT:
	ERROR - (1146, "Table 'test.pg_foreign_server' doesn't exist")

-----------
QUERY:

SELECT * FROM pg_user_mapping;
RESULT:
	ERROR - (1146, "Table 'test.pg_user_mapping' doesn't exist")
