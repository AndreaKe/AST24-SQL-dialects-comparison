
-----------
QUERY:
-- pg_regress should ensure that this default value applies /* REPLACED */, however
-- we can/* REPLACED */''t rely on any specific default value of vacuum_cost_delay
SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 3")

-----------
QUERY:


-- SET to some nondefault value
SET vacuum_cost_delay TO 40;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 40' at line 2")

-----------
QUERY:

SET datestyle = 'ISO, YMD';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:


-- SET LOCAL has no effect outside of a transaction
SET LOCAL vacuum_cost_delay TO 50;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 50' at line 2")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SET LOCAL datestyle = 'SQL';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:


-- SET LOCAL within a transaction that commits
BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL vacuum_cost_delay TO 50;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 50' at line 1")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SET LOCAL datestyle = 'SQL';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:


-- SET should be reverted after ROLLBACK
BEGIN;
RESULT:
	[]

-----------
QUERY:

SET vacuum_cost_delay TO 60;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 60' at line 1")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SET datestyle = 'German';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:


-- Some tests with subtransactions
BEGIN;
RESULT:
	[]

-----------
QUERY:

SET vacuum_cost_delay TO 70;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 70' at line 1")

-----------
QUERY:

SET datestyle = 'MDY';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

SAVEPOINT first_sp;
RESULT:
	[]

-----------
QUERY:

SET vacuum_cost_delay TO 80.1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 80.1' at line 1")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SET datestyle = 'German, DMY';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

ROLLBACK TO first_sp;
RESULT:
	[]

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

SAVEPOINT second_sp;
RESULT:
	[]

-----------
QUERY:

SET vacuum_cost_delay TO '900us';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO '900us'' at line 1")

-----------
QUERY:

SET datestyle = 'SQL, YMD';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

SAVEPOINT third_sp;
RESULT:
	[]

-----------
QUERY:

SET vacuum_cost_delay TO 100;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 100' at line 1")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SET datestyle = 'Postgres, MDY';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

ROLLBACK TO third_sp;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

ROLLBACK TO second_sp;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:


-- SET LOCAL with Savepoints
BEGIN;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

SAVEPOINT sp;
RESULT:
	[]

-----------
QUERY:

SET LOCAL vacuum_cost_delay TO 30;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 30' at line 1")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SET LOCAL datestyle = 'Postgres, MDY';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

ROLLBACK TO sp;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:


-- SET LOCAL persists through RELEASE (which was not true in 8.0-8.2)
BEGIN;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

SAVEPOINT sp;
RESULT:
	[]

-----------
QUERY:

SET LOCAL vacuum_cost_delay TO 30;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 30' at line 1")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SET LOCAL datestyle = 'Postgres, MDY';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

RELEASE SAVEPOINT sp;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:


-- SET followed by SET LOCAL
BEGIN;
RESULT:
	[]

-----------
QUERY:

SET vacuum_cost_delay TO 40;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 40' at line 1")

-----------
QUERY:

SET LOCAL vacuum_cost_delay TO 50;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 50' at line 1")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SET datestyle = 'ISO, DMY';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SET LOCAL datestyle = 'Postgres, MDY';
RESULT:
	ERROR - (1193, "Unknown system variable 'datestyle'")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:


--
-- Test RESET.  We use datestyle because the reset value is forced by
-- pg_regress, so it doesn/* REPLACED */''t depend on the installation/* REPLACED */''s configuration.
--
SET datestyle = iso, ymd;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 5")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:

RESET datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SHOW datestyle;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'datestyle' at line 1")

-----------
QUERY:

SELECT '2006-08-13 12:34:56'::timestamptz;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::timestamptz' at line 1")

-----------
QUERY:


-- Test some simple error cases
SET seq_page_cost TO 'NaN';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 'NaN'' at line 2")

-----------
QUERY:

SET vacuum_cost_delay TO '10s';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO '10s'' at line 1")

-----------
QUERY:

SET no_such_variable TO 42;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 42' at line 1")

-----------
QUERY:


-- Test /* REPLACED */''custom/* REPLACED */'' GUCs created on the fly (which aren/* REPLACED */''t really an
-- intended feature, but many people use them).
SHOW custom.my_guc;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'custom.my_guc' at line 3")

-----------
QUERY:
  -- error, not known yet
SET custom.my_guc = 42;
RESULT:
	ERROR - (1193, "Unknown system variable 'custom.my_guc'")

-----------
QUERY:

SHOW custom.my_guc;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'custom.my_guc' at line 1")

-----------
QUERY:

RESET custom.my_guc;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'custom.my_guc' at line 1")

-----------
QUERY:
  -- this makes it go to empty, not become unknown again
SHOW custom.my_guc;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'custom.my_guc' at line 2")

-----------
QUERY:

SET custom.my.qualified.guc = 'foo';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '.qualified.guc = 'foo'' at line 1")

-----------
QUERY:

SHOW custom.my.qualified.guc;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'custom.my.qualified.guc' at line 1")

-----------
QUERY:

SET custom."bad-guc" = 42;
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'"bad-guc" = 42\' at line 1')

-----------
QUERY:
  -- disallowed because -c cannot set this name
SHOW custom."bad-guc";
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'custom."bad-guc"\' at line 2')

-----------
QUERY:

SET special."weird name" = 'foo';
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'"weird name" = \'foo\'\' at line 1')

-----------
QUERY:
  -- could be allowed, but we choose not to
SHOW special."weird name";
RESULT:
	ERROR - (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \'special."weird name"\' at line 2')

-----------
QUERY:


-- Check what happens when you try to set a /* REPLACED */''custom/* REPLACED */'' GUC within the
-- namespace of an extension.
SET plpgsql.extra_foo_warnings = true;
RESULT:
	ERROR - (1193, "Unknown system variable 'plpgsql.extra_foo_warnings'")

-----------
QUERY:
  -- allowed if plpgsql is not loaded yet
LOAD 'plpgsql';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''plpgsql'' at line 2")

-----------
QUERY:
  -- this will throw a warning and delete the variable
SET plpgsql.extra_foo_warnings = true;
RESULT:
	ERROR - (1193, "Unknown system variable 'plpgsql.extra_foo_warnings'")

-----------
QUERY:
  -- now, it/* REPLACED */''s an error
SHOW plpgsql.extra_foo_warnings;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'plpgsql.extra_foo_warnings' at line 2")

-----------
QUERY:


--
-- Test DISCARD TEMP
--
CREATE TEMP TABLE reset_test ( data text ) ON COMMIT DELETE ROWS;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE reset_test ( data text ) ON COMMIT DELETE ROWS' at line 4")

-----------
QUERY:

SELECT relname FROM pg_class WHERE relname = 'reset_test';
RESULT:
	ERROR - (1146, "Table 'test.pg_class' doesn't exist")

-----------
QUERY:

DISCARD TEMP;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DISCARD TEMP' at line 1")

-----------
QUERY:

SELECT relname FROM pg_class WHERE relname = 'reset_test';
RESULT:
	ERROR - (1146, "Table 'test.pg_class' doesn't exist")

-----------
QUERY:


--
-- Test DISCARD ALL
--

-- do changes
DECLARE foo CURSOR WITH HOLD FOR SELECT 1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo CURSOR WITH HOLD FOR SELECT 1' at line 6")

-----------
QUERY:

PREPARE foo AS SELECT 1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS SELECT 1' at line 1")

-----------
QUERY:

LISTEN foo_event;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'LISTEN foo_event' at line 1")

-----------
QUERY:

SET vacuum_cost_delay = 13;
RESULT:
	ERROR - (1193, "Unknown system variable 'vacuum_cost_delay'")

-----------
QUERY:

CREATE TEMP TABLE tmp_foo (data text) ON COMMIT DELETE ROWS;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE tmp_foo (data text) ON COMMIT DELETE ROWS' at line 1")

-----------
QUERY:

CREATE ROLE regress_guc_user;
RESULT:
	[]

-----------
QUERY:

SET SESSION AUTHORIZATION regress_guc_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'regress_guc_user' at line 1")

-----------
QUERY:

-- look changes
SELECT pg_listening_channels();
RESULT:
	ERROR - (1305, 'FUNCTION test.pg_listening_channels does not exist')

-----------
QUERY:

SELECT name FROM pg_prepared_statements;
RESULT:
	ERROR - (1146, "Table 'test.pg_prepared_statements' doesn't exist")

-----------
QUERY:

SELECT name FROM pg_cursors;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SELECT relname from pg_class where relname = 'tmp_foo';
RESULT:
	ERROR - (1146, "Table 'test.pg_class' doesn't exist")

-----------
QUERY:

SELECT current_user = 'regress_guc_user';
RESULT:
	((0,),)

-----------
QUERY:

-- discard everything
DISCARD ALL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DISCARD ALL' at line 2")

-----------
QUERY:

-- look again
SELECT pg_listening_channels();
RESULT:
	ERROR - (1305, 'FUNCTION test.pg_listening_channels does not exist')

-----------
QUERY:

SELECT name FROM pg_prepared_statements;
RESULT:
	ERROR - (1146, "Table 'test.pg_prepared_statements' doesn't exist")

-----------
QUERY:

SELECT name FROM pg_cursors;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:

SHOW vacuum_cost_delay;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacuum_cost_delay' at line 1")

-----------
QUERY:

SELECT relname from pg_class where relname = 'tmp_foo';
RESULT:
	ERROR - (1146, "Table 'test.pg_class' doesn't exist")

-----------
QUERY:

SELECT current_user = 'regress_guc_user';
RESULT:
	((0,),)

-----------
QUERY:

DROP ROLE regress_guc_user;
RESULT:
	[]

-----------
QUERY:


--
-- search_path should react to changes in pg_namespace
--

set search_path = foo, public, not_there_initially;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ', not_there_initially' at line 5")

-----------
QUERY:

select current_schemas(false);
RESULT:
	ERROR - (1305, 'FUNCTION test.current_schemas does not exist')

-----------
QUERY:

create schema not_there_initially;
RESULT:
	[]

-----------
QUERY:

select current_schemas(false);
RESULT:
	ERROR - (1305, 'FUNCTION test.current_schemas does not exist')

-----------
QUERY:

drop schema not_there_initially;
RESULT:
	[]

-----------
QUERY:

select current_schemas(false);
RESULT:
	ERROR - (1305, 'FUNCTION test.current_schemas does not exist')

-----------
QUERY:

reset search_path;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'search_path' at line 1")

-----------
QUERY:


--
-- Tests for function-local GUC settings
--

set work_mem = '3MB';
RESULT:
	ERROR - (1193, "Unknown system variable 'work_mem'")

-----------
QUERY:


create function report_guc(text) returns text as
$$ select current_setting($1) $$ language sql
set work_mem = '1MB';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') returns text as\n$$ select current_setting($1) $$ language sql\nset work_mem = '' at line 1")

-----------
QUERY:


select report_guc('work_mem'), current_setting('work_mem');
RESULT:
	ERROR - (1305, 'FUNCTION test.report_guc does not exist')

-----------
QUERY:


alter function report_guc(text) set work_mem = '2MB';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(text) set work_mem = '2MB'' at line 1")

-----------
QUERY:


select report_guc('work_mem'), current_setting('work_mem');
RESULT:
	ERROR - (1305, 'FUNCTION test.report_guc does not exist')

-----------
QUERY:


alter function report_guc(text) reset all;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(text) reset all' at line 1")

-----------
QUERY:


select report_guc('work_mem'), current_setting('work_mem');
RESULT:
	ERROR - (1305, 'FUNCTION test.report_guc does not exist')

-----------
QUERY:


-- SET LOCAL is restricted by a function SET option
create or replace function myfunc(int) returns text as $$
begin
  set local work_mem = '2MB';
  return current_setting('work_mem');
end $$
language plpgsql
set work_mem = '1MB';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'function myfunc(int) returns text as $$\nbegin\n  set local work_mem = '2MB';\n  re' at line 2")

-----------
QUERY:


select myfunc(0), current_setting('work_mem');
RESULT:
	ERROR - (1305, 'FUNCTION test.myfunc does not exist')

-----------
QUERY:


alter function myfunc(int) reset all;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(int) reset all' at line 1")

-----------
QUERY:


select myfunc(0), current_setting('work_mem');
RESULT:
	ERROR - (1305, 'FUNCTION test.myfunc does not exist')

-----------
QUERY:


set work_mem = '3MB';
RESULT:
	ERROR - (1193, "Unknown system variable 'work_mem'")

-----------
QUERY:


-- but SET isn/* REPLACED */''t
create or replace function myfunc(int) returns text as $$
begin
  set work_mem = '2MB';
  return current_setting('work_mem');
end $$
language plpgsql
set work_mem = '1MB';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'function myfunc(int) returns text as $$\nbegin\n  set work_mem = '2MB';\n  return c' at line 2")

-----------
QUERY:


select myfunc(0), current_setting('work_mem');
RESULT:
	ERROR - (1305, 'FUNCTION test.myfunc does not exist')

-----------
QUERY:


set work_mem = '3MB';
RESULT:
	ERROR - (1193, "Unknown system variable 'work_mem'")

-----------
QUERY:


-- it should roll back on error, though
create or replace function myfunc(int) returns text as $$
begin
  set work_mem = '2MB';
  perform 1/$1;
  return current_setting('work_mem');
end $$
language plpgsql
set work_mem = '1MB';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'function myfunc(int) returns text as $$\nbegin\n  set work_mem = '2MB';\n  perform ' at line 2")

-----------
QUERY:


select myfunc(0);
RESULT:
	ERROR - (1305, 'FUNCTION test.myfunc does not exist')

-----------
QUERY:

select current_setting('work_mem');
RESULT:
	ERROR - (1305, 'FUNCTION test.current_setting does not exist')

-----------
QUERY:

select myfunc(1), current_setting('work_mem');
RESULT:
	ERROR - (1305, 'FUNCTION test.myfunc does not exist')

-----------
QUERY:


-- check current_setting()/* REPLACED */''s behavior with invalid setting name

select current_setting('nosuch.setting');
RESULT:
	ERROR - (1305, 'FUNCTION test.current_setting does not exist')

-----------
QUERY:
  -- FAIL
select current_setting('nosuch.setting', false);
RESULT:
	ERROR - (1305, 'FUNCTION test.current_setting does not exist')

-----------
QUERY:
  -- FAIL
select current_setting('nosuch.setting', true) is null;
RESULT:
	ERROR - (1305, 'FUNCTION test.current_setting does not exist')

-----------
QUERY:


-- after this, all three cases should yield /* REPLACED */''nada/* REPLACED */''
set nosuch.setting = 'nada';
RESULT:
	ERROR - (1193, "Unknown system variable 'nosuch.setting'")

-----------
QUERY:


select current_setting('nosuch.setting');
RESULT:
	ERROR - (1305, 'FUNCTION test.current_setting does not exist')

-----------
QUERY:

select current_setting('nosuch.setting', false);
RESULT:
	ERROR - (1305, 'FUNCTION test.current_setting does not exist')

-----------
QUERY:

select current_setting('nosuch.setting', true);
RESULT:
	ERROR - (1305, 'FUNCTION test.current_setting does not exist')

-----------
QUERY:


-- Normally, CREATE FUNCTION should complain about invalid values in
-- function SET options /* REPLACED */, but not if check_function_bodies is off,
-- because that creates ordering hazards for pg_dump

create function func_with_bad_set() returns int as $$ select 1 $$
language sql
set default_text_search_config = no_such_config;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'as $$ select 1 $$\nlanguage sql\nset default_text_search_config = no_such_config' at line 5")

-----------
QUERY:


set check_function_bodies = off;
RESULT:
	ERROR - (1193, "Unknown system variable 'check_function_bodies'")

-----------
QUERY:


create function func_with_bad_set() returns int as $$ select 1 $$
language sql
set default_text_search_config = no_such_config;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'as $$ select 1 $$\nlanguage sql\nset default_text_search_config = no_such_config' at line 1")

-----------
QUERY:


select func_with_bad_set();
RESULT:
	ERROR - (1305, 'FUNCTION test.func_with_bad_set does not exist')

-----------
QUERY:


reset check_function_bodies;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'check_function_bodies' at line 1")

-----------
QUERY:


set default_with_oids to f;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'to f' at line 1")

-----------
QUERY:

-- Should not allow to set it to true.
set default_with_oids to t;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'to t' at line 2")

-----------
QUERY:


-- Test GUC categories and flag patterns
SELECT pg_settings_get_flags(NULL);
RESULT:
	ERROR - (1305, 'FUNCTION test.pg_settings_get_flags does not exist')

-----------
QUERY:

SELECT pg_settings_get_flags('does_not_exist');
RESULT:
	ERROR - (1305, 'FUNCTION test.pg_settings_get_flags does not exist')

-----------
QUERY:

CREATE TABLE tab_settings_flags AS SELECT name, category,
    'EXPLAIN'          = ANY(flags) AS explain,
    'NO_RESET'         = ANY(flags) AS no_reset,
    'NO_RESET_ALL'     = ANY(flags) AS no_reset_all,
    'NOT_IN_SAMPLE'    = ANY(flags) AS not_in_sample,
    'RUNTIME_COMPUTED' = ANY(flags) AS runtime_computed
  FROM pg_show_all_settings() AS psas,
    pg_settings_get_flags(psas.name) AS flags;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'flags) AS explain,\n    'NO_RESET'         = ANY(flags) AS no_reset,\n    'NO_RESE' at line 2")

-----------
QUERY:


-- Developer GUCs should be flagged with GUC_NOT_IN_SAMPLE:
SELECT name FROM tab_settings_flags
  WHERE category = 'Developer Options' AND NOT not_in_sample
  ORDER BY 1;
RESULT:
	ERROR - (1146, "Table 'test.tab_settings_flags' doesn't exist")

-----------
QUERY:

-- Most query-tuning GUCs are flagged as valid for EXPLAIN.
-- default_statistics_target is an exception.
SELECT name FROM tab_settings_flags
  WHERE category ~ '^Query Tuning' AND NOT explain
  ORDER BY 1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '~ '^Query Tuning' AND NOT explain\n  ORDER BY 1' at line 4")

-----------
QUERY:

-- Runtime-computed GUCs should be part of the preset category.
SELECT name FROM tab_settings_flags
  WHERE NOT category = 'Preset Options' AND runtime_computed
  ORDER BY 1;
RESULT:
	ERROR - (1146, "Table 'test.tab_settings_flags' doesn't exist")

-----------
QUERY:

-- Preset GUCs are flagged as NOT_IN_SAMPLE.
SELECT name FROM tab_settings_flags
  WHERE category = 'Preset Options' AND NOT not_in_sample
  ORDER BY 1;
RESULT:
	ERROR - (1146, "Table 'test.tab_settings_flags' doesn't exist")

-----------
QUERY:

-- NO_RESET implies NO_RESET_ALL.
SELECT name FROM tab_settings_flags
  WHERE no_reset AND NOT no_reset_all
  ORDER BY 1;
RESULT:
	ERROR - (1146, "Table 'test.tab_settings_flags' doesn't exist")

-----------
QUERY:

DROP TABLE tab_settings_flags;
RESULT:
	ERROR - (1051, "Unknown table 'test.tab_settings_flags'")
