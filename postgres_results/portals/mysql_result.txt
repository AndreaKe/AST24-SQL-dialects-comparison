
-----------
QUERY:
--
-- Cursor regression tests
--

BEGIN;
RESULT:
	[]

-----------
QUERY:


DECLARE foo1 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo1 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo2 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo2 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo3 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo3 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo4 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo4 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo5 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo5 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo6 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo6 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo7 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo7 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo8 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo8 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo9 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo9 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo10 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo10 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo11 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo11 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo12 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo12 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo13 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo13 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo14 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo14 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo15 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo15 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo16 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo16 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo17 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo17 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo18 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo18 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo19 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo19 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo20 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo20 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo21 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo21 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


DECLARE foo22 SCROLL CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo22 SCROLL CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


DECLARE foo23 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo23 SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


FETCH 1 in foo1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 1 in foo1' at line 1")

-----------
QUERY:


FETCH 2 in foo2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 2 in foo2' at line 1")

-----------
QUERY:


FETCH 3 in foo3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 3 in foo3' at line 1")

-----------
QUERY:


FETCH 4 in foo4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 4 in foo4' at line 1")

-----------
QUERY:


FETCH 5 in foo5;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 5 in foo5' at line 1")

-----------
QUERY:


FETCH 6 in foo6;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 6 in foo6' at line 1")

-----------
QUERY:


FETCH 7 in foo7;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 7 in foo7' at line 1")

-----------
QUERY:


FETCH 8 in foo8;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 8 in foo8' at line 1")

-----------
QUERY:


FETCH 9 in foo9;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 9 in foo9' at line 1")

-----------
QUERY:


FETCH 10 in foo10;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 10 in foo10' at line 1")

-----------
QUERY:


FETCH 11 in foo11;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 11 in foo11' at line 1")

-----------
QUERY:


FETCH 12 in foo12;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 12 in foo12' at line 1")

-----------
QUERY:


FETCH 13 in foo13;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 13 in foo13' at line 1")

-----------
QUERY:


FETCH 14 in foo14;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 14 in foo14' at line 1")

-----------
QUERY:


FETCH 15 in foo15;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 15 in foo15' at line 1")

-----------
QUERY:


FETCH 16 in foo16;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 16 in foo16' at line 1")

-----------
QUERY:


FETCH 17 in foo17;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 17 in foo17' at line 1")

-----------
QUERY:


FETCH 18 in foo18;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 18 in foo18' at line 1")

-----------
QUERY:


FETCH 19 in foo19;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 19 in foo19' at line 1")

-----------
QUERY:


FETCH 20 in foo20;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 20 in foo20' at line 1")

-----------
QUERY:


FETCH 21 in foo21;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 21 in foo21' at line 1")

-----------
QUERY:


FETCH 22 in foo22;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 22 in foo22' at line 1")

-----------
QUERY:


FETCH 23 in foo23;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 23 in foo23' at line 1")

-----------
QUERY:


FETCH backward 1 in foo23;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 1 in foo23' at line 1")

-----------
QUERY:


FETCH backward 2 in foo22;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 2 in foo22' at line 1")

-----------
QUERY:


FETCH backward 3 in foo21;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 3 in foo21' at line 1")

-----------
QUERY:


FETCH backward 4 in foo20;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 4 in foo20' at line 1")

-----------
QUERY:


FETCH backward 5 in foo19;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 5 in foo19' at line 1")

-----------
QUERY:


FETCH backward 6 in foo18;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 6 in foo18' at line 1")

-----------
QUERY:


FETCH backward 7 in foo17;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 7 in foo17' at line 1")

-----------
QUERY:


FETCH backward 8 in foo16;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 8 in foo16' at line 1")

-----------
QUERY:


FETCH backward 9 in foo15;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 9 in foo15' at line 1")

-----------
QUERY:


FETCH backward 10 in foo14;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 10 in foo14' at line 1")

-----------
QUERY:


FETCH backward 11 in foo13;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 11 in foo13' at line 1")

-----------
QUERY:


FETCH backward 12 in foo12;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 12 in foo12' at line 1")

-----------
QUERY:


FETCH backward 13 in foo11;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 13 in foo11' at line 1")

-----------
QUERY:


FETCH backward 14 in foo10;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 14 in foo10' at line 1")

-----------
QUERY:


FETCH backward 15 in foo9;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 15 in foo9' at line 1")

-----------
QUERY:


FETCH backward 16 in foo8;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 16 in foo8' at line 1")

-----------
QUERY:


FETCH backward 17 in foo7;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 17 in foo7' at line 1")

-----------
QUERY:


FETCH backward 18 in foo6;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 18 in foo6' at line 1")

-----------
QUERY:


FETCH backward 19 in foo5;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 19 in foo5' at line 1")

-----------
QUERY:


FETCH backward 20 in foo4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 20 in foo4' at line 1")

-----------
QUERY:


FETCH backward 21 in foo3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 21 in foo3' at line 1")

-----------
QUERY:


FETCH backward 22 in foo2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 22 in foo2' at line 1")

-----------
QUERY:


FETCH backward 23 in foo1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH backward 23 in foo1' at line 1")

-----------
QUERY:


CLOSE foo1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo1' at line 1")

-----------
QUERY:


CLOSE foo2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo2' at line 1")

-----------
QUERY:


CLOSE foo3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo3' at line 1")

-----------
QUERY:


CLOSE foo4;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo4' at line 1")

-----------
QUERY:


CLOSE foo5;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo5' at line 1")

-----------
QUERY:


CLOSE foo6;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo6' at line 1")

-----------
QUERY:


CLOSE foo7;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo7' at line 1")

-----------
QUERY:


CLOSE foo8;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo8' at line 1")

-----------
QUERY:


CLOSE foo9;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo9' at line 1")

-----------
QUERY:


CLOSE foo10;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo10' at line 1")

-----------
QUERY:


CLOSE foo11;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo11' at line 1")

-----------
QUERY:


CLOSE foo12;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo12' at line 1")

-----------
QUERY:


-- leave some cursors open, to test that auto-close works.

-- record this in the system view as well (don/* REPLACED */ ''t query the time field there
-- however)
SELECT name, statement, is_holdable, is_binary, is_scrollable FROM pg_cursors ORDER BY 1;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:


END;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'END' at line 1")

-----------
QUERY:


SELECT name, statement, is_holdable, is_binary, is_scrollable FROM pg_cursors;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:


--
-- NO SCROLL disallows backward fetching
--

BEGIN;
RESULT:
	[]

-----------
QUERY:


DECLARE foo24 NO SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo24 NO SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


FETCH 1 FROM foo24;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 1 FROM foo24' at line 1")

-----------
QUERY:


FETCH BACKWARD 1 FROM foo24;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH BACKWARD 1 FROM foo24' at line 1")

-----------
QUERY:
 -- should fail

END;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'END' at line 3")

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:


DECLARE foo24 NO SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo24 NO SCROLL CURSOR FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


FETCH 1 FROM foo24;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 1 FROM foo24' at line 1")

-----------
QUERY:


FETCH ABSOLUTE 2 FROM foo24;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ABSOLUTE 2 FROM foo24' at line 1")

-----------
QUERY:
 -- allowed

FETCH ABSOLUTE 1 FROM foo24;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ABSOLUTE 1 FROM foo24' at line 3")

-----------
QUERY:
 -- should fail

END;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'END' at line 3")

-----------
QUERY:


--
-- Cursors outside transaction blocks
--


SELECT name, statement, is_holdable, is_binary, is_scrollable FROM pg_cursors;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:


DECLARE foo25 SCROLL CURSOR WITH HOLD FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo25 SCROLL CURSOR WITH HOLD FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


FETCH FROM foo25;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH FROM foo25' at line 1")

-----------
QUERY:


FETCH FROM foo25;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH FROM foo25' at line 1")

-----------
QUERY:


COMMIT;
RESULT:
	[]

-----------
QUERY:


FETCH FROM foo25;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH FROM foo25' at line 1")

-----------
QUERY:


FETCH BACKWARD FROM foo25;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH BACKWARD FROM foo25' at line 1")

-----------
QUERY:


FETCH ABSOLUTE -1 FROM foo25;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ABSOLUTE -1 FROM foo25' at line 1")

-----------
QUERY:


SELECT name, statement, is_holdable, is_binary, is_scrollable FROM pg_cursors;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:


CLOSE foo25;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo25' at line 1")

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:


DECLARE foo25ns NO SCROLL CURSOR WITH HOLD FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo25ns NO SCROLL CURSOR WITH HOLD FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:


FETCH FROM foo25ns;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH FROM foo25ns' at line 1")

-----------
QUERY:


FETCH FROM foo25ns;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH FROM foo25ns' at line 1")

-----------
QUERY:


COMMIT;
RESULT:
	[]

-----------
QUERY:


FETCH FROM foo25ns;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH FROM foo25ns' at line 1")

-----------
QUERY:


FETCH ABSOLUTE 4 FROM foo25ns;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ABSOLUTE 4 FROM foo25ns' at line 1")

-----------
QUERY:


FETCH ABSOLUTE 4 FROM foo25ns;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ABSOLUTE 4 FROM foo25ns' at line 1")

-----------
QUERY:
 -- fail

SELECT name, statement, is_holdable, is_binary, is_scrollable FROM pg_cursors;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:


CLOSE foo25ns;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE foo25ns' at line 1")

-----------
QUERY:


--
-- ROLLBACK should close holdable cursors
--

BEGIN;
RESULT:
	[]

-----------
QUERY:


DECLARE foo26 CURSOR WITH HOLD FOR SELECT * FROM tenk1 ORDER BY unique2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo26 CURSOR WITH HOLD FOR SELECT * FROM tenk1 ORDER BY unique2' at line 1")

-----------
QUERY:


ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- should fail
FETCH FROM foo26;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH FROM foo26' at line 2")

-----------
QUERY:


--
-- Parameterized DECLARE needs to insert param values into the cursor portal
--

BEGIN;
RESULT:
	[]

-----------
QUERY:


CREATE FUNCTION declares_cursor(text)
   RETURNS void
   AS 'DECLARE c CURSOR FOR SELECT stringu1 FROM tenk1 WHERE stringu1 LIKE $1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')\n   RETURNS void\n   AS 'DECLARE c CURSOR FOR SELECT stringu1 FROM tenk1 WHERE s' at line 1")

-----------
QUERY:
'
   LANGUAGE SQL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''\n   LANGUAGE SQL' at line 1")

-----------
QUERY:


SELECT declares_cursor('AB%');
RESULT:
	ERROR - (1305, 'FUNCTION test.declares_cursor does not exist')

-----------
QUERY:


FETCH ALL FROM c;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ALL FROM c' at line 1")

-----------
QUERY:


ROLLBACK;
RESULT:
	[]

-----------
QUERY:


--
-- Test behavior of both volatile and stable functions inside a cursor /* REPLACED */ ,
-- in particular we want to see what happens during commit of a holdable
-- cursor
--

create temp table tt1(f1 int);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'temp table tt1(f1 int)' at line 7")

-----------
QUERY:


create function count_tt1_v() returns int8 as
'select count(*) from tt1' language sql volatile;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'as\n'select count(*) from tt1' language sql volatile' at line 1")

-----------
QUERY:


create function count_tt1_s() returns int8 as
'select count(*) from tt1' language sql stable;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'as\n'select count(*) from tt1' language sql stable' at line 1")

-----------
QUERY:


begin;
RESULT:
	[]

-----------
QUERY:


insert into tt1 values(1);
RESULT:
	ERROR - (1146, "Table 'test.tt1' doesn't exist")

-----------
QUERY:


declare c1 cursor for select count_tt1_v(), count_tt1_s();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'declare c1 cursor for select count_tt1_v(), count_tt1_s()' at line 1")

-----------
QUERY:


insert into tt1 values(2);
RESULT:
	ERROR - (1146, "Table 'test.tt1' doesn't exist")

-----------
QUERY:


fetch all from c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fetch all from c1' at line 1")

-----------
QUERY:


rollback;
RESULT:
	[]

-----------
QUERY:


begin;
RESULT:
	[]

-----------
QUERY:


insert into tt1 values(1);
RESULT:
	ERROR - (1146, "Table 'test.tt1' doesn't exist")

-----------
QUERY:


declare c2 cursor with hold for select count_tt1_v(), count_tt1_s();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'declare c2 cursor with hold for select count_tt1_v(), count_tt1_s()' at line 1")

-----------
QUERY:


insert into tt1 values(2);
RESULT:
	ERROR - (1146, "Table 'test.tt1' doesn't exist")

-----------
QUERY:


commit;
RESULT:
	[]

-----------
QUERY:


delete from tt1;
RESULT:
	ERROR - (1146, "Table 'test.tt1' doesn't exist")

-----------
QUERY:


fetch all from c2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fetch all from c2' at line 1")

-----------
QUERY:


drop function count_tt1_v();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '()' at line 1")

-----------
QUERY:

drop function count_tt1_s();
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '()' at line 1")

-----------
QUERY:



-- Create a cursor with the BINARY option and check the pg_cursors view
BEGIN;
RESULT:
	[]

-----------
QUERY:

SELECT name, statement, is_holdable, is_binary, is_scrollable FROM pg_cursors;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:

DECLARE bc BINARY CURSOR FOR SELECT * FROM tenk1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE bc BINARY CURSOR FOR SELECT * FROM tenk1' at line 1")

-----------
QUERY:

SELECT name, statement, is_holdable, is_binary, is_scrollable FROM pg_cursors ORDER BY 1;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- We should not see the portal that is created internally to
-- implement EXECUTE in pg_cursors
PREPARE cprep AS
  SELECT name, statement, is_holdable, is_binary, is_scrollable FROM pg_cursors;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS\n  SELECT name, statement, is_holdable, is_binary, is_scrollable FROM pg_curso' at line 3")

-----------
QUERY:

EXECUTE cprep;
RESULT:
	ERROR - (1243, 'Unknown prepared statement handler (cprep) given to EXECUTE')

-----------
QUERY:


-- test CLOSE ALL /* REPLACED */ ,
SELECT name FROM pg_cursors ORDER BY 1;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:

CLOSE ALL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE ALL' at line 1")

-----------
QUERY:

SELECT name FROM pg_cursors ORDER BY 1;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE foo1 CURSOR WITH HOLD FOR SELECT 1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo1 CURSOR WITH HOLD FOR SELECT 1' at line 1")

-----------
QUERY:

DECLARE foo2 CURSOR WITHOUT HOLD FOR SELECT 1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE foo2 CURSOR WITHOUT HOLD FOR SELECT 1' at line 1")

-----------
QUERY:

SELECT name FROM pg_cursors ORDER BY 1;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:

CLOSE ALL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLOSE ALL' at line 1")

-----------
QUERY:

SELECT name FROM pg_cursors ORDER BY 1;
RESULT:
	ERROR - (1146, "Table 'test.pg_cursors' doesn't exist")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:


--
-- Tests for updatable cursors
--

CREATE TEMP TABLE uctest(f1 int, f2 text);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE uctest(f1 int, f2 text)' at line 5")

-----------
QUERY:

INSERT INTO uctest VALUES (1, 'one'), (2, 'two'), (3, 'three');
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:


-- Check DELETE WHERE CURRENT
BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT * FROM uctest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT * FROM uctest' at line 1")

-----------
QUERY:

FETCH 2 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 2 FROM c1' at line 1")

-----------
QUERY:

DELETE FROM uctest WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

-- should show deletion
SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

-- cursor did not move
FETCH ALL FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ALL FROM c1' at line 2")

-----------
QUERY:

-- cursor is insensitive
MOVE BACKWARD ALL IN c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'MOVE BACKWARD ALL IN c1' at line 2")

-----------
QUERY:

FETCH ALL FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ALL FROM c1' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:

-- should still see deletion
SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:


-- Check UPDATE WHERE CURRENT /* REPLACED */ , this time use FOR UPDATE
BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT * FROM uctest FOR UPDATE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT * FROM uctest FOR UPDATE' at line 1")

-----------
QUERY:

FETCH c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH c1' at line 1")

-----------
QUERY:

UPDATE uctest SET f1 = 8 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:


-- Check repeated-update and update-then-delete cases
BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT * FROM uctest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT * FROM uctest' at line 1")

-----------
QUERY:

FETCH c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH c1' at line 1")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

-- insensitive cursor should not show effects of updates or deletes
FETCH RELATIVE 0 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH RELATIVE 0 FROM c1' at line 2")

-----------
QUERY:

DELETE FROM uctest WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

DELETE FROM uctest WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:
 -- no-op
SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:
 -- no-op
SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

FETCH RELATIVE 0 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH RELATIVE 0 FROM c1' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT * FROM uctest FOR UPDATE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT * FROM uctest FOR UPDATE' at line 1")

-----------
QUERY:

FETCH c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH c1' at line 1")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

DELETE FROM uctest WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

DELETE FROM uctest WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:
 -- no-op
SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:
 -- no-op
SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

--- FOR UPDATE cursors can/* REPLACED */ ''t currently scroll back, so this is an error:
FETCH RELATIVE 0 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '--- FOR UPDATE cursors can/* REPLACED */ ''t currently scroll back, so this is a' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:


-- Check insensitive cursor with INSERT
-- (The above tests don/* REPLACED */ ''t test the SQL notion of an insensitive cursor
-- correctly, because per SQL standard, changes from WHERE CURRENT OF
-- commands should be visible in the cursor.  So here we make the
-- changes with a command that is independent of the cursor.)
BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 INSENSITIVE CURSOR FOR SELECT * FROM uctest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 INSENSITIVE CURSOR FOR SELECT * FROM uctest' at line 1")

-----------
QUERY:

INSERT INTO uctest VALUES (10, 'ten');
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

FETCH NEXT FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH NEXT FROM c1' at line 1")

-----------
QUERY:

FETCH NEXT FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH NEXT FROM c1' at line 1")

-----------
QUERY:

FETCH NEXT FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH NEXT FROM c1' at line 1")

-----------
QUERY:
  -- insert not visible
COMMIT;
RESULT:
	[]

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

DELETE FROM uctest WHERE f1 = 10;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:
  -- restore test table state

-- Check inheritance cases
CREATE TEMP TABLE ucchild () inherits (uctest);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE ucchild () inherits (uctest)' at line 4")

-----------
QUERY:

INSERT INTO ucchild values(100, 'hundred');
RESULT:
	ERROR - (1146, "Table 'test.ucchild' doesn't exist")

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT * FROM uctest FOR UPDATE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT * FROM uctest FOR UPDATE' at line 1")

-----------
QUERY:

FETCH 1 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 1 FROM c1' at line 1")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

FETCH 1 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 1 FROM c1' at line 1")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

FETCH 1 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 1 FROM c1' at line 1")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

FETCH 1 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 1 FROM c1' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:


-- Can update from a self-join, but only if FOR UPDATE says which to use
BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT * FROM uctest a, uctest b WHERE a.f1 = b.f1 + 5;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT * FROM uctest a, uctest b WHERE a.f1 = b.f1 + 5' at line 1")

-----------
QUERY:

FETCH 1 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 1 FROM c1' at line 1")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:
  -- fail
ROLLBACK;
RESULT:
	[]

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT * FROM uctest a, uctest b WHERE a.f1 = b.f1 + 5 FOR UPDATE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT * FROM uctest a, uctest b WHERE a.f1 = b.f1 + 5 FOR' at line 1")

-----------
QUERY:

FETCH 1 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 1 FROM c1' at line 1")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:
  -- fail
ROLLBACK;
RESULT:
	[]

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT * FROM uctest a, uctest b WHERE a.f1 = b.f1 + 5 FOR SHARE OF a;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT * FROM uctest a, uctest b WHERE a.f1 = b.f1 + 5 FOR' at line 1")

-----------
QUERY:

FETCH 1 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH 1 FROM c1' at line 1")

-----------
QUERY:

UPDATE uctest SET f1 = f1 + 10 WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

SELECT * FROM uctest;
RESULT:
	ERROR - (1146, "Table 'test.uctest' doesn't exist")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- Check various error cases

DELETE FROM uctest WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 3")

-----------
QUERY:
  -- fail, no such cursor
DECLARE cx CURSOR WITH HOLD FOR SELECT * FROM uctest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE cx CURSOR WITH HOLD FOR SELECT * FROM uctest' at line 2")

-----------
QUERY:

DELETE FROM uctest WHERE CURRENT OF cx;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF cx' at line 1")

-----------
QUERY:
  -- fail, can/* REPLACED */ ''t use held cursor
BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c CURSOR FOR SELECT * FROM tenk2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c CURSOR FOR SELECT * FROM tenk2' at line 1")

-----------
QUERY:

DELETE FROM uctest WHERE CURRENT OF c;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c' at line 1")

-----------
QUERY:
  -- fail, cursor on wrong table
ROLLBACK;
RESULT:
	[]

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c CURSOR FOR SELECT * FROM tenk2 FOR SHARE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c CURSOR FOR SELECT * FROM tenk2 FOR SHARE' at line 1")

-----------
QUERY:

DELETE FROM uctest WHERE CURRENT OF c;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c' at line 1")

-----------
QUERY:
  -- fail, cursor on wrong table
ROLLBACK;
RESULT:
	[]

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c CURSOR FOR SELECT * FROM tenk1 JOIN tenk2 USING (unique1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c CURSOR FOR SELECT * FROM tenk1 JOIN tenk2 USING (unique1)' at line 1")

-----------
QUERY:

DELETE FROM tenk1 WHERE CURRENT OF c;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c' at line 1")

-----------
QUERY:
  -- fail, cursor is on a join
ROLLBACK;
RESULT:
	[]

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c CURSOR FOR SELECT f1,count(*) FROM uctest GROUP BY f1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c CURSOR FOR SELECT f1,count(*) FROM uctest GROUP BY f1' at line 1")

-----------
QUERY:

DELETE FROM uctest WHERE CURRENT OF c;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c' at line 1")

-----------
QUERY:
  -- fail, cursor is on aggregation
ROLLBACK;
RESULT:
	[]

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT * FROM uctest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT * FROM uctest' at line 1")

-----------
QUERY:

DELETE FROM uctest WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:
 -- fail, no current row
ROLLBACK;
RESULT:
	[]

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT MIN(f1) FROM uctest FOR UPDATE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT MIN(f1) FROM uctest FOR UPDATE' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- WHERE CURRENT OF may someday work with views, but today is not that day.
-- For now, just make sure it errors out cleanly.
CREATE TEMP VIEW ucview AS SELECT * FROM uctest;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP VIEW ucview AS SELECT * FROM uctest' at line 3")

-----------
QUERY:

CREATE RULE ucrule AS ON DELETE TO ucview DO INSTEAD
  DELETE FROM uctest WHERE f1 = OLD.f1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'RULE ucrule AS ON DELETE TO ucview DO INSTEAD\n  DELETE FROM uctest WHERE f1 = OL' at line 1")

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT * FROM ucview;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT * FROM ucview' at line 1")

-----------
QUERY:

FETCH FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH FROM c1' at line 1")

-----------
QUERY:

DELETE FROM ucview WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:
 -- fail, views not supported
ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- Check WHERE CURRENT OF with an index-only scan
BEGIN;
RESULT:
	[]

-----------
QUERY:

EXPLAIN (costs off)
DECLARE c1 CURSOR FOR SELECT stringu1 FROM onek WHERE stringu1 = 'DZAAAA';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'costs off)\nDECLARE c1 CURSOR FOR SELECT stringu1 FROM onek WHERE stringu1 = 'DZA' at line 1")

-----------
QUERY:

DECLARE c1 CURSOR FOR SELECT stringu1 FROM onek WHERE stringu1 = 'DZAAAA';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 CURSOR FOR SELECT stringu1 FROM onek WHERE stringu1 = 'DZAAAA'' at line 1")

-----------
QUERY:

FETCH FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH FROM c1' at line 1")

-----------
QUERY:

DELETE FROM onek WHERE CURRENT OF c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1' at line 1")

-----------
QUERY:

SELECT stringu1 FROM onek WHERE stringu1 = 'DZAAAA';
RESULT:
	ERROR - (1146, "Table 'test.onek' doesn't exist")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- Check behavior with rewinding to a previous child scan node,
-- as per bug #15395
BEGIN;
RESULT:
	[]

-----------
QUERY:

CREATE TABLE current_check (currentid int, payload text);
RESULT:
	[]

-----------
QUERY:

CREATE TABLE current_check_1 () INHERITS (current_check);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') INHERITS (current_check)' at line 1")

-----------
QUERY:

CREATE TABLE current_check_2 () INHERITS (current_check);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ') INHERITS (current_check)' at line 1")

-----------
QUERY:

INSERT INTO current_check_1 SELECT i, 'p' || i FROM generate_series(1,9) i;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(1,9) i' at line 1")

-----------
QUERY:

INSERT INTO current_check_2 SELECT i, 'P' || i FROM generate_series(10,19) i;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(10,19) i' at line 1")

-----------
QUERY:


DECLARE c1 SCROLL CURSOR FOR SELECT * FROM current_check;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 SCROLL CURSOR FOR SELECT * FROM current_check' at line 1")

-----------
QUERY:


-- This tests the fetch-backwards code path
FETCH ABSOLUTE 12 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ABSOLUTE 12 FROM c1' at line 2")

-----------
QUERY:

FETCH ABSOLUTE 8 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ABSOLUTE 8 FROM c1' at line 1")

-----------
QUERY:

DELETE FROM current_check WHERE CURRENT OF c1 RETURNING *;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1 RETURNING *' at line 1")

-----------
QUERY:


-- This tests the ExecutorRewind code path
FETCH ABSOLUTE 13 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ABSOLUTE 13 FROM c1' at line 2")

-----------
QUERY:

FETCH ABSOLUTE 1 FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ABSOLUTE 1 FROM c1' at line 1")

-----------
QUERY:

DELETE FROM current_check WHERE CURRENT OF c1 RETURNING *;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF c1 RETURNING *' at line 1")

-----------
QUERY:


SELECT * FROM current_check;
RESULT:
	()

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- Make sure snapshot management works okay, per bug report in
-- 235395b90909301035v7228ce63q392931f15aa74b31@mail.gmail.com
BEGIN;
RESULT:
	[]

-----------
QUERY:

SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;
RESULT:
	ERROR - (1568, "Transaction characteristics can't be changed while a transaction is in progress")

-----------
QUERY:

CREATE TABLE cursor (a int);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'cursor (a int)' at line 1")

-----------
QUERY:

INSERT INTO cursor VALUES (1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'cursor VALUES (1)' at line 1")

-----------
QUERY:

DECLARE c1 NO SCROLL CURSOR FOR SELECT * FROM cursor FOR UPDATE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DECLARE c1 NO SCROLL CURSOR FOR SELECT * FROM cursor FOR UPDATE' at line 1")

-----------
QUERY:

UPDATE cursor SET a = 2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'cursor SET a = 2' at line 1")

-----------
QUERY:

FETCH ALL FROM c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FETCH ALL FROM c1' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:

DROP TABLE cursor;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'cursor' at line 1")

-----------
QUERY:


-- Check rewinding a cursor containing a stable function in LIMIT,
-- per bug report in 8336843.9833.1399385291498.JavaMail.root@quick
begin;
RESULT:
	[]

-----------
QUERY:

create function nochange(int) returns int
  as 'select $1 limit 1' language sql stable;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'int) returns int\n  as 'select $1 limit 1' language sql stable' at line 1")

-----------
QUERY:

declare c cursor for select * from int8_tbl limit nochange(3);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'declare c cursor for select * from int8_tbl limit nochange(3)' at line 1")

-----------
QUERY:

fetch all from c;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fetch all from c' at line 1")

-----------
QUERY:

move backward all in c;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'move backward all in c' at line 1")

-----------
QUERY:

fetch all from c;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fetch all from c' at line 1")

-----------
QUERY:

rollback;
RESULT:
	[]

-----------
QUERY:


-- Check handling of non-backwards-scan-capable plans with scroll cursors
begin;
RESULT:
	[]

-----------
QUERY:

explain (costs off) declare c1 cursor for select (select 42) as x;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'costs off) declare c1 cursor for select (select 42) as x' at line 1")

-----------
QUERY:

explain (costs off) declare c1 scroll cursor for select (select 42) as x;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'costs off) declare c1 scroll cursor for select (select 42) as x' at line 1")

-----------
QUERY:

declare c1 scroll cursor for select (select 42) as x;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'declare c1 scroll cursor for select (select 42) as x' at line 1")

-----------
QUERY:

fetch all in c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fetch all in c1' at line 1")

-----------
QUERY:

fetch backward all in c1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fetch backward all in c1' at line 1")

-----------
QUERY:

rollback;
RESULT:
	[]

-----------
QUERY:

begin;
RESULT:
	[]

-----------
QUERY:

explain (costs off) declare c2 cursor for select generate_series(1,3) as g;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'costs off) declare c2 cursor for select generate_series(1,3) as g' at line 1")

-----------
QUERY:

explain (costs off) declare c2 scroll cursor for select generate_series(1,3) as g;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'costs off) declare c2 scroll cursor for select generate_series(1,3) as g' at line 1")

-----------
QUERY:

declare c2 scroll cursor for select generate_series(1,3) as g;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'declare c2 scroll cursor for select generate_series(1,3) as g' at line 1")

-----------
QUERY:

fetch all in c2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fetch all in c2' at line 1")

-----------
QUERY:

fetch backward all in c2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fetch backward all in c2' at line 1")

-----------
QUERY:

rollback;
RESULT:
	[]

-----------
QUERY:


-- Check fetching of toasted datums via cursors.
begin;
RESULT:
	[]

-----------
QUERY:


-- Other compression algorithms may cause the compressed data to be stored
-- inline.  Use pglz to ensure consistent results.
set default_toast_compression = 'pglz';
RESULT:
	ERROR - (1193, "Unknown system variable 'default_toast_compression'")

-----------
QUERY:


create table toasted_data (f1 int[]);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '[])' at line 1")

-----------
QUERY:

insert into toasted_data
  select array_agg(i) from generate_series(12345678, 12345678 + 1000) i;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(12345678, 12345678 + 1000) i' at line 2")

-----------
QUERY:


declare local_portal cursor for select * from toasted_data;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'declare local_portal cursor for select * from toasted_data' at line 1")

-----------
QUERY:

fetch all in local_portal;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fetch all in local_portal' at line 1")

-----------
QUERY:


declare held_portal cursor with hold for select * from toasted_data;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'declare held_portal cursor with hold for select * from toasted_data' at line 1")

-----------
QUERY:


commit;
RESULT:
	[]

-----------
QUERY:


drop table toasted_data;
RESULT:
	ERROR - (1051, "Unknown table 'test.toasted_data'")

-----------
QUERY:


fetch all in held_portal;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'fetch all in held_portal' at line 1")

-----------
QUERY:


reset default_toast_compression;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'default_toast_compression' at line 1")
