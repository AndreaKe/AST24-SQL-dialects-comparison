
-----------
QUERY:
--
-- CREATE SEQUENCE
--

-- various error cases
CREATE SEQUENCE sequence_testx INCREMENT BY 0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx INCREMENT BY 0' at line 6")

-----------
QUERY:

CREATE SEQUENCE sequence_testx INCREMENT BY -1 MINVALUE 20;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx INCREMENT BY -1 MINVALUE 20' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_testx INCREMENT BY 1 MAXVALUE -20;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx INCREMENT BY 1 MAXVALUE -20' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_testx INCREMENT BY -1 START 10;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx INCREMENT BY -1 START 10' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_testx INCREMENT BY 1 START -10;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx INCREMENT BY 1 START -10' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_testx CACHE 0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx CACHE 0' at line 1")

-----------
QUERY:


-- OWNED BY errors
CREATE SEQUENCE sequence_testx OWNED BY nobody;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx OWNED BY nobody' at line 2")

-----------
QUERY:
  -- nonsense word
CREATE SEQUENCE sequence_testx OWNED BY pg_class_oid_index.oid;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx OWNED BY pg_class_oid_index.oid' at line 2")

-----------
QUERY:
  -- not a table
CREATE SEQUENCE sequence_testx OWNED BY pg_class.relname;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx OWNED BY pg_class.relname' at line 2")

-----------
QUERY:
  -- not same schema
CREATE TABLE sequence_test_table (a int);
RESULT:
	[]

-----------
QUERY:

CREATE SEQUENCE sequence_testx OWNED BY sequence_test_table.b;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx OWNED BY sequence_test_table.b' at line 1")

-----------
QUERY:
  -- wrong column
DROP TABLE sequence_test_table;
RESULT:
	[]

-----------
QUERY:


-- sequence data types
CREATE SEQUENCE sequence_test5 AS integer;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test5 AS integer' at line 2")

-----------
QUERY:

CREATE SEQUENCE sequence_test6 AS smallint;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test6 AS smallint' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_test7 AS bigint;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test7 AS bigint' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_test8 AS integer MAXVALUE 100000;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test8 AS integer MAXVALUE 100000' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_test9 AS integer INCREMENT BY -1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test9 AS integer INCREMENT BY -1' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_test10 AS integer MINVALUE -100000 START 1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test10 AS integer MINVALUE -100000 START 1' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_test11 AS smallint;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test11 AS smallint' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_test12 AS smallint INCREMENT -1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test12 AS smallint INCREMENT -1' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_test13 AS smallint MINVALUE -32768;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test13 AS smallint MINVALUE -32768' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_test14 AS smallint MAXVALUE 32767 INCREMENT -1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test14 AS smallint MAXVALUE 32767 INCREMENT -1' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_testx AS text;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx AS text' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_testx AS nosuchtype;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx AS nosuchtype' at line 1")

-----------
QUERY:


CREATE SEQUENCE sequence_testx AS smallint MAXVALUE 100000;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx AS smallint MAXVALUE 100000' at line 1")

-----------
QUERY:

CREATE SEQUENCE sequence_testx AS smallint MINVALUE -100000;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_testx AS smallint MINVALUE -100000' at line 1")

-----------
QUERY:


ALTER SEQUENCE sequence_test5 AS smallint;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test5 AS smallint' at line 1")

-----------
QUERY:
  -- success, max will be adjusted
ALTER SEQUENCE sequence_test8 AS smallint;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test8 AS smallint' at line 2")

-----------
QUERY:
  -- fail, max has to be adjusted
ALTER SEQUENCE sequence_test8 AS smallint MAXVALUE 20000;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test8 AS smallint MAXVALUE 20000' at line 2")

-----------
QUERY:
  -- ok now
ALTER SEQUENCE sequence_test9 AS smallint;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test9 AS smallint' at line 2")

-----------
QUERY:
  -- success, min will be adjusted
ALTER SEQUENCE sequence_test10 AS smallint;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test10 AS smallint' at line 2")

-----------
QUERY:
  -- fail, min has to be adjusted
ALTER SEQUENCE sequence_test10 AS smallint MINVALUE -20000;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test10 AS smallint MINVALUE -20000' at line 2")

-----------
QUERY:
  -- ok now

ALTER SEQUENCE sequence_test11 AS int;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test11 AS int' at line 3")

-----------
QUERY:
  -- max will be adjusted
ALTER SEQUENCE sequence_test12 AS int;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test12 AS int' at line 2")

-----------
QUERY:
  -- min will be adjusted
ALTER SEQUENCE sequence_test13 AS int;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test13 AS int' at line 2")

-----------
QUERY:
  -- min and max will be adjusted
ALTER SEQUENCE sequence_test14 AS int;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test14 AS int' at line 2")

-----------
QUERY:
  -- min and max will be adjusted

---
--- test creation of SERIAL column
---

CREATE TABLE serialTest1 (f1 text, f2 serial);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '---\n--- test creation of SERIAL column\n---\n\nCREATE TABLE serialTest1 (f1 text, f' at line 3")

-----------
QUERY:


INSERT INTO serialTest1 VALUES ('foo');
RESULT:
	ERROR - (1146, "Table 'test.serialTest1' doesn't exist")

-----------
QUERY:

INSERT INTO serialTest1 VALUES ('bar');
RESULT:
	ERROR - (1146, "Table 'test.serialTest1' doesn't exist")

-----------
QUERY:

INSERT INTO serialTest1 VALUES ('force', 100);
RESULT:
	ERROR - (1146, "Table 'test.serialTest1' doesn't exist")

-----------
QUERY:

INSERT INTO serialTest1 VALUES ('wrong', NULL);
RESULT:
	ERROR - (1146, "Table 'test.serialTest1' doesn't exist")

-----------
QUERY:


SELECT * FROM serialTest1;
RESULT:
	ERROR - (1146, "Table 'test.serialTest1' doesn't exist")

-----------
QUERY:


SELECT pg_get_serial_sequence('serialTest1', 'f2');
RESULT:
	ERROR - (1305, 'FUNCTION test.pg_get_serial_sequence does not exist')

-----------
QUERY:


-- test smallserial / bigserial
CREATE TABLE serialTest2 (f1 text, f2 serial, f3 smallserial, f4 serial2,
  f5 bigserial, f6 serial8);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'smallserial, f4 serial2,\n  f5 bigserial, f6 serial8)' at line 2")

-----------
QUERY:


INSERT INTO serialTest2 (f1)
  VALUES ('test_defaults');
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


INSERT INTO serialTest2 (f1, f2, f3, f4, f5, f6)
  VALUES ('test_max_vals', 2147483647, 32767, 32767, 9223372036854775807,
          9223372036854775807),
         ('test_min_vals', -2147483648, -32768, -32768, -9223372036854775808,
          -9223372036854775808);
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


-- All these INSERTs should fail:
INSERT INTO serialTest2 (f1, f3)
  VALUES ('bogus', -32769);
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


INSERT INTO serialTest2 (f1, f4)
  VALUES ('bogus', -32769);
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


INSERT INTO serialTest2 (f1, f3)
  VALUES ('bogus', 32768);
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


INSERT INTO serialTest2 (f1, f4)
  VALUES ('bogus', 32768);
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


INSERT INTO serialTest2 (f1, f5)
  VALUES ('bogus', -9223372036854775809);
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


INSERT INTO serialTest2 (f1, f6)
  VALUES ('bogus', -9223372036854775809);
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


INSERT INTO serialTest2 (f1, f5)
  VALUES ('bogus', 9223372036854775808);
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


INSERT INTO serialTest2 (f1, f6)
  VALUES ('bogus', 9223372036854775808);
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


SELECT * FROM serialTest2 ORDER BY f2 ASC;
RESULT:
	ERROR - (1146, "Table 'test.serialTest2' doesn't exist")

-----------
QUERY:


SELECT nextval('serialTest2_f2_seq');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('serialTest2_f3_seq');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('serialTest2_f4_seq');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('serialTest2_f5_seq');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('serialTest2_f6_seq');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:


-- basic sequence operations using both text and oid references
CREATE SEQUENCE sequence_test;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test' at line 2")

-----------
QUERY:

CREATE SEQUENCE IF NOT EXISTS sequence_test;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE IF NOT EXISTS sequence_test' at line 1")

-----------
QUERY:


SELECT nextval('sequence_test'::text);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::text)' at line 1")

-----------
QUERY:

SELECT nextval('sequence_test'::regclass);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::regclass)' at line 1")

-----------
QUERY:

SELECT currval('sequence_test'::text);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::text)' at line 1")

-----------
QUERY:

SELECT currval('sequence_test'::regclass);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::regclass)' at line 1")

-----------
QUERY:

SELECT setval('sequence_test'::text, 32);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::text, 32)' at line 1")

-----------
QUERY:

SELECT nextval('sequence_test'::regclass);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::regclass)' at line 1")

-----------
QUERY:

SELECT setval('sequence_test'::text, 99, false);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::text, 99, false)' at line 1")

-----------
QUERY:

SELECT nextval('sequence_test'::regclass);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::regclass)' at line 1")

-----------
QUERY:

SELECT setval('sequence_test'::regclass, 32);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::regclass, 32)' at line 1")

-----------
QUERY:

SELECT nextval('sequence_test'::text);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::text)' at line 1")

-----------
QUERY:

SELECT setval('sequence_test'::regclass, 99, false);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::regclass, 99, false)' at line 1")

-----------
QUERY:

SELECT nextval('sequence_test'::text);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::text)' at line 1")

-----------
QUERY:

DISCARD SEQUENCES;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DISCARD SEQUENCES' at line 1")

-----------
QUERY:

SELECT currval('sequence_test'::regclass);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::regclass)' at line 1")

-----------
QUERY:


DROP SEQUENCE sequence_test;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test' at line 1")

-----------
QUERY:


-- renaming sequences
CREATE SEQUENCE foo_seq;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE foo_seq' at line 2")

-----------
QUERY:

ALTER TABLE foo_seq RENAME TO foo_seq_new;
RESULT:
	ERROR - (1146, "Table 'test.foo_seq' doesn't exist")

-----------
QUERY:

SELECT * FROM foo_seq_new;
RESULT:
	ERROR - (1146, "Table 'test.foo_seq_new' doesn't exist")

-----------
QUERY:

SELECT nextval('foo_seq_new');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('foo_seq_new');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

-- log_cnt can be higher if there is a checkpoint just at the right
-- time, so just test for the expected range
SELECT last_value, log_cnt IN (31, 32) AS log_cnt_ok, is_called FROM foo_seq_new;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ', log_cnt IN (31, 32) AS log_cnt_ok, is_called FROM foo_seq_new' at line 3")

-----------
QUERY:

DROP SEQUENCE foo_seq_new;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE foo_seq_new' at line 1")

-----------
QUERY:


-- renaming serial sequences
ALTER TABLE serialtest1_f2_seq RENAME TO serialtest1_f2_foo;
RESULT:
	ERROR - (1146, "Table 'test.serialtest1_f2_seq' doesn't exist")

-----------
QUERY:

INSERT INTO serialTest1 VALUES ('more');
RESULT:
	ERROR - (1146, "Table 'test.serialTest1' doesn't exist")

-----------
QUERY:

SELECT * FROM serialTest1;
RESULT:
	ERROR - (1146, "Table 'test.serialTest1' doesn't exist")

-----------
QUERY:


--
-- Check dependencies of serial and ordinary sequences
--
CREATE TEMP SEQUENCE myseq2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP SEQUENCE myseq2' at line 4")

-----------
QUERY:

CREATE TEMP SEQUENCE myseq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP SEQUENCE myseq3' at line 1")

-----------
QUERY:

CREATE TEMP TABLE t1 (
  f1 serial,
  f2 int DEFAULT nextval('myseq2'),
  f3 int DEFAULT nextval('myseq3'::text)
);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE t1 (\n  f1 serial,\n  f2 int DEFAULT nextval('myseq2'),\n  f3 int DEFAUL' at line 1")

-----------
QUERY:

-- Both drops should fail, but with different error messages:
DROP SEQUENCE t1_f1_seq;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE t1_f1_seq' at line 2")

-----------
QUERY:

DROP SEQUENCE myseq2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE myseq2' at line 1")

-----------
QUERY:

-- This however will work:
DROP SEQUENCE myseq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE myseq3' at line 2")

-----------
QUERY:

DROP TABLE t1;
RESULT:
	ERROR - (1051, "Unknown table 'test.t1'")

-----------
QUERY:

-- Fails because no longer existent:
DROP SEQUENCE t1_f1_seq;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE t1_f1_seq' at line 2")

-----------
QUERY:

-- Now OK:
DROP SEQUENCE myseq2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE myseq2' at line 2")

-----------
QUERY:


--
-- Alter sequence
--

ALTER SEQUENCE IF EXISTS sequence_test2 RESTART WITH 24
  INCREMENT BY 4 MAXVALUE 36 MINVALUE 5 CYCLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE IF EXISTS sequence_test2 RESTART WITH 24\n  INCREMENT BY 4 MAXVALUE 36 M' at line 5")

-----------
QUERY:


ALTER SEQUENCE serialTest1 CYCLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE serialTest1 CYCLE' at line 1")

-----------
QUERY:
  -- error, not a sequence

CREATE SEQUENCE sequence_test2 START WITH 32;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test2 START WITH 32' at line 3")

-----------
QUERY:

CREATE SEQUENCE sequence_test4 INCREMENT BY -1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test4 INCREMENT BY -1' at line 1")

-----------
QUERY:


SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test4');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:


ALTER SEQUENCE sequence_test2 RESTART;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test2 RESTART' at line 1")

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:


ALTER SEQUENCE sequence_test2 RESTART WITH 0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test2 RESTART WITH 0' at line 1")

-----------
QUERY:
  -- error
ALTER SEQUENCE sequence_test4 RESTART WITH 40;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test4 RESTART WITH 40' at line 2")

-----------
QUERY:
  -- error

-- test CYCLE and NO CYCLE
ALTER SEQUENCE sequence_test2 RESTART WITH 24
  INCREMENT BY 4 MAXVALUE 36 MINVALUE 5 CYCLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test2 RESTART WITH 24\n  INCREMENT BY 4 MAXVALUE 36 MINVALUE 5 ' at line 4")

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:
  -- cycled

ALTER SEQUENCE sequence_test2 RESTART WITH 24
  NO CYCLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test2 RESTART WITH 24\n  NO CYCLE' at line 3")

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:
  -- error

ALTER SEQUENCE sequence_test2 RESTART WITH -24 START WITH -24
  INCREMENT BY -4 MINVALUE -36 MAXVALUE -5 CYCLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test2 RESTART WITH -24 START WITH -24\n  INCREMENT BY -4 MINVAL' at line 3")

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:
  -- cycled

ALTER SEQUENCE sequence_test2 RESTART WITH -24
  NO CYCLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test2 RESTART WITH -24\n  NO CYCLE' at line 3")

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:
  -- error

-- reset
ALTER SEQUENCE IF EXISTS sequence_test2 RESTART WITH 32 START WITH 32
  INCREMENT BY 4 MAXVALUE 36 MINVALUE 5 CYCLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE IF EXISTS sequence_test2 RESTART WITH 32 START WITH 32\n  INCREMENT BY 4' at line 4")

-----------
QUERY:


SELECT setval('sequence_test2', -100);
RESULT:
	ERROR - (1305, 'FUNCTION test.setval does not exist')

-----------
QUERY:
  -- error
SELECT setval('sequence_test2', 100);
RESULT:
	ERROR - (1305, 'FUNCTION test.setval does not exist')

-----------
QUERY:
  -- error
SELECT setval('sequence_test2', 5);
RESULT:
	ERROR - (1305, 'FUNCTION test.setval does not exist')

-----------
QUERY:


CREATE SEQUENCE sequence_test3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test3' at line 1")

-----------
QUERY:
  -- not read from, to test is_called


-- Information schema
SELECT * FROM information_schema.sequences
  WHERE sequence_name ~ ANY(ARRAY['sequence_test', 'serialtest'])
  ORDER BY sequence_name ASC;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '~ ANY(ARRAY['sequence_test', 'serialtest'])\n  ORDER BY sequence_name ASC' at line 6")

-----------
QUERY:


SELECT schemaname, sequencename, start_value, min_value, max_value, increment_by, cycle, cache_size, last_value
FROM pg_sequences
WHERE sequencename ~ ANY(ARRAY['sequence_test', 'serialtest'])
  ORDER BY sequencename ASC;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM pg_sequences\nWHERE sequencename ~ ANY(ARRAY['sequence_test', 'serialtest'])' at line 2")

-----------
QUERY:



SELECT * FROM pg_sequence_parameters('sequence_test4'::regclass);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '('sequence_test4'::regclass)' at line 1")

-----------
QUERY:



-- \d sequence_test4
-- \d serialtest2_f2_seq


-- Test comments
COMMENT ON SEQUENCE asdf IS 'won''t work';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON SEQUENCE asdf IS 'won''t work'' at line 6")

-----------
QUERY:

COMMENT ON SEQUENCE sequence_test2 IS 'will work';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON SEQUENCE sequence_test2 IS 'will work'' at line 1")

-----------
QUERY:

COMMENT ON SEQUENCE sequence_test2 IS NULL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COMMENT ON SEQUENCE sequence_test2 IS NULL' at line 1")

-----------
QUERY:


-- Test lastval()
CREATE SEQUENCE seq;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq' at line 2")

-----------
QUERY:

SELECT nextval('seq');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT lastval();
RESULT:
	ERROR - (1305, 'FUNCTION test.lastval does not exist')

-----------
QUERY:

SELECT setval('seq', 99);
RESULT:
	ERROR - (1305, 'FUNCTION test.setval does not exist')

-----------
QUERY:

SELECT lastval();
RESULT:
	ERROR - (1305, 'FUNCTION test.lastval does not exist')

-----------
QUERY:

DISCARD SEQUENCES;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DISCARD SEQUENCES' at line 1")

-----------
QUERY:

SELECT lastval();
RESULT:
	ERROR - (1305, 'FUNCTION test.lastval does not exist')

-----------
QUERY:


CREATE SEQUENCE seq2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq2' at line 1")

-----------
QUERY:

SELECT nextval('seq2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT lastval();
RESULT:
	ERROR - (1305, 'FUNCTION test.lastval does not exist')

-----------
QUERY:


DROP SEQUENCE seq2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq2' at line 1")

-----------
QUERY:

-- should fail
SELECT lastval();
RESULT:
	ERROR - (1305, 'FUNCTION test.lastval does not exist')

-----------
QUERY:


-- unlogged sequences
-- (more tests in src/test/recovery/)
CREATE UNLOGGED SEQUENCE sequence_test_unlogged;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'UNLOGGED SEQUENCE sequence_test_unlogged' at line 3")

-----------
QUERY:

ALTER SEQUENCE sequence_test_unlogged SET LOGGED;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test_unlogged SET LOGGED' at line 1")

-----------
QUERY:

-- \d sequence_test_unlogged
ALTER SEQUENCE sequence_test_unlogged SET UNLOGGED;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test_unlogged SET UNLOGGED' at line 2")

-----------
QUERY:

-- \d sequence_test_unlogged
DROP SEQUENCE sequence_test_unlogged;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test_unlogged' at line 2")

-----------
QUERY:


-- Test sequences in read-only transactions
CREATE TEMPORARY SEQUENCE sequence_test_temp1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test_temp1' at line 2")

-----------
QUERY:

START TRANSACTION READ ONLY;
RESULT:
	[]

-----------
QUERY:

SELECT nextval('sequence_test_temp1');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:
  -- ok
SELECT nextval('sequence_test2');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:
  -- error
ROLLBACK;
RESULT:
	[]

-----------
QUERY:

START TRANSACTION READ ONLY;
RESULT:
	[]

-----------
QUERY:

SELECT setval('sequence_test_temp1', 1);
RESULT:
	ERROR - (1305, 'FUNCTION test.setval does not exist')

-----------
QUERY:
  -- ok
SELECT setval('sequence_test2', 1);
RESULT:
	ERROR - (1305, 'FUNCTION test.setval does not exist')

-----------
QUERY:
  -- error
ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- privileges tests

CREATE USER regress_seq_user;
RESULT:
	[]

-----------
QUERY:


-- nextval
BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

CREATE SEQUENCE seq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq3' at line 1")

-----------
QUERY:

REVOKE ALL ON seq3 FROM regress_seq_user;
RESULT:
	ERROR - (1147, "There is no such grant defined for user 'regress_seq_user' on host '%' on table 'seq3'")

-----------
QUERY:

GRANT SELECT ON seq3 TO regress_seq_user;
RESULT:
	ERROR - (1146, "Table 'test.seq3' doesn't exist")

-----------
QUERY:

SELECT nextval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

CREATE SEQUENCE seq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq3' at line 1")

-----------
QUERY:

REVOKE ALL ON seq3 FROM regress_seq_user;
RESULT:
	ERROR - (1147, "There is no such grant defined for user 'regress_seq_user' on host '%' on table 'seq3'")

-----------
QUERY:

GRANT UPDATE ON seq3 TO regress_seq_user;
RESULT:
	ERROR - (1146, "Table 'test.seq3' doesn't exist")

-----------
QUERY:

SELECT nextval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

CREATE SEQUENCE seq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq3' at line 1")

-----------
QUERY:

REVOKE ALL ON seq3 FROM regress_seq_user;
RESULT:
	ERROR - (1147, "There is no such grant defined for user 'regress_seq_user' on host '%' on table 'seq3'")

-----------
QUERY:

GRANT USAGE ON seq3 TO regress_seq_user;
RESULT:
	ERROR - (1146, "Table 'test.seq3' doesn't exist")

-----------
QUERY:

SELECT nextval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- currval
BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

CREATE SEQUENCE seq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq3' at line 1")

-----------
QUERY:

SELECT nextval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

REVOKE ALL ON seq3 FROM regress_seq_user;
RESULT:
	ERROR - (1147, "There is no such grant defined for user 'regress_seq_user' on host '%' on table 'seq3'")

-----------
QUERY:

GRANT SELECT ON seq3 TO regress_seq_user;
RESULT:
	ERROR - (1146, "Table 'test.seq3' doesn't exist")

-----------
QUERY:

SELECT currval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.currval does not exist')

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

CREATE SEQUENCE seq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq3' at line 1")

-----------
QUERY:

SELECT nextval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

REVOKE ALL ON seq3 FROM regress_seq_user;
RESULT:
	ERROR - (1147, "There is no such grant defined for user 'regress_seq_user' on host '%' on table 'seq3'")

-----------
QUERY:

GRANT UPDATE ON seq3 TO regress_seq_user;
RESULT:
	ERROR - (1146, "Table 'test.seq3' doesn't exist")

-----------
QUERY:

SELECT currval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.currval does not exist')

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

CREATE SEQUENCE seq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq3' at line 1")

-----------
QUERY:

SELECT nextval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

REVOKE ALL ON seq3 FROM regress_seq_user;
RESULT:
	ERROR - (1147, "There is no such grant defined for user 'regress_seq_user' on host '%' on table 'seq3'")

-----------
QUERY:

GRANT USAGE ON seq3 TO regress_seq_user;
RESULT:
	ERROR - (1146, "Table 'test.seq3' doesn't exist")

-----------
QUERY:

SELECT currval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.currval does not exist')

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- lastval
BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

CREATE SEQUENCE seq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq3' at line 1")

-----------
QUERY:

SELECT nextval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

REVOKE ALL ON seq3 FROM regress_seq_user;
RESULT:
	ERROR - (1147, "There is no such grant defined for user 'regress_seq_user' on host '%' on table 'seq3'")

-----------
QUERY:

GRANT SELECT ON seq3 TO regress_seq_user;
RESULT:
	ERROR - (1146, "Table 'test.seq3' doesn't exist")

-----------
QUERY:

SELECT lastval();
RESULT:
	ERROR - (1305, 'FUNCTION test.lastval does not exist')

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

CREATE SEQUENCE seq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq3' at line 1")

-----------
QUERY:

SELECT nextval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

REVOKE ALL ON seq3 FROM regress_seq_user;
RESULT:
	ERROR - (1147, "There is no such grant defined for user 'regress_seq_user' on host '%' on table 'seq3'")

-----------
QUERY:

GRANT UPDATE ON seq3 TO regress_seq_user;
RESULT:
	ERROR - (1146, "Table 'test.seq3' doesn't exist")

-----------
QUERY:

SELECT lastval();
RESULT:
	ERROR - (1305, 'FUNCTION test.lastval does not exist')

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

CREATE SEQUENCE seq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq3' at line 1")

-----------
QUERY:

SELECT nextval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

REVOKE ALL ON seq3 FROM regress_seq_user;
RESULT:
	ERROR - (1147, "There is no such grant defined for user 'regress_seq_user' on host '%' on table 'seq3'")

-----------
QUERY:

GRANT USAGE ON seq3 TO regress_seq_user;
RESULT:
	ERROR - (1146, "Table 'test.seq3' doesn't exist")

-----------
QUERY:

SELECT lastval();
RESULT:
	ERROR - (1305, 'FUNCTION test.lastval does not exist')

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- setval
BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

CREATE SEQUENCE seq3;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq3' at line 1")

-----------
QUERY:

REVOKE ALL ON seq3 FROM regress_seq_user;
RESULT:
	ERROR - (1147, "There is no such grant defined for user 'regress_seq_user' on host '%' on table 'seq3'")

-----------
QUERY:

SAVEPOINT save;
RESULT:
	[]

-----------
QUERY:

SELECT setval('seq3', 5);
RESULT:
	ERROR - (1305, 'FUNCTION test.setval does not exist')

-----------
QUERY:

ROLLBACK TO save;
RESULT:
	[]

-----------
QUERY:

GRANT UPDATE ON seq3 TO regress_seq_user;
RESULT:
	ERROR - (1146, "Table 'test.seq3' doesn't exist")

-----------
QUERY:

SELECT setval('seq3', 5);
RESULT:
	ERROR - (1305, 'FUNCTION test.setval does not exist')

-----------
QUERY:

SELECT nextval('seq3');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- ALTER SEQUENCE
BEGIN;
RESULT:
	[]

-----------
QUERY:

SET LOCAL SESSION AUTHORIZATION regress_seq_user;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SESSION AUTHORIZATION regress_seq_user' at line 1")

-----------
QUERY:

ALTER SEQUENCE sequence_test2 START WITH 1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE sequence_test2 START WITH 1' at line 1")

-----------
QUERY:

ROLLBACK;
RESULT:
	[]

-----------
QUERY:


-- Sequences should get wiped out as well:
DROP TABLE serialTest1, serialTest2;
RESULT:
	ERROR - (1051, "Unknown table 'test.serialTest1,test.serialTest2'")

-----------
QUERY:


-- Make sure sequences are gone:
SELECT * FROM information_schema.sequences WHERE sequence_name IN
  ('sequence_test2', 'serialtest2_f2_seq', 'serialtest2_f3_seq',
   'serialtest2_f4_seq', 'serialtest2_f5_seq', 'serialtest2_f6_seq')
  ORDER BY sequence_name ASC;
RESULT:
	ERROR - (1109, "Unknown table 'SEQUENCES' in information_schema")

-----------
QUERY:


DROP USER regress_seq_user;
RESULT:
	[]

-----------
QUERY:

DROP SEQUENCE seq;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE seq' at line 1")

-----------
QUERY:


-- cache tests
CREATE SEQUENCE test_seq1 CACHE 10;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE test_seq1 CACHE 10' at line 2")

-----------
QUERY:

SELECT nextval('test_seq1');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('test_seq1');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:

SELECT nextval('test_seq1');
RESULT:
	ERROR - (1305, 'FUNCTION test.nextval does not exist')

-----------
QUERY:


DROP SEQUENCE test_seq1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SEQUENCE test_seq1' at line 1")
