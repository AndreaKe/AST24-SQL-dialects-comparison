
-----------
QUERY:
--
-- VACUUM
--

CREATE TABLE vactst (i INT);
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst VALUES (1);
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst VALUES (0);
RESULT:
	[]

-----------
QUERY:

SELECT count(*) FROM vactst;
RESULT:
	((2049,),)

-----------
QUERY:

DELETE FROM vactst WHERE i != 0;
RESULT:
	[]

-----------
QUERY:

SELECT * FROM vactst;
RESULT:
	((0,),)

-----------
QUERY:

VACUUM FULL vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM FULL vactst' at line 1")

-----------
QUERY:

UPDATE vactst SET i = i + 1;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT * FROM vactst;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst VALUES (0);
RESULT:
	[]

-----------
QUERY:

SELECT count(*) FROM vactst;
RESULT:
	((2049,),)

-----------
QUERY:

DELETE FROM vactst WHERE i != 0;
RESULT:
	[]

-----------
QUERY:

VACUUM (FULL) vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (FULL) vactst' at line 1")

-----------
QUERY:

DELETE FROM vactst;
RESULT:
	[]

-----------
QUERY:

SELECT * FROM vactst;
RESULT:
	()

-----------
QUERY:


VACUUM (FULL, FREEZE) vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (FULL, FREEZE) vactst' at line 1")

-----------
QUERY:

VACUUM (ANALYZE, FULL) vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE, FULL) vactst' at line 1")

-----------
QUERY:


CREATE TABLE vaccluster (i INT PRIMARY KEY);
RESULT:
	[]

-----------
QUERY:

ALTER TABLE vaccluster CLUSTER ON vaccluster_pkey;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLUSTER ON vaccluster_pkey' at line 1")

-----------
QUERY:

CLUSTER vaccluster;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CLUSTER vaccluster' at line 1")

-----------
QUERY:


CREATE FUNCTION do_analyze() RETURNS VOID VOLATILE LANGUAGE SQL
	AS 'ANALYZE pg_am';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VOID VOLATILE LANGUAGE SQL\n\tAS 'ANALYZE pg_am'' at line 1")

-----------
QUERY:

CREATE FUNCTION wrap_do_analyze(c INT) RETURNS INT IMMUTABLE LANGUAGE SQL
	AS 'SELECT $1 FROM public.do_analyze()';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'LANGUAGE SQL\n\tAS 'SELECT $1 FROM public.do_analyze()'' at line 1")

-----------
QUERY:

CREATE INDEX ON vaccluster(wrap_do_analyze(i));
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ON vaccluster(wrap_do_analyze(i))' at line 1")

-----------
QUERY:

INSERT INTO vaccluster VALUES (1), (2);
RESULT:
	[]

-----------
QUERY:

ANALYZE vaccluster;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vaccluster' at line 1")

-----------
QUERY:


-- Test ANALYZE in transaction, where the transaction surrounding
-- analyze performed modifications. This tests for the bug at
-- https://postgr.es/m/c7988239-d42c-ddc4-41db-171b23b35e4f%40ssinger.info
-- (which hopefully is unlikely to be reintroduced), but also seems
-- independently worthwhile to cover.
INSERT INTO vactst SELECT generate_series(1, 300);
RESULT:
	ERROR - (1305, 'FUNCTION test.generate_series does not exist')

-----------
QUERY:

DELETE FROM vactst WHERE i % 7 = 0;
RESULT:
	[]

-----------
QUERY:
 -- delete a few rows outside
BEGIN;
RESULT:
	[]

-----------
QUERY:

INSERT INTO vactst SELECT generate_series(301, 400);
RESULT:
	ERROR - (1305, 'FUNCTION test.generate_series does not exist')

-----------
QUERY:

DELETE FROM vactst WHERE i % 5 <> 0;
RESULT:
	[]

-----------
QUERY:
 -- delete a few rows inside
ANALYZE vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vactst' at line 2")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:


VACUUM FULL pg_am;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM FULL pg_am' at line 1")

-----------
QUERY:

VACUUM FULL pg_class;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM FULL pg_class' at line 1")

-----------
QUERY:

VACUUM FULL pg_database;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM FULL pg_database' at line 1")

-----------
QUERY:

VACUUM FULL vaccluster;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM FULL vaccluster' at line 1")

-----------
QUERY:

VACUUM FULL vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM FULL vactst' at line 1")

-----------
QUERY:


VACUUM (DISABLE_PAGE_SKIPPING) vaccluster;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (DISABLE_PAGE_SKIPPING) vaccluster' at line 1")

-----------
QUERY:


-- PARALLEL option
CREATE TABLE pvactst (i INT, a INT[], p POINT) with (autovacuum_enabled = off);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '[], p POINT) with (autovacuum_enabled = off)' at line 2")

-----------
QUERY:

INSERT INTO pvactst SELECT i, array[1,2,3], point(i, i+1) FROM generate_series(1,1000) i;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '[1,2,3], point(i, i+1) FROM generate_series(1,1000) i' at line 1")

-----------
QUERY:

CREATE INDEX btree_pvactst ON pvactst USING btree (i);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'USING btree (i)' at line 1")

-----------
QUERY:

CREATE INDEX hash_pvactst ON pvactst USING hash (i);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'USING hash (i)' at line 1")

-----------
QUERY:

CREATE INDEX brin_pvactst ON pvactst USING brin (i);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'USING brin (i)' at line 1")

-----------
QUERY:

CREATE INDEX gin_pvactst ON pvactst USING gin (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'USING gin (a)' at line 1")

-----------
QUERY:

CREATE INDEX gist_pvactst ON pvactst USING gist (p);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'USING gist (p)' at line 1")

-----------
QUERY:

CREATE INDEX spgist_pvactst ON pvactst USING spgist (p);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'USING spgist (p)' at line 1")

-----------
QUERY:


-- VACUUM invokes parallel index cleanup
SET min_parallel_index_scan_size to 0;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'to 0' at line 2")

-----------
QUERY:

VACUUM (PARALLEL 2) pvactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PARALLEL 2) pvactst' at line 1")

-----------
QUERY:


-- VACUUM invokes parallel bulk-deletion
UPDATE pvactst SET i = i WHERE i < 1000;
RESULT:
	ERROR - (1146, "Table 'test.pvactst' doesn't exist")

-----------
QUERY:

VACUUM (PARALLEL 2) pvactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PARALLEL 2) pvactst' at line 1")

-----------
QUERY:


UPDATE pvactst SET i = i WHERE i < 1000;
RESULT:
	ERROR - (1146, "Table 'test.pvactst' doesn't exist")

-----------
QUERY:

VACUUM (PARALLEL 0) pvactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PARALLEL 0) pvactst' at line 1")

-----------
QUERY:
 -- disable parallel vacuum

VACUUM (PARALLEL -1) pvactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PARALLEL -1) pvactst' at line 3")

-----------
QUERY:
 -- error
VACUUM (PARALLEL 2, INDEX_CLEANUP FALSE) pvactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PARALLEL 2, INDEX_CLEANUP FALSE) pvactst' at line 2")

-----------
QUERY:

VACUUM (PARALLEL 2, FULL TRUE) pvactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PARALLEL 2, FULL TRUE) pvactst' at line 1")

-----------
QUERY:
 -- error, cannot use both PARALLEL and FULL
VACUUM (PARALLEL) pvactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PARALLEL) pvactst' at line 2")

-----------
QUERY:
 -- error, cannot use PARALLEL option without parallel degree

-- Test different combinations of parallel and full options for temporary tables
CREATE TEMPORARY TABLE tmp (a int PRIMARY KEY);
RESULT:
	[]

-----------
QUERY:

CREATE INDEX tmp_idx1 ON tmp (a);
RESULT:
	[]

-----------
QUERY:

VACUUM (PARALLEL 1, FULL FALSE) tmp;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PARALLEL 1, FULL FALSE) tmp' at line 1")

-----------
QUERY:
 -- parallel vacuum disabled for temp tables
VACUUM (PARALLEL 0, FULL TRUE) tmp;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PARALLEL 0, FULL TRUE) tmp' at line 2")

-----------
QUERY:
 -- can specify parallel disabled (even though that/* REPLACED */''s implied by FULL)
RESET min_parallel_index_scan_size;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'min_parallel_index_scan_size' at line 2")

-----------
QUERY:

DROP TABLE pvactst;
RESULT:
	ERROR - (1051, "Unknown table 'test.pvactst'")

-----------
QUERY:


-- INDEX_CLEANUP option
CREATE TABLE no_index_cleanup (i INT PRIMARY KEY, t TEXT);
RESULT:
	[]

-----------
QUERY:

-- Use uncompressed data stored in toast.
CREATE INDEX no_index_cleanup_idx ON no_index_cleanup(t);
RESULT:
	ERROR - (1170, "BLOB/TEXT column 't' used in key specification without a key length")

-----------
QUERY:

ALTER TABLE no_index_cleanup ALTER COLUMN t SET STORAGE EXTERNAL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'STORAGE EXTERNAL' at line 1")

-----------
QUERY:

INSERT INTO no_index_cleanup(i, t) VALUES (generate_series(1,30),
    repeat('1234567890',269));
RESULT:
	ERROR - (1305, 'FUNCTION test.generate_series does not exist')

-----------
QUERY:

-- index cleanup option is ignored if VACUUM FULL
VACUUM (INDEX_CLEANUP TRUE, FULL TRUE) no_index_cleanup;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (INDEX_CLEANUP TRUE, FULL TRUE) no_index_cleanup' at line 2")

-----------
QUERY:

VACUUM (FULL TRUE) no_index_cleanup;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (FULL TRUE) no_index_cleanup' at line 1")

-----------
QUERY:

-- Toast inherits the value from its parent table.
ALTER TABLE no_index_cleanup SET (vacuum_index_cleanup = false);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET (vacuum_index_cleanup = false)' at line 2")

-----------
QUERY:

DELETE FROM no_index_cleanup WHERE i < 15;
RESULT:
	[]

-----------
QUERY:

-- Nothing is cleaned up.
VACUUM no_index_cleanup;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM no_index_cleanup' at line 2")

-----------
QUERY:

-- Both parent relation and toast are cleaned up.
ALTER TABLE no_index_cleanup SET (vacuum_index_cleanup = true);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET (vacuum_index_cleanup = true)' at line 2")

-----------
QUERY:

VACUUM no_index_cleanup;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM no_index_cleanup' at line 1")

-----------
QUERY:

ALTER TABLE no_index_cleanup SET (vacuum_index_cleanup = auto);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET (vacuum_index_cleanup = auto)' at line 1")

-----------
QUERY:

VACUUM no_index_cleanup;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM no_index_cleanup' at line 1")

-----------
QUERY:

-- Parameter is set for both the parent table and its toast relation.
INSERT INTO no_index_cleanup(i, t) VALUES (generate_series(31,60),
    repeat('1234567890',269));
RESULT:
	ERROR - (1305, 'FUNCTION test.generate_series does not exist')

-----------
QUERY:

DELETE FROM no_index_cleanup WHERE i < 45;
RESULT:
	[]

-----------
QUERY:

-- Only toast index is cleaned up.
ALTER TABLE no_index_cleanup SET (vacuum_index_cleanup = off,
    toast.vacuum_index_cleanup = yes);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET (vacuum_index_cleanup = off,\n    toast.vacuum_index_cleanup = yes)' at line 2")

-----------
QUERY:

VACUUM no_index_cleanup;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM no_index_cleanup' at line 1")

-----------
QUERY:

-- Only parent is cleaned up.
ALTER TABLE no_index_cleanup SET (vacuum_index_cleanup = true,
    toast.vacuum_index_cleanup = false);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET (vacuum_index_cleanup = true,\n    toast.vacuum_index_cleanup = false)' at line 2")

-----------
QUERY:

VACUUM no_index_cleanup;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM no_index_cleanup' at line 1")

-----------
QUERY:

-- Test some extra relations.
VACUUM (INDEX_CLEANUP FALSE) vaccluster;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (INDEX_CLEANUP FALSE) vaccluster' at line 2")

-----------
QUERY:

VACUUM (INDEX_CLEANUP AUTO) vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (INDEX_CLEANUP AUTO) vactst' at line 1")

-----------
QUERY:
 -- index cleanup option is ignored if no indexes
VACUUM (INDEX_CLEANUP FALSE, FREEZE TRUE) vaccluster;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (INDEX_CLEANUP FALSE, FREEZE TRUE) vaccluster' at line 2")

-----------
QUERY:


-- TRUNCATE option
CREATE TEMP TABLE vac_truncate_test(i INT NOT NULL, j text)
	WITH (vacuum_truncate=true, autovacuum_enabled=false);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TEMP TABLE vac_truncate_test(i INT NOT NULL, j text)\n\tWITH (vacuum_truncate=true' at line 2")

-----------
QUERY:

INSERT INTO vac_truncate_test VALUES (1, NULL), (NULL, NULL);
RESULT:
	ERROR - (1146, "Table 'test.vac_truncate_test' doesn't exist")

-----------
QUERY:

VACUUM (TRUNCATE FALSE, DISABLE_PAGE_SKIPPING) vac_truncate_test;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (TRUNCATE FALSE, DISABLE_PAGE_SKIPPING) vac_truncate_test' at line 1")

-----------
QUERY:

SELECT pg_relation_size('vac_truncate_test') > 0;
RESULT:
	ERROR - (1305, 'FUNCTION test.pg_relation_size does not exist')

-----------
QUERY:

VACUUM (DISABLE_PAGE_SKIPPING) vac_truncate_test;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (DISABLE_PAGE_SKIPPING) vac_truncate_test' at line 1")

-----------
QUERY:

SELECT pg_relation_size('vac_truncate_test') = 0;
RESULT:
	ERROR - (1305, 'FUNCTION test.pg_relation_size does not exist')

-----------
QUERY:

VACUUM (TRUNCATE FALSE, FULL TRUE) vac_truncate_test;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (TRUNCATE FALSE, FULL TRUE) vac_truncate_test' at line 1")

-----------
QUERY:

DROP TABLE vac_truncate_test;
RESULT:
	ERROR - (1051, "Unknown table 'test.vac_truncate_test'")

-----------
QUERY:


-- partitioned table
CREATE TABLE vacparted (a int, b char) PARTITION BY LIST (a);
RESULT:
	ERROR - (1492, 'For LIST partitions each partition must be defined')

-----------
QUERY:

CREATE TABLE vacparted1 PARTITION OF vacparted FOR VALUES IN (1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF vacparted FOR VALUES IN (1)' at line 1")

-----------
QUERY:

INSERT INTO vacparted VALUES (1, 'a');
RESULT:
	ERROR - (1146, "Table 'test.vacparted' doesn't exist")

-----------
QUERY:

UPDATE vacparted SET b = 'b';
RESULT:
	ERROR - (1146, "Table 'test.vacparted' doesn't exist")

-----------
QUERY:

VACUUM (ANALYZE) vacparted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacparted' at line 1")

-----------
QUERY:

VACUUM (FULL) vacparted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (FULL) vacparted' at line 1")

-----------
QUERY:

VACUUM (FREEZE) vacparted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (FREEZE) vacparted' at line 1")

-----------
QUERY:


-- check behavior with duplicate column mentions
VACUUM ANALYZE vacparted(a,b,a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM ANALYZE vacparted(a,b,a)' at line 2")

-----------
QUERY:

ANALYZE vacparted(a,b,b);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacparted(a,b,b)' at line 1")

-----------
QUERY:


-- partitioned table with index
CREATE TABLE vacparted_i (a int primary key, b varchar(100))
  PARTITION BY HASH (a);
RESULT:
	[]

-----------
QUERY:

CREATE TABLE vacparted_i1 PARTITION OF vacparted_i
  FOR VALUES WITH (MODULUS 2, REMAINDER 0);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF vacparted_i\n  FOR VALUES WITH (MODULUS 2, REMAINDER 0)' at line 1")

-----------
QUERY:

CREATE TABLE vacparted_i2 PARTITION OF vacparted_i
  FOR VALUES WITH (MODULUS 2, REMAINDER 1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF vacparted_i\n  FOR VALUES WITH (MODULUS 2, REMAINDER 1)' at line 1")

-----------
QUERY:

INSERT INTO vacparted_i SELECT i, 'test_'|| i from generate_series(1,10) i;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(1,10) i' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacparted_i;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacparted_i' at line 1")

-----------
QUERY:

VACUUM (FULL) vacparted_i;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (FULL) vacparted_i' at line 1")

-----------
QUERY:

VACUUM (FREEZE) vacparted_i;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (FREEZE) vacparted_i' at line 1")

-----------
QUERY:

SELECT relname, relhasindex FROM pg_class
  WHERE relname LIKE 'vacparted_i%' AND relkind IN ('p','r')
  ORDER BY relname;
RESULT:
	ERROR - (1146, "Table 'test.pg_class' doesn't exist")

-----------
QUERY:

DROP TABLE vacparted_i;
RESULT:
	[]

-----------
QUERY:


-- multiple tables specified
VACUUM vaccluster, vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vaccluster, vactst' at line 2")

-----------
QUERY:

VACUUM vacparted, does_not_exist;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacparted, does_not_exist' at line 1")

-----------
QUERY:

VACUUM (FREEZE) vacparted, vaccluster, vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (FREEZE) vacparted, vaccluster, vactst' at line 1")

-----------
QUERY:

VACUUM (FREEZE) does_not_exist, vaccluster;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (FREEZE) does_not_exist, vaccluster' at line 1")

-----------
QUERY:

VACUUM ANALYZE vactst, vacparted (a);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM ANALYZE vactst, vacparted (a)' at line 1")

-----------
QUERY:

VACUUM ANALYZE vactst (does_not_exist), vacparted (b);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM ANALYZE vactst (does_not_exist), vacparted (b)' at line 1")

-----------
QUERY:

VACUUM FULL vacparted, vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM FULL vacparted, vactst' at line 1")

-----------
QUERY:

VACUUM FULL vactst, vacparted (a, b), vaccluster (i);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM FULL vactst, vacparted (a, b), vaccluster (i)' at line 1")

-----------
QUERY:

ANALYZE vactst, vacparted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vactst, vacparted' at line 1")

-----------
QUERY:

ANALYZE vacparted (b), vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacparted (b), vactst' at line 1")

-----------
QUERY:

ANALYZE vactst, does_not_exist, vacparted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vactst, does_not_exist, vacparted' at line 1")

-----------
QUERY:

ANALYZE vactst (i), vacparted (does_not_exist);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vactst (i), vacparted (does_not_exist)' at line 1")

-----------
QUERY:

ANALYZE vactst, vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vactst, vactst' at line 1")

-----------
QUERY:

BEGIN;
RESULT:
	[]

-----------
QUERY:
  -- ANALYZE behaves differently inside a transaction block
ANALYZE vactst, vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vactst, vactst' at line 2")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:


-- parenthesized syntax for ANALYZE
ANALYZE (VERBOSE) does_not_exist;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(VERBOSE) does_not_exist' at line 2")

-----------
QUERY:

ANALYZE (nonexistent-arg) does_not_exist;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(nonexistent-arg) does_not_exist' at line 1")

-----------
QUERY:

ANALYZE (nonexistentarg) does_not_exit;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(nonexistentarg) does_not_exit' at line 1")

-----------
QUERY:


-- ensure argument order independence, and that SKIP_LOCKED on non-existing
-- relation still errors out.  Suppress WARNING messages caused by concurrent
-- autovacuums.
SET client_min_messages TO 'ERROR';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TO 'ERROR'' at line 4")

-----------
QUERY:

ANALYZE (SKIP_LOCKED, VERBOSE) does_not_exist;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(SKIP_LOCKED, VERBOSE) does_not_exist' at line 1")

-----------
QUERY:

ANALYZE (VERBOSE, SKIP_LOCKED) does_not_exist;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(VERBOSE, SKIP_LOCKED) does_not_exist' at line 1")

-----------
QUERY:


-- SKIP_LOCKED option
VACUUM (SKIP_LOCKED) vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (SKIP_LOCKED) vactst' at line 2")

-----------
QUERY:

VACUUM (SKIP_LOCKED, FULL) vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (SKIP_LOCKED, FULL) vactst' at line 1")

-----------
QUERY:

ANALYZE (SKIP_LOCKED) vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(SKIP_LOCKED) vactst' at line 1")

-----------
QUERY:

RESET client_min_messages;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'client_min_messages' at line 1")

-----------
QUERY:


-- ensure VACUUM and ANALYZE don/* REPLACED */''t have a problem with serializable
SET default_transaction_isolation = serializable;
RESULT:
	ERROR - (1193, "Unknown system variable 'default_transaction_isolation'")

-----------
QUERY:

VACUUM vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vactst' at line 1")

-----------
QUERY:

ANALYZE vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vactst' at line 1")

-----------
QUERY:

RESET default_transaction_isolation;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'default_transaction_isolation' at line 1")

-----------
QUERY:

BEGIN TRANSACTION ISOLATION LEVEL SERIALIZABLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'TRANSACTION ISOLATION LEVEL SERIALIZABLE' at line 1")

-----------
QUERY:

ANALYZE vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vactst' at line 1")

-----------
QUERY:

COMMIT;
RESULT:
	[]

-----------
QUERY:


-- PROCESS_TOAST option
CREATE TABLE vac_option_tab (a INT, t TEXT);
RESULT:
	[]

-----------
QUERY:

INSERT INTO vac_option_tab SELECT a, 't' || a FROM generate_series(1, 10) AS a;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(1, 10) AS a' at line 1")

-----------
QUERY:

ALTER TABLE vac_option_tab ALTER COLUMN t SET STORAGE EXTERNAL;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'STORAGE EXTERNAL' at line 1")

-----------
QUERY:

-- Check the number of vacuums done on table vac_option_tab and on its
-- toast relation, to check that PROCESS_TOAST and PROCESS_MAIN work on
-- what they should.
CREATE VIEW vac_option_tab_counts AS
  SELECT CASE WHEN c.relname IS NULL
    THEN 'main' ELSE 'toast' END as rel,
  s.vacuum_count
  FROM pg_stat_all_tables s
  LEFT JOIN pg_class c ON s.relid = c.reltoastrelid
  WHERE c.relname = 'vac_option_tab' OR s.relname = 'vac_option_tab'
  ORDER BY rel;
RESULT:
	ERROR - (1146, "Table 'test.pg_stat_all_tables' doesn't exist")

-----------
QUERY:

VACUUM (PROCESS_TOAST TRUE) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PROCESS_TOAST TRUE) vac_option_tab' at line 1")

-----------
QUERY:

SELECT * FROM vac_option_tab_counts;
RESULT:
	ERROR - (1146, "Table 'test.vac_option_tab_counts' doesn't exist")

-----------
QUERY:

VACUUM (PROCESS_TOAST FALSE) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PROCESS_TOAST FALSE) vac_option_tab' at line 1")

-----------
QUERY:

SELECT * FROM vac_option_tab_counts;
RESULT:
	ERROR - (1146, "Table 'test.vac_option_tab_counts' doesn't exist")

-----------
QUERY:

VACUUM (PROCESS_TOAST FALSE, FULL) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PROCESS_TOAST FALSE, FULL) vac_option_tab' at line 1")

-----------
QUERY:
 -- error

-- PROCESS_MAIN option
-- Only the toast table is processed.
VACUUM (PROCESS_MAIN FALSE) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PROCESS_MAIN FALSE) vac_option_tab' at line 5")

-----------
QUERY:

SELECT * FROM vac_option_tab_counts;
RESULT:
	ERROR - (1146, "Table 'test.vac_option_tab_counts' doesn't exist")

-----------
QUERY:

-- Nothing is processed.
VACUUM (PROCESS_MAIN FALSE, PROCESS_TOAST FALSE) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (PROCESS_MAIN FALSE, PROCESS_TOAST FALSE) vac_option_tab' at line 2")

-----------
QUERY:

SELECT * FROM vac_option_tab_counts;
RESULT:
	ERROR - (1146, "Table 'test.vac_option_tab_counts' doesn't exist")

-----------
QUERY:

-- Check if the filenodes nodes have been updated as wanted after FULL.
SELECT relfilenode AS main_filenode FROM pg_class
  WHERE relname = 'vac_option_tab' \gset
SELECT t.relfilenode AS toast_filenode FROM pg_class c, pg_class t
  WHERE c.reltoastrelid = t.oid AND c.relname = 'vac_option_tab' \gset
-- Only the toast relation is processed.
VACUUM (PROCESS_MAIN FALSE, FULL) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '\\gset\nSELECT t.relfilenode AS toast_filenode FROM pg_class c, pg_class t\n  WHERE' at line 3")

-----------
QUERY:

SELECT relfilenode = :main_filenode AS is_same_main_filenode
  FROM pg_class WHERE relname = 'vac_option_tab';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':main_filenode AS is_same_main_filenode\n  FROM pg_class WHERE relname = 'vac_opt' at line 1")

-----------
QUERY:

SELECT t.relfilenode = :toast_filenode AS is_same_toast_filenode
  FROM pg_class c, pg_class t
  WHERE c.reltoastrelid = t.oid AND c.relname = 'vac_option_tab';
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':toast_filenode AS is_same_toast_filenode\n  FROM pg_class c, pg_class t\n  WHERE ' at line 1")

-----------
QUERY:


-- BUFFER_USAGE_LIMIT option
VACUUM (BUFFER_USAGE_LIMIT '512 kB') vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (BUFFER_USAGE_LIMIT '512 kB') vac_option_tab' at line 2")

-----------
QUERY:

ANALYZE (BUFFER_USAGE_LIMIT '512 kB') vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(BUFFER_USAGE_LIMIT '512 kB') vac_option_tab' at line 1")

-----------
QUERY:

-- try disabling the buffer usage limit
VACUUM (BUFFER_USAGE_LIMIT 0) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (BUFFER_USAGE_LIMIT 0) vac_option_tab' at line 2")

-----------
QUERY:

ANALYZE (BUFFER_USAGE_LIMIT 0) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(BUFFER_USAGE_LIMIT 0) vac_option_tab' at line 1")

-----------
QUERY:

-- value exceeds max size error
VACUUM (BUFFER_USAGE_LIMIT 16777220) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (BUFFER_USAGE_LIMIT 16777220) vac_option_tab' at line 2")

-----------
QUERY:

-- value is less than min size error
VACUUM (BUFFER_USAGE_LIMIT 120) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (BUFFER_USAGE_LIMIT 120) vac_option_tab' at line 2")

-----------
QUERY:

-- integer overflow error
VACUUM (BUFFER_USAGE_LIMIT 10000000000) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (BUFFER_USAGE_LIMIT 10000000000) vac_option_tab' at line 2")

-----------
QUERY:

-- incompatible with VACUUM FULL error
VACUUM (BUFFER_USAGE_LIMIT '512 kB', FULL) vac_option_tab;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (BUFFER_USAGE_LIMIT '512 kB', FULL) vac_option_tab' at line 2")

-----------
QUERY:


-- SKIP_DATABASE_STATS option
VACUUM (SKIP_DATABASE_STATS) vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (SKIP_DATABASE_STATS) vactst' at line 2")

-----------
QUERY:


-- ONLY_DATABASE_STATS option
VACUUM (ONLY_DATABASE_STATS);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ONLY_DATABASE_STATS)' at line 2")

-----------
QUERY:

VACUUM (ONLY_DATABASE_STATS) vactst;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ONLY_DATABASE_STATS) vactst' at line 1")

-----------
QUERY:
  -- error

DROP VIEW vac_option_tab_counts;
RESULT:
	ERROR - (1051, "Unknown table 'test.vac_option_tab_counts'")

-----------
QUERY:

DROP TABLE vac_option_tab;
RESULT:
	[]

-----------
QUERY:

DROP TABLE vaccluster;
RESULT:
	[]

-----------
QUERY:

DROP TABLE vactst;
RESULT:
	[]

-----------
QUERY:

DROP TABLE vacparted;
RESULT:
	ERROR - (1051, "Unknown table 'test.vacparted'")

-----------
QUERY:

DROP TABLE no_index_cleanup;
RESULT:
	[]

-----------
QUERY:


-- relation ownership, WARNING logs generated as all are skipped.
CREATE TABLE vacowned (a int);
RESULT:
	[]

-----------
QUERY:

CREATE TABLE vacowned_parted (a int) PARTITION BY LIST (a);
RESULT:
	ERROR - (1492, 'For LIST partitions each partition must be defined')

-----------
QUERY:

CREATE TABLE vacowned_part1 PARTITION OF vacowned_parted FOR VALUES IN (1);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF vacowned_parted FOR VALUES IN (1)' at line 1")

-----------
QUERY:

CREATE TABLE vacowned_part2 PARTITION OF vacowned_parted FOR VALUES IN (2);
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OF vacowned_parted FOR VALUES IN (2)' at line 1")

-----------
QUERY:

CREATE ROLE regress_vacuum;
RESULT:
	[]

-----------
QUERY:

SET ROLE regress_vacuum;
RESULT:
	ERROR - (3530, '`regress_vacuum`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

-- Simple table
VACUUM vacowned;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned' at line 2")

-----------
QUERY:

ANALYZE vacowned;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned' at line 1")

-----------
QUERY:

-- Catalog
VACUUM pg_catalog.pg_class;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM pg_catalog.pg_class' at line 2")

-----------
QUERY:

ANALYZE pg_catalog.pg_class;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'pg_catalog.pg_class' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) pg_catalog.pg_class;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) pg_catalog.pg_class' at line 1")

-----------
QUERY:

-- Shared catalog
VACUUM pg_catalog.pg_authid;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM pg_catalog.pg_authid' at line 2")

-----------
QUERY:

ANALYZE pg_catalog.pg_authid;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'pg_catalog.pg_authid' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) pg_catalog.pg_authid;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) pg_catalog.pg_authid' at line 1")

-----------
QUERY:

-- Partitioned table and its partitions, nothing owned by other user.
-- Relations are not listed in a single command to test ownership
-- independently.
VACUUM vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_parted' at line 4")

-----------
QUERY:

VACUUM vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_part1' at line 1")

-----------
QUERY:

VACUUM vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_part2' at line 1")

-----------
QUERY:

ANALYZE vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_parted' at line 1")

-----------
QUERY:

ANALYZE vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_part1' at line 1")

-----------
QUERY:

ANALYZE vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_part2' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_parted' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_part1' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_part2' at line 1")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

-- Partitioned table and one partition owned by other user.
ALTER TABLE vacowned_parted OWNER TO regress_vacuum;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_vacuum' at line 2")

-----------
QUERY:

ALTER TABLE vacowned_part1 OWNER TO regress_vacuum;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_vacuum' at line 1")

-----------
QUERY:

SET ROLE regress_vacuum;
RESULT:
	ERROR - (3530, '`regress_vacuum`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

VACUUM vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_parted' at line 1")

-----------
QUERY:

VACUUM vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_part1' at line 1")

-----------
QUERY:

VACUUM vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_part2' at line 1")

-----------
QUERY:

ANALYZE vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_parted' at line 1")

-----------
QUERY:

ANALYZE vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_part1' at line 1")

-----------
QUERY:

ANALYZE vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_part2' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_parted' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_part1' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_part2' at line 1")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

-- Only one partition owned by other user.
ALTER TABLE vacowned_parted OWNER TO CURRENT_USER;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO CURRENT_USER' at line 2")

-----------
QUERY:

SET ROLE regress_vacuum;
RESULT:
	ERROR - (3530, '`regress_vacuum`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

VACUUM vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_parted' at line 1")

-----------
QUERY:

VACUUM vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_part1' at line 1")

-----------
QUERY:

VACUUM vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_part2' at line 1")

-----------
QUERY:

ANALYZE vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_parted' at line 1")

-----------
QUERY:

ANALYZE vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_part1' at line 1")

-----------
QUERY:

ANALYZE vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_part2' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_parted' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_part1' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_part2' at line 1")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

-- Only partitioned table owned by other user.
ALTER TABLE vacowned_parted OWNER TO regress_vacuum;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO regress_vacuum' at line 2")

-----------
QUERY:

ALTER TABLE vacowned_part1 OWNER TO CURRENT_USER;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'OWNER TO CURRENT_USER' at line 1")

-----------
QUERY:

SET ROLE regress_vacuum;
RESULT:
	ERROR - (3530, '`regress_vacuum`@`%` is not granted to `root`@`localhost`')

-----------
QUERY:

VACUUM vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_parted' at line 1")

-----------
QUERY:

VACUUM vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_part1' at line 1")

-----------
QUERY:

VACUUM vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM vacowned_part2' at line 1")

-----------
QUERY:

ANALYZE vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_parted' at line 1")

-----------
QUERY:

ANALYZE vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_part1' at line 1")

-----------
QUERY:

ANALYZE vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'vacowned_part2' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_parted;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_parted' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_part1;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_part1' at line 1")

-----------
QUERY:

VACUUM (ANALYZE) vacowned_part2;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'VACUUM (ANALYZE) vacowned_part2' at line 1")

-----------
QUERY:

RESET ROLE;
RESULT:
	ERROR - (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE' at line 1")

-----------
QUERY:

DROP TABLE vacowned;
RESULT:
	[]

-----------
QUERY:

DROP TABLE vacowned_parted;
RESULT:
	ERROR - (1051, "Unknown table 'test.vacowned_parted'")

-----------
QUERY:

DROP ROLE regress_vacuum;
RESULT:
	[]
